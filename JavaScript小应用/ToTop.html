<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ToTop</title>

    <style>
        .nav {
            font-size: 20px;
            position: fixed;
            top: 10%;
            right: 5%;
        }
        .container {
            width:90%;
        }
        .section {
            margin: 100px 0;
        }

        #toTop {
            cursor: pointer;
            background: url("top-btn.png") no-repeat;
            width:40px;
            height: 40px;
            position: fixed;
            bottom:10%;
            right: 5%;
        }
        #toTop:hover {
            background: url("top-btn.png") 0 -40px no-repeat;
        }
    </style>
</head>
<body>
<nav>
    <ul class="nav">
        <li><a href="#sec1">To1</a></li>
        <li><a href="#sec2">To2</a></li>
        <li><a href="#sec3">To3</a></li>
        <li><a href="#sec4">To4</a></li>
        <li><a href="#sec5">To5</a></li>
        <li><a href="#sec6">To6</a></li>
        <li><a href="#">To Top</a></li>
    </ul>
    <div id="toTop" ></div>
</nav>
<div class="container">
    <div class="section " id="sec1">
        <p>0001Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec2">
        <p>0002Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec3">
        <p>0003Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec4">
        <p>0004Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec5">
        <p>0005Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec6">
        <p>0006Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec7">
        <p>0007Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec8">
        <p>0008Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
    <div class="section" id="sec9">
        <p>0008Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
            dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex
            ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
            nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit
            anim id est laborum.</p>
    </div>
</div>


<script>
    document.getElementById("sec1").onclick=function () {
        alert("asidjaskdl");
        /*看来如果给onclick事件绑定函数必须这样写。为什么？？？？*/
    }

//    document.getElementById("toTop").onclick=function () {
//        anotherScroll();
//    }
/*怎么上面的方法才能单击后生效，而下面的则自动启动？？？？*/
   var one=document.getElementById("toTop");
//    one.onclick=alert("hhh");
//    one.onclick=anotherScroll();

    function anotherScroll() {
        var process=document.documentElement.scrollTop || document.body.scrollTop;
//            process=0;
        var speed=process/5;
        document.documentElement.scrollTop=document.body.scrollTop-=speed;

        var xunhuan=setTimeout(anotherScroll,30);

        if (process==0) {
            alert("Stop!");
            clearTimeout(xunhuan);
        }
    }

    window.onload= function () {
        var btn=document.getElementById("toTop");
        var timer=null;
        var isTop=true;

        window.onscroll=function () {
            if (!isTop) {
                clearInterval(timer);
            }
            isTop=false;
        };

//        btn.onclick= scroll();
//        function scroll() {
        /*同上，直接这样写也是自动生效，看来onclick只能被赋值为有function关键字的值。
         * 为什么呢？？？？？？？ */

        btn.onclick=function scroll() {
            timer=setInterval(function () {
                var process=document.documentElement.scrollTop || document.body.scrollTop;
//            process=0;
//                var speed=Math.floor(process/5);
                /*反而用上了floor函数，到不了0了。*/

                var speed=process/5;

                document.documentElement.scrollTop=document.body.scrollTop-=speed;

                isTop=true;
                console.log(process);

                if (process==0) {
                    clearInterval(timer);
                }
            },30);
        }
    }
</script>
</body>
</html>