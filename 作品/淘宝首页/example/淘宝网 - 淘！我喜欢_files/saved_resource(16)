KISSY.add("tb-mod/tbh-banner/0.0.3/index",["offline","node","anim"],function(t,n){function i(t){this.el=t,this.init(),t.fire("M:load")}var e=n("offline"),a=new e,r=n("node"),s=r.all;return n("anim"),i.prototype={init:function(){this.bannerEl=s(".topBanner",this.el);var t=this.bannerEl.hasClass("anim"),n=this.bannerEl.attr("data-continue");if(t)if(this._hasShow())this._anim();else{var i=this;setTimeout(function(){i._anim()},1e3*n||3e3)}},_anim:function(){var t=this,n=this.bannerEl.attr("data-width"),i=this.bannerEl.attr("data-height"),e=this.bannerEl.attr("data-img");this.bannerEl.animate({height:i,opacity:.5},{duration:.3,easing:"ease-in",complete:function(){t.bannerEl.height(i),t.bannerEl.animate({opacity:1},{duration:.3}),s("img",t.bannerEl).css({width:n,height:i}).attr("src",e),t._setExpire()}})},_hasShow:function(){return a.getItem("activity-banner")},_setExpire:function(){if(!a.get("activity-banner")){var t=new Date,n=t.getHours(),i=t.getMinutes(),e=t.getSeconds(),r=60*(23-n)*60*1e3+60*(59-i)*1e3+1e3*(59-e);a.setItem("activity-banner","1",r)}}},i});KISSY.add("tb-mod/tbh-super-banner/0.0.2/index",["reporter","node","json","util","session"],function(t,i){function e(t,i){this.el=s(t),this.init()}var n=i("reporter"),o=i("node"),s=o.all,r=i("json"),a=i("util"),h=i("session");return e.prototype={init:function(){var t=s(".decorate",this.el).val();if(this._godlog(),this._openshow(),this._sidebar(),this._retina(),t)try{t=r.parse(t),this.list=t,this._bind()}catch(i){}},_bind:function(){s(window).on("load",a.bind(this._lazybind,this)),this.lazyTimer=setTimeout(a.bind(function(){this._lazybind()},this),5e3)},_lazybind:function(){function t(r){clearTimeout(i),i=setTimeout(a.bind(function(){var i=e.scrollTop()+n;this.list.length?a.each(this.list,a.bind(function(t,e){var n=t&&t.refer&&s("."+t.refer);if(n&&t.pic&&n.offset().top<=i){t.img=h.get("retina")&&t.pic2?t.pic2:t.pic;var o='<img class="decorate" src="{img}" width="{width}" height="{height}"/>',o=a.substitute(o,t),r=s(o);t.top&&r.css("top",t.top),t.left&&r.css("left",t.left),t.right&&r.css("right",t.right),t.bottom&&r.css("bottom",t.bottom),n.append(r),this.list.splice(e,1)}},o)):e.off("scroll",t)},o),50)}var i,e=s(window),n=e.height(),o=this;this.hasLoad||(this.hasLoad=!0,e.on("scroll",t))},_godlog:function(){var t=s(".taobao-2",this.el).attr("title");t&&n.send({godlog:["/tbindex.20160927.industriy","EXP",{name:t},"H1483342578"],msg:"\u8d85\u7ea7\u540a\u9876\uff0c\u6dd8\u5b9d\u5609\u5e74\u534e\u4f1a\u573a\uff1a"+t+" \u66dd\u5149"})},_openshow:function(){var t=s(".openshow",this.el).val();if(t)try{t=r.parse(t),t&&t.version&&KISSY.use("kg/openshow/"+t.version+"/index",function(i,e){var n={};t.backgroundImage&&(n.backgroundImage=t.backgroundImage),t.video&&(n.video=t.video),e.init()})}catch(i){}},_sidebar:function(){var t=s(".tbsidebar",this.el);if(t.length){var i=t.attr("data-version"),e=TB.Global.getComponentVersion("sidebar");e=e||i,KISSY.use("kg/sidebar/"+e+"/index",function(t,i){var e=new i;e.render()})}},_retina:function(){h.get("retina")&&s(".t-retina",this.el).each(function(t){var i=s(t).attr("data-bg");i&&s(t).attr("src",i)})}},e});KISSY.add("tb-mod/tbh-search/0.0.2/sticky",["anim","ua","node"],function(e,a){a("anim");var t=a("ua"),o=a("node"),n=o.all,s=n(window),r=function(){t.ie&&t.ie<=8||this.init()};return r.prototype.init=function(){var e="wrap-fixed",a=!1,t=!1,o=n("#J_SiteNav"),r=o.height(),l=n(".J_Cup"),i=n(".J_Top"),c=function(){var o=s.scrollTop(),c=l.offset().top;o>c+100?(a||(a=!0,l.addClass(e),TB.isFixed&&i.animate({top:r},{duration:.2,easing:"easeOut"})),!t&&TB.$sug&&(t=!0,TB.$sug.css({position:"fixed",top:TB.isFixed?r+39:39})),n("#J_SearchFt").hide()):(a&&(a=!1,i.css("top",0),l.removeClass(e)),t&&TB.$sug&&(t=!1,TB.$sug.css({position:"absolute",top:c+91})),n("#J_SearchFt").show(),n("#J_SearchIcon").show())};c(),s.on("scroll",c)},r}),KISSY.add("tb-mod/tbh-search/0.0.2/index",["io","ua","anim","json","node","cookie","./sticky","reporter","xtemplate","event-binder"],function(e,a){var t=a("io"),o=a("ua"),n=a("anim"),s=a("json"),r=a("node"),l=a("cookie"),i=a("./sticky"),c=a("reporter"),h=a("xtemplate"),d=a("event-binder"),u=r.all,m=document,p=window.HubCache=window.HubCache||{},g=function(e){var a=this,t=this.el=u(e);this.$tab=t.one(".J_SearchTabBox"),this.$q=u("#q"),this.$label=t.one(".J_Placeholder"),this.forms=m.forms.search,this.$icon=t.one(".J_SearchIcon"),this.events={"mouseenter #J_SearchTab":"toggleTabHandler","mouseleave #J_SearchTab":"toggleTabHandler","click .J_SearchTab":"clickTabHandler","focusin #q":"focusInputHandler","focusout #q":"blurInputHandler","keyup #q":"keyupInputHandler","input #q":"keyupInputHandler","click #J_SearchIcon":"clickIconHandler"},new i,a.cloneLine(),a.loadAlimamaWord(),a.placeholder(),a.init()};g.prototype.cloneLine=function(){u(".search-hots-lines").append(u(".search-hots-fline").clone(!0).attr({"class":"search-hots-sline","data-spm-ab":"sline"}))},g.prototype.init=function(){var e=this;e.initSearchSuggest(),e.setSPM("taobao-item"),d(this),e.el.fire("M:load")},g.prototype.placeholder=function(){function a(a){var t=a.match(/(\w+?:\/\/[^\?#&]+)(\?([^$#]+))?/);return t&&t[1]&&t[3]?{action:t[1],params:e.unparam(t[3])}:!1}var o=this,n=u(".J_TbSearchContent label"),s="//s.taobao.com/search?app=api&m=word&oeid=",r=n.attr("data-oeid");r&&t({scriptCharset:"gbk",url:s+r,dataType:"jsonp",success:function(e){if(p.be_search_input=e,e&&e.success&&e.data.length>0){var t=e.data[0],l="<span style='display:none;'>"+t.word_keyword+"</span>"+(t.word_title||t.word_keyword);if(n.html(l).attr("data-searchtype-item",l).show(),!t.word_url)return;var i=a(t.word_url);u(".J_SearchPanel form").attr("action",i.action);for(var h in i.params)"q"!=h&&o.hidden(!0,h,i.params[h])}else n.show(),c.send({category:"ERROR_NODATA_"+s+r,msg:"API: "+ +s+r},"warn")},error:function(){n.show(),c.send({category:"ERROR_FAILED_"+s+r,msg:"API: "+ +s+r},"warn")}})};var f=window.suggestModuleVersion||"6.2.3";return g.prototype.initSearchSuggest=function(){var a=this;e.use("kg/search-suggest/"+f+"/index,kg/search-suggest/"+f+"/plugin/history,kg/search-suggest/"+f+"/plugin/cloud,kg/search-suggest/"+f+"/plugin/tab,kg/search-suggest/"+f+"/plugin/history-magic,kg/search-suggest/"+f+"/plugin/imgsearch,kg/search-suggest/"+f+"/theme/pailitao/,kg/search-suggest/"+f+"/new_suggest.css",function(e,t,n,s,r,l,i,h){var d=this,p=["channelEntry","history","c2c_activity","dapei_top","cat","global","list","dapei_bottom","scene","shop","tmall","cloud"],g=[new n,new r({activeCls:"selected",node:a.el.all("li.J_SearchTab")}),new s,new l],f="//suggest.taobao.com/sug?k=1&area=c2c",b=!(u(m).scrollTop()>0),_="";if(!(o.ie&&o.ie<=7)){var v=new i({input:"#J_IMGSeachUploadBtn",type:"iframe",theme:new h({formNode:"#J_TSearchForm",queueTarget:"#J_UploaderMessage"})});g.push(v),u("#J_UploaderPanel").show()}var y=new t({placeholder:{show:!0,node:"#tbSearchContent",api:"//suggest.taobao.com/sug?area=shade_recommand&code=utf-8"},plugins:g,sugConfig:{sourceUrl:f,node:"#q",focused:b,resultFormat:_},mods:{sort:p,tmall:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-mall" data-key="q={tmall}&suggest=tmall_{$index}&tab=mall">','<span class="{prefixCls}menu-key">{tmall}</span>',"<b>\u5929\u732b\u76f8\u5173</b>","</div>"].join("")},scene:{tmpl:['<div class="{prefixCls}menu-extras-cate extras-scene" data-action="http://fa.taobao.com/search" data-key="q={scene}&suggest=scene_{$index}">','<span class="{prefixCls}menu-key">{scene}</span>',"<b>\u88c5\u4fee\u5b9d\u5178/\u9009\u8d2d\u79d8\u7c4d</b>","</div>"].join("")}}});y.on("beforeImageSuccess",function(){c.send({msg:"\u56fe\u7247\u4e0a\u4f20\u6210\u529f"})}),y.comboBox.on("beforeShow",function(){TB.$sug||(TB.$sug=y.get("menu").get("el"))}),y.comboBox.on("click",function(){c.send(u(".J_Cup").hasClass("wrap-fixed")?{goldlog:["/tbindex.2014.11","",{type:2},"H46896547"]}:{goldlog:["/tbindex.2014.11","",{type:1},"H46896547"]})}),o.ie&&11===o.ie&&y.comboBox.get("menu").on("afterRenderUI",function(){this.get("el").on("click",{fn:function(e){y.comboClick(e)},once:!0})}),a.comboBox=y.comboBox,b||d.forms&&(d.forms.className=""),u(".btn-search").on("click",function(t){t.halt();var o,n=a.$q,s=u("#J_TSearchForm");if(""===e.trim(n.val())){if(a.isTmall)o=u(".J_TmallPlaceholder").children("label").attr("data-q"),a.hidden(!0,"from","tbmain_1_placeholder");else{a.setSPM("taobao-item");var r=u("span",".J_TbPlaceholder");r&&r.length&&(o=r.text(),s.append('<input type="hidden" name="hintq" value="1">')),a.hidden(!1)}a.$label.hide(),n.val(o)}else a.setSPM("taobao-item");s.fire("submit")})})},g.prototype.setSPM=function(a){var t=this,o=[u("meta[name=spm-id]").attr("content")];o.push(u("body").attr("data-spm")),o.push(t.el.attr("data-spm")+"-"+a),o.push(e.trim(u("#q").val())?"1":"2"),t.forms.spm.value=o.join(".")},g.prototype.toggleTabHandler=function(e){var a=this,t=e.type;"mouseenter"===t?a.$tab.addClass("triggers-hover"):a.$tab.removeClass("triggers-hover")},g.prototype.clickTabHandler=function(e){var a=this,t=u(e.currentTarget);if(u(".J_Cup").hasClass("wrap-fixed")){var o=u("ul",a.$tab),n=o.item(0);t[0]!==n[0]&&o.prepend(t)}a.forms.search_type.value=t.attr("data-searchType"),a.isTmall="true"===t.attr("data-tmall"),a.isTmall?(u(".J_SearchPanel").addClass("tmall-search-panel"),a.setSPM("tmall"),a.loadTmallWord(),u(".J_TmallSearchContent").show(),u(".J_TbSearchContent").hide()):(u(".J_SearchPanel").removeClass("tmall-search-panel"),a.setSPM("taobao-item"),u(".J_TmallSearchContent").hide(),u(".J_TbSearchContent").show()),a.$q.val()&&u(".J_TmallSearchContent, .J_TbSearchContent").hide()},g.prototype.hidden=function(e,a,t){var o=u(".J_SearchPanel").all("form");if(e){var n='<input type="hidden" name="{{name}}" value="{{value}}" class="hidden-{{name}}">',s=new h(n).render({name:a,value:t});u(".hidden-"+a).length||o.append(s)}else{var r=u(".hidden-"+a);r.length&&r.remove()}},g.prototype.loadAlimamaWord=function(){var e=this,a=TB&&TB.Global&&TB.Global.getNick(),o=l.get("cna"),n="//textlink.simba.taobao.com";t({scriptCharset:"gbk",url:n,dataType:"jsonp",data:{name:"tbhs",cna:o,nn:encodeURIComponent(a)||"",count:13,pid:"430266_1006"},timeout:4}).then(function(a){var t=a[0];if(p.be_search_hotlinks=t,t.success&&t.data&&t.data.length>0){var o='{{#each (data)}}<a href="{{link}}" {{#if (highlight)}} class="h"{{/if}}>{{query}}</a>{{/each}}',r=new h(o).render(t);u(".search-hots-sline").html(r),e._alimamaWordRun()}else c.send({category:"ERROR_NODATA_"+n,msg:"API: "+n+", DATA: "+s.stringify(t).slice(0,500),sampling:10},"warn")}).fail(function(){c.send({category:"ERROR_FAILED_"+n,msg:"API: "+n},"warn")})},g.prototype._alimamaWordRun=function(){var e=.6,a="ease-out";u(".search-hots-lines").css("top",0),setTimeout(function(){new n(u(".search-hots-lines"),{top:-23},e,a).run()},10)},g.prototype.loadTmallWord=function(){var e=this;if(e.tmallWord)return e.tmallWord;var a='<div class="search-hots">{{#each (list)}}<a href="http://list.tmall.com/search_product.htm?sourceId=tb.index&commend=all&q={{query}}&from=tbmain_1.{{xindex}}_hq" {{#if (highlight)}} class="h"{{/if}}>{{query}}</a>{{/each}}</div>',o="//suggest.taobao.com/sug?area=tmall-hq&code=utf-8&src=tbmain";t({scriptCharset:"gbk",url:o,dataType:"jsonp"}).then(function(t){var o=t[0];if(p.be_search_tmall=o,o.success){e.tmallWord=o;var n=o.model,s=n.placeholder&&n.placeholder[0];s&&u(".J_TmallPlaceholder").all("label").text(s.text).attr("data-q",s.query);var r=new h(a).render(n);u(".J_TmallHotWord").html(r)}})},g.prototype.focusInputHandler=function(){var e=this;e.forms.className="search-panel-focused"},g.prototype.blurInputHandler=function(){var a=this;""===e.trim(a.$q.val())&&(a.forms.className="")},g.prototype.keyupInputHandler=function(){var a=this;""===e.trim(a.$q.val())?(u(".J_Placeholder").hide(),a.isTmall?u(".J_TmallSearchContent").show():u(".J_TbPlaceholder").show(),a.$icon.show()):(a.$label.hide(),a.$icon.hide()),a.$q.val()&&u(".J_TmallSearchContent, .J_TbSearchContent").hide()},g.prototype.clickIconHandler=function(){var e=this;e.$q.fire("focus")},g});KISSY.add("tb-mod/tbh-logo/0.0.1/index",["node"],function(n,t){function o(){this.init()}{var i=t("node");i.all}return o.prototype.init=function(){},o});KISSY.add("tb-mod/tbh-qr/0.0.3/index",["node","webp","event-binder"],function(e,t){var i=t("node"),n=t("webp"),d=t("event-binder"),r=i.all,o=function(e){this.el=r(e),this.events={"click .J_QrFt":"hideHandler"},this.init()};return o.prototype.init=function(){d(this),n(this.el.all("img"))},o.prototype.hideHandler=function(){var e=this;e.el.hide()},o});KISSY.add("tb-mod/tbh-nav/0.0.4/index",function(n,t){var d=function(n){};return d});KISSY.add("tb-mod/tbh-tanx/0.0.1/index",["tanx"],function(n,t){var a=t("tanx");return a});KISSY.add("tb-mod/tbh-promo/0.0.5/index",["webp","tanx","node","aladdin","slide","reporter"],function(e,n){var a=n("webp"),t=n("tanx"),o=n("node"),i=n("aladdin"),l=n("slide"),r=n("reporter"),s={},d=o.all,u=function(){this.init.apply(this,arguments)};return u.prototype={init:function(e){var n=this;n.el=d(e),n.$opt=n.el.all(".J_PromoOpt"),this._bind();var a=n.index=n.el.one(".promo-bd").attr("data-index")||0;a=parseInt(a);var t=window.location.search.slice(1),o=n.el.one(".mod-six");if(o&&t){var i=KISSY.unparam(t);i&&null!==i.six?n.gosix=1:o.remove()}else o&&o.remove();n.initSlider(a)},_bind:function(){this.el.delegate("click",".J_Prev",this._prev,this),this.el.delegate("click",".J_Next",this._next,this)},initSlider:function(e){var n=this;if(!d(".promo-bd .mod").length)return void r.send({category:"ERROR_Promo_Module_Init_Faild",msg:"Promo \u6a21\u5757\u5728\u670d\u52a1\u5668\u6784\u5efa\u5931\u8d25"},"warn");if(n.slide=new l(n.el,{contentClass:"promo-bd",pannelClass:"mod",navClass:"promo-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0,defaultTab:parseInt(e)}),n.el.on("mouseenter",function(){n.$opt.show()}),n.el.on("mouseleave",function(){n.$opt.hide()}),n.slide.on("beforeSwitch",function(e){var t=e.index;if(1!==s[t]){var o=e.pannelnode;a(o.all("img"),null,"IGNORE_WEBP"),n.loadContent(o,t)}s[t]||(s[t]=!0,r.send({goldlog:["/tbindex.promo.promo","EXP",{index:t},"H1476877900"],msg:"\u9996\u7126\u7b2c "+t+" \u5e27\u66dd\u5149"}))}),n.gosix)return n.slide.go(6),void n.el.fire("M:load");n.renderTanx(),0==e&&e++;var t=n.slide.pannels.item(e);n.loadContent(t),n.el.fire("M:load")},renderTanx:function(){this.el.all(".J_Tanx").each(function(e){var n=d(e),a=Number(n.attr("data-lazychance"));a=isNaN(a)?1:a;var o=Math.random()>=a;o&&(new t(n),n.removeClass("J_Tanx"))})},loadContent:function(e,n){var a=this,o=e.hasClass("J_Tanx"),l=e.hasClass("J_Ald");o&&(new t(e),e.removeClass("J_Tanx")),l&&(new i(e,null,"",function(e){a.addADTag(e)}),e.removeClass("J_Ald")),o||l||(s[n]=1)},_prev:function(e){var n=this;e.preventDefault(),n.slide.previous()},_next:function(e){var n=this;e.preventDefault(),n.slide.next()},addADTag:function(e){var n=1==e.attr("data-show")?!0:!1,a=d("a",e);n&&0==d(".ad-tags",a).length&&a.append('<span class="ad-tags">\u5e7f\u544a</span>')}},u});KISSY.add("tb-mod/tbh-tmall/0.2.2/index",["webp","tanx","node","aladdin","slide","reporter","event-binder","offline","io"],function(e,a){var t=(a("webp"),a("tanx")),n=a("node"),i=a("aladdin"),l=a("slide"),r=a("reporter"),s=a("event-binder"),o=a("offline"),d=(a("io"),new o),h=n.all,g={},p={},u=function(e){this.el=h(e),this.$opt=this.el.all(".J_TmallOpt"),this.events={"click .J_Prev":"prevHandler","click .J_Next":"nextHandler"},this.retina=!!d.getItem("retina"),this.webp=!!d.getItem("webp"),this.init()};return u.prototype={init:function(){var e=this;e.initSlider(),s(this)},initSlider:function(){var e=this;if(!h(".tmall-bd .mod").length)return void r.send({category:"ERROR_Tmall_Module_Init_Faild",msg:"Tmall \u6a21\u5757\u5728\u670d\u52a1\u5668\u6784\u5efa\u5931\u8d25"},"warn");e.slide=new l(e.el,{contentClass:"tmall-bd",pannelClass:"mod",navClass:"tmall-nav",effect:"hSlide",timeout:5e3,carousel:!0,autoSlide:!0,touchmove:!0}),e.el.on("mouseenter",function(){e.$opt.show()}),e.el.on("mouseleave",function(){e.$opt.hide()}),e.slide.on("beforeSwitch",function(a){var t=a.pannelnode,n=t.index();7==t.index()&&(n=1),0==t.index()&&(n=6),h(".tmall-hd strong i").text(n),p[n]||(e.loadContent(t,n),e.loadTanx(t))}),e.renderTanx();var a=e.slide.pannels.item(1);e.loadContent(a,1),e.el.fire("M:load")},prevHandler:function(e){var a=this;e.preventDefault(),a.slide.previous()},nextHandler:function(e){var a=this;e.preventDefault(),a.slide.next()},renderTanx:function(){this.el.all(".J_Tanx").each(function(e){var a=h(e),n=Number(a.attr("data-lazychance"));n=isNaN(n)?1:n;var i=Math.random()>=n;i&&(new t(a),a.removeClass("J_Tanx"))})},loadContent:function(e,a){var t=this;if(e.addClass("mod-loaded"),e.hasClass("J_TanxWrapper"))return a in g||(g[a]=1,r.send({goldlog:["/tbindex.2016201863.1","",{frame:a},"H47671113"],msg:"\u5929\u732b\u7cbe\u9009\u7b2c "+a+" \u5e27\u66dd\u5149"})),void this.loadTanx(e);if(e.hasClass("J_Ald")){a in g||(g[a]=1,r.send({goldlog:["/tbindex.2016201863.1","",{frame:a},"H47671113"],msg:"\u5929\u732b\u7cbe\u9009\u7b2c "+a+" \u5e27\u66dd\u5149"}));var l=e.attr("data-id"),s=n.one(".J_Ald_"+l),o=!!e.attr("data-share"),d=this.getSize(e);if(o){if(e.hasClass("done"))return;return void i.load(l,function(a){var n=t._getBgs(e);if(a){var s,o=parseInt(e.attr("data-start"),10)||0,h=parseInt(e.attr("data-len"),10)||a.length;a&&a[l]&&a[l].data&&a[l].data.length>0?(s=a[l].data.slice(o,o+h),s&&s.length===h?i.render(e,s,d):(r.send({category:"ERROR_ALD_Load_Crash",msg:"Ald \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25 "+l+["\u5f00\u59cb\u4f4d\u7f6e\uff1a",o," \u957f\u5ea6\u4e3a\uff1a",h,"\u5b9e\u9645\u8fd4\u56de\u957f\u5ea6\uff1a",a.length].join(",")},"warn"),i.loadTms(l))):i.loadTms(l)}else i.loadTms(l);t._bg(e,n),e.addClass("done")})}if(s&&!s.hasClass("J_Ald"))return e.html(s.html()),void e.removeClass("J_Ald");new i(e,function(){},d),e.removeClass("J_Ald"),open&&this._bg(e)}p[a]=!0},_bg:function(e,a){e.attr("data-open")&&h("a",e).each(function(e,t){if(e=h(e),a[t]){var n=a[t].bg,i=a[t].bg2;n&&(e.css({background:"url("+n+") 0 0 no-repeat"}),i&&e.css("background-image","-webkit-image-set(url("+n+") 1x,url("+i+") 2x)"))}})},_getBgs:function(e){if(e.attr("data-open")){var a=[];return h("a",e).each(function(e){e=h(e);var t=e.attr("data-bg"),n=e.attr("data-bgr");a.push({bg:t,bg2:n})}),a}},loadTanx:function(e){if(e.hasClass("J_TanxWrapper")){var a=e.all(".J_Tanx");a.each(function(e){new t(e)});var i,l=!1,r=function(){if(!l){var a=n.one(".tanx-wrapper");if(a.all("img").length){var t=a.html();e.html(t).removeClass("J_TanxWrapper"),l=!0}else i=setTimeout(r,50)}};r()}},getSize:function(e){var a="_240x240.jpg";return e.hasClass("mod-5")?a=this.retina?"_350x1000q90.jpg":"_210x1000q90.jpg":e.hasClass("mod-6")?a=this.retina?"_350x350.jpg":"_190x190.jpg":e.hasClass("mod-4")&&(a=this.retina?"_350x350.jpg":"_200x200.jpg"),e.hasClass("mod-12")?a=this.retina?"_170x170.jpg":"_90x90.jpg":e.hasClass("mod-2")&&(a=this.retina?"_400x400q90.jpg":"_240x240.jpg"),this.webp&&this.retina&&(a+="_.webp"),a}},u});KISSY.add("tb-mod/tbh-member/0.1.2/login-xtpl",function(e,t,a,i){var r=i.exports=function(e){{var t,a=this,i=a.root,r=a.buffer,o=a.scope,n=(a.runtime,a.name,a.pos),s=o.data,l=o.affix,m=i.nativeCommands,d=i.utils;d.callFn,d.callDataFn,d.callCommand,m.range,m["void"],m.foreach,m.forin,m.each,m["with"],m["if"],m.set,m.include,m.parse,m.extend,m.block,m.macro,m["debugger"]}r.data+='<div class="member-column-4">\n    <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitConfirm">\n        <strong>',n.line=3;var c=(t=l.a)!==e?t:(t=s.a)!==e?t:o.resolveLooseUp(["a"]);r=r.writeEscaped(c),r.data+='</strong>\u5f85\u6536\u8d27\n    </a>\n    <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitSend">\n        <strong>',n.line=6;var b=(t=l.d)!==e?t:(t=s.d)!==e?t:o.resolveLooseUp(["d"]);r=r.writeEscaped(b),r.data+='</strong>\u5f85\u53d1\u8d27\n    </a>\n    <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitPay">\n        <strong>',n.line=9;var u=(t=l.b)!==e?t:(t=s.b)!==e?t:o.resolveLooseUp(["b"]);r=r.writeEscaped(u),r.data+='</strong>\u5f85\u4ed8\u6b3e\n    </a>\n    <a href="//buyertrade.taobao.com/trade/itemlist/list_bought_items.htm?action=itemlist/BoughtQueryAction&event_submit_do_query=1&tabCode=waitRate">\n        <strong>',n.line=12;var h=(t=l.c)!==e?t:(t=s.c)!==e?t:o.resolveLooseUp(["c"]);return r=r.writeEscaped(h),r.data+="</strong>\u5f85\u8bc4\u4ef7\n    </a>\n</div>",r};r.TPL_NAME=i.id||i.name}),KISSY.add("tb-mod/tbh-member/0.1.2/index",["io","node","cookie","offline","reporter","./login-xtpl","tms/xtemplate"],function(e,t){function a(){return b.getTag()}function i(e){return b.getNick(e)}var r=t("io"),o=t("node"),n=t("cookie"),s=t("offline"),l=t("reporter"),m=t("./login-xtpl"),d=t("tms/xtemplate"),c=new s,b=window.TB&&TB.Global,u=b&&b.isLogin(),h={"\u5317\u4eac":"member-bg-beijing","\u4e0a\u6d77":"member-bg-shanghai","\u5e7f\u5dde":"member-bg-guangzhou","\u6df1\u5733":"member-bg-shenzhen","\u676d\u5dde":"member-bg-hangzhou","default":"member-bg-default"},g=o.all,f="//i.taobao.com/my_taobao.htm?ad_id=&am_id=&cm_id=&pm_id=1501036000a02c5c3739",p="//wwc.alicdn.com/avatar/getAvatar.do?userNick={userNick}&width=80&height=80&type=sns&_input_charset=UTF-8",_="//vip.taobao.com",v="//i.taobao.com/json/my_taobao_remind_data.htm",y="//taojinbi.taobao.com/index.htm",w=y+"?auto_take=true",C=function(e){this.el=g(e),this.tag=a(),this.init(),this.bg()};return C.prototype={bg:function(){var e=g(".member",this.el),t=e.attr("data-img");t||(u?this.setBg():this.el.addClass(h["default"]))},setBg:function(){var e=c.getItem("city");return e&&h[e]?void this.el.addClass(h[e]):(this.el.addClass(h["default"]),void setTimeout(function(){r({url:"//tbip.alicdn.com/api/queryip",dataType:"jsonp",success:function(e){if(e&&e.data&&e.data.city){var t=e.data.city,a=/\u5317\u4eac|\u4e0a\u6d77|\u5e7f\u5dde|\u6df1\u5733|\u676d\u5dde/.exec(t);a=a&&a[0],a&&c.setItem("city",a)}}})},8e3))},init:function(){var t=this;if(this.renderApass(),u){var a=t.el.all(".J_MemberClub");t.tag<1&&a.attr("href","//new.taobao.com");var r=t.el.all(".J_MemberPunch");r.attr({href:y,"data-spm":"d1"}),t.render()}else t.el.all(".J_MemberAvatar").attr({src:e.substitute(p,{userNick:i(!0)})}),t.el.fire("M:load")},render:function(){var t=this,o=t.el.all(".J_MemberHome"),n=t.el.all(".J_MemberNick"),s=t.el.all(".J_MemberAvatar"),m=t.el.all(".J_MemberVip");o.attr("href",f),i()&&n.html(i()),s.attr({src:e.substitute(p,{userNick:i(!0)})}),isNaN(t.tag)||(m.addClass("vip-icon vip-icon-"+a()).attr("href",_).css("display","inline-block"),r({scriptCharset:"gbk",url:v,dataType:"jsonp",success:function(e){t.remind(e)},error:function(){l.send({category:"ERROR_Member_Login_Detect_Crash",msg:"\u4f1a\u5458\u533a\u57df\uff0c\u67e5\u8be2\u6536\u8d27\u4fe1\u606f\u63a5\u53e3\u83b7\u53d6\u5931\u8d25"},"warn")}})),t.el.fire("M:load")},renderApass:function(){var e=n.get("uc1"),t=e&&e.match(/pas=(\d)/),a=~~(t&&t[1]);a&&g(".J_MemberApass").attr("href","//apass.taobao.com/").css("display","inline-block")},remind:function(e){var t=this,a=t.el.all(".J_MemberLogin"),i=t.el.all(".J_MemberLogout"),r="true"===e[6];if(r){g(".member-tjb").addClass("member-tjb-login");var o=new d(m),n=o.render({a:e[3]||0,b:e[1][0]||0,c:e[2]||0,d:e[7]||0});a.html(n).show(),i.animate({marginTop:"-25px"},.2,"easeOut");var s=t.el.all(".J_MemberPunch");s.attr({href:w,"data-spm":"d2"})}}},C});KISSY.add("tb-mod/tbh-notice/0.0.7/index",["component","node","slide"],function(t,e){function n(t,e){this.el=l(t),n.superclass.constructor.apply(this)}var o=e("component"),i=e("node"),s=e("slide"),l=i.all;return o["extends"](n,{init:function(){this.el.fire("M:load");var t=this,e=new s(this.el,{contentClass:"notice-bd",pannelClass:"mod",navClass:"notice-hd",eventType:"mouseenter"});this._godlog("\u516c\u544a"),e.on("afterSwitch",function(e){var n=l("li.selected",t.el).text();t._godlog(n)})},_godlog:function(t){this.store[t]||(this.store[t]=!0,this.godlog("/tbindex.2016092702.notice","EXP",{name:t},"H1482418995","\u516c\u544a\u66dd\u5149\uff1a"+t))},defaults:function(){return{store:{},name:"tbh-notice"}}}),n});KISSY.add("tb-mod/tbh-conve/0.0.5/index",["io","node","slide","reporter","event-binder"],function(e,o){function t(e){this.el=r(e),this.init()}var n=o("io"),a=o("node"),s=o("slide"),i=o("reporter"),l=o("event-binder"),r=a.all,c={game:"/markets/tbhome/bianming-game",baoxian:"/markets/tbhome/bianming-baoxian",trip:"/markets/tbhome/bianming-trip",phone:"/markets/tbhome/bianming-phone"},d="//www.taobao.com";return/(alicdn|taobao)\.com$/.test(window.location.host)&&(d="//"+window.location.host),"tms-preview.taobao.com"===window.location.host&&(d="//tms-preview.taobao.com/wh/tms/taobao/page"),t.prototype.init=function(){var e=this;e.$floats=r(".conve-list .conve-float"),e.events={"mouseenter .conve-float":"showConveBox","mousemove .conve-float":"showConveBox","click .conve-bd-box-close":"closeConveBox"},l(e),e.bindCloseAction(),e.el.fire("M:load")},t.prototype.showConveBox=function(e){var o=this,t=r(e.currentTarget),n=t.index();if(t.hasClass("conve-float")){if(o.el.one(".conve").addClass("conve_on"),o.el.one(".conve_on")&&(o.el.all(".conve-float").removeClass("selected"),t.addClass("selected")),o.slide)return clearTimeout(o.timer),void(o.timer=setTimeout(function(){t.addClass("selected"),o.slide.go(n)},100));t.addClass("selected"),o.slide=new s(o.el,{contentClass:"conve-bd-box",pannelClass:"conve-bd-item",navClass:"conve-list",selectedClass:"selected",triggerSelector:".conve-float",triggerDelay:300,eventType:"mouseenter",defaultTab:n+1}),o.slide.on("beforeSwitch",function(e){o["goto"](e.index)}),o["goto"](n)}},t.prototype["goto"]=function(e){var o=this,t=o.el.all(".conve-list li").item(e).attr("data-name");if(t){var a=r(".J_Conve_"+t);r(".J_convePop").hide(),a.hasClass("loading")&&n({scriptCharset:"gbk",url:d+c[t],cache:!1,dataType:"html",success:function(e){return e?void a.removeClass("loading").html(e,!0):void i.send({category:"Error_conve_load_html_err",msg:"\u83b7\u53d6 conve \u6a21\u5757\u7684 "+t+" \u5931\u8d25\uff01"})},error:function(){i.send({category:"Error_conve_load_html_err",msg:"\u83b7\u53d6 conve \u6a21\u5757\u7684 "+t+" \u5931\u8d25\uff01"})}})}},t.prototype.closeConveBox=function(){var e=this;clearTimeout(e.timer),e.el.one(".conve").removeClass("conve_on"),e.el.all(".conve-float").removeClass("selected")},t.prototype.bindCloseAction=function(){var e=this;r("body").on("mousedown",function(o){var t=r(o.target),n=t.parent(".J_Module"),a=o.target.nodeName.toLowerCase();("body"===a||t.hasClass("cup")||n&&!n.parent(".J_Module")&&!n.hasClass("tbh-conve"))&&e.closeConveBox()})},t});KISSY.add("tb-mod/tbh-service/0.2.3/cat-xtpl",function(e,a,t,n){var r=n.exports=function(e){function a(e,a,t){var n=e.data,r=e.affix;a.data+='\n    <a href="',v.line=7;var i=(o=r.link)!==t?o:(o=n.link)!==t?o:e.resolveLooseUp(["link"]);a=a.write(i),a.data+='"><img src="';var s=(o=r.logo)!==t?o:(o=n.logo)!==t?o:e.resolveLooseUp(["logo"]);a=a.write(s),a.data+='_60x60.jpg" alt="';var c=(o=r.name)!==t?o:(o=n.name)!==t?o:e.resolveLooseUp(["name"]);a=a.writeEscaped(c),a.data+='"/><em>';var d=(o=r.name)!==t?o:(o=n.name)!==t?o:e.resolveLooseUp(["name"]);a=a.writeEscaped(d),a.data+='</em></a>\n    <a href="',v.line=8;var l=(o=r.more)!==t?o:(o=n.more)!==t?o:e.resolveLooseUp(["more"]);return a=a.write(l),a.data+='"><span>\u66f4\u591a <i class="tb-icon">&#x27a4;</i></span></a>\n    ',a}function t(e,a,t){e.data,e.affix;return a.data+=' class="h"',a}function n(e,a,n){var r=e.data,i=e.affix;a.data+="\n    ",v.line=13;var s=(o=i.h)!==n?o:(o=r.h)!==n?o:e.resolveLooseUp(["h"]),d=s;d=s===!0;var l=d;if(!l){var u=(o=i.h)!==n?o:(o=r.h)!==n?o:e.resolveLooseUp(["h"]),f=u;f=1===u,l=f}var h=l;if(!h){var m=(o=i.h)!==n?o:(o=r.h)!==n?o:e.resolveLooseUp(["h"]),p=m;p="true"===m,h=p}var g;g=w.call(c,e,{hash:[{key:["h"],value:h,depth:0}]},a);var x=g;a=a.writeEscaped(x),a.data+='\n    <a href="',v.line=14;var E=(o=i.link)!==n?o:(o=r.link)!==n?o:e.resolveLooseUp(["link"]);a=a.write(E),a.data+='"';var I=(o=i.h)!==n?o:(o=r.h)!==n?o:e.resolveLooseUp(["h"]);a=b.call(c,e,{params:[I],fn:t},a),a.data+=">";var L=(o=i.name)!==n?o:(o=r.name)!==n?o:e.resolveLooseUp(["name"]);return a=a.writeEscaped(L),a.data+="</a>\n  ",a}function r(e,t,r){var i=e.data,d=e.affix;t.data+='\n<div class="service-panel">\n  <h5>\n    ',v.line=5;var l=(o=d.head)!==r?o:(o=i.head)!==r?o:e.resolveLooseUp(["head"]),u=l;if(u){var f=(o=d.head)!==r?null!=o?s=o[0]:o:(o=i.head)!==r?null!=o?s=o[0]:o:e.resolveLooseUp(["head",0]);u=f}var h;h=w.call(c,e,{hash:[{key:["head"],value:u,depth:0}]},t);var m=h;t=t.writeEscaped(m),t.data+="\n    ",v.line=6,v.line=6;var p=(o=d.head)!==r?o:(o=i.head)!==r?o:e.resolveLooseUp(["head"]);t=x.call(c,e,{params:[p],fn:a},t),t.data+="\n  </h5>\n  <p>\n  ",v.line=12,v.line=12;var b=(o=d.list)!==r?o:(o=i.list)!==r?o:e.resolveLooseUp(["list"]);return t=g.call(c,e,{params:[b],fn:n},t),t.data+="\n  </p>\n</div>\n",t}function i(e,a,t){var n=e.data,i=e.affix;a.data+="\n",v.line=2,v.line=2;var s=(o=i.xindex)!==t?o:(o=n.xindex)!==t?o:e.resolveLooseUp(["xindex"]),d=s;return d=3>s,a=b.call(c,e,{params:[d],fn:r},a),a.data+="\n",a}{var o,s,c=this,d=c.root,l=c.buffer,u=c.scope,v=(c.runtime,c.name,c.pos),f=u.data,h=u.affix,m=d.nativeCommands,p=d.utils,g=(p.callFn,p.callDataFn,p.callCommand,m.range,m["void"],m.foreach,m.forin,m.each),x=m["with"],b=m["if"],w=m.set;m.include,m.parse,m.extend,m.block,m.macro,m["debugger"]}l.data+="",v.line=1;var E=(o=h.data)!==e?o:(o=f.data)!==e?o:u.resolveLooseUp(["data"]);return l=g.call(c,u,{params:[E],fn:i},l),l.data+="\n",l};r.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/tbh-service/0.2.3/item-xtpl",function(e,a,t,n){var r=n.exports=function(e){{var a,t,n=this,r=n.root,i=n.buffer,o=n.scope,s=(n.runtime,n.name,n.pos),c=o.data,d=o.affix,l=r.nativeCommands,u=r.utils;u.callFn,u.callDataFn,u.callCommand,l.range,l["void"],l.foreach,l.forin,l.each,l["with"],l["if"],l.set,l.include,l.parse,l.extend,l.block,l.macro,l["debugger"]}i.data+='<div class="service-float-item" data-index="';var v=(a=d.data)!==e?null!=a?t=a.index:a:(a=c.data)!==e?null!=a?t=a.index:a:o.resolveLooseUp(["data","index"]);i=i.writeEscaped(v),i.data+='">\n  <div class="service-fi-links loading" data-spm-ab="links-',s.line=2;var f=(a=d.data)!==e?null!=a?t=a.index:a:(a=c.data)!==e?null!=a?t=a.index:a:o.resolveLooseUp(["data","index"]);i=i.writeEscaped(f),i.data+='"></div>\n  <div class="service-rmd">\n    <h3><i class="tb-icon">&#xe618;</i>\u731c\u4f60\u559c\u6b22</h3>\n    <div class="desc">\u5b9e\u65f6\u63a8\u8350\u6700\u9002\u5408\u4f60\u7684\u5b9d\u8d1d</div>\n    <div class="service-rmd-list loading" data-spm-ab="rmds-',s.line=6;var h=(a=d.data)!==e?null!=a?t=a.index:a:(a=c.data)!==e?null!=a?t=a.index:a:o.resolveLooseUp(["data","index"]);return i=i.writeEscaped(h),i.data+='"></div>\n  </div>\n</div>\n',i};r.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/tbh-service/0.2.3/banner-xtpl",function(e,a,t,n){var r=n.exports=function(e){function a(e,a,t){var n=e.data,i=e.affix;a.data+='\n  <span class="dacu-icon ',l.line=6;var o=(r=i.dacuIcon)!==t?r:(r=n.dacuIcon)!==t?r:e.resolveLooseUp(["dacuIcon"]);return a=a.writeEscaped(o),a.data+='"></span>\n  ',a}function t(e,t,n){var i=e.data,s=e.affix;t.data+='\n<a href="',l.line=3;var c=(r=s.url)!==n?r:(r=i.url)!==n?r:e.resolveLooseUp(["url"]),d=c;if(!d){var u=(r=s.link)!==n?r:(r=i.link)!==n?r:e.resolveLooseUp(["link"]);d=u}t=t.write(d),t.data+='">\n  <img src="',l.line=4;var v=(r=s.pic)!==n?r:(r=i.pic)!==n?r:e.resolveLooseUp(["pic"]),f=v;if(!f){var h=(r=s.img)!==n?r:(r=i.img)!==n?r:e.resolveLooseUp(["img"]);f=h}t=t.write(f),t.data+="";var p;p=m(o,e,{params:["110x110","200x200","q90",!0]},t,["$runtime","suffix"]);var x=p;t=t.writeEscaped(x),t.data+='" alt="';var b=(r=s.itemName)!==n?r:(r=i.itemName)!==n?r:e.resolveLooseUp(["itemName"]),w=b;if(!w){var E=(r=s.title)!==n?r:(r=i.title)!==n?r:e.resolveLooseUp(["title"]);w=E}t=t.writeEscaped(w),t.data+='"/>\n  ',l.line=5,l.line=5;var I=(r=s.dacuIcon)!==n?r:(r=i.dacuIcon)!==n?r:e.resolveLooseUp(["dacuIcon"]);t=g.call(o,e,{params:[I],fn:a},t),t.data+='\n  <span class="li-name">',l.line=8;var L=(r=s.itemName)!==n?r:(r=i.itemName)!==n?r:e.resolveLooseUp(["itemName"]),y=L;if(!y){var B=(r=s.title)!==n?r:(r=i.title)!==n?r:e.resolveLooseUp(["title"]);y=B}return t=t.writeEscaped(y),t.data+="</span>\n</a>\n",t}function n(e,a,n){var i=e.data,s=e.affix;a.data+="\n",l.line=2,l.line=2;var c=(r=s.xindex)!==n?r:(r=i.xindex)!==n?r:e.resolveLooseUp(["xindex"]),d=c;return d=6>c,a=g.call(o,e,{params:[d],fn:t},a),a.data+="\n",a}{var r,i,o=this,s=o.root,c=o.buffer,d=o.scope,l=(o.runtime,o.name,o.pos),u=d.data,v=d.affix,f=s.nativeCommands,h=s.utils,m=h.callFn,p=(h.callDataFn,h.callCommand,f.range,f["void"],f.foreach,f.forin,f.each),g=(f["with"],f["if"]);f.set,f.include,f.parse,f.extend,f.block,f.macro,f["debugger"]}c.data+="",l.line=1;var x=(r=v.data)!==e?null!=r?i=r.recItemList:r:(r=u.data)!==e?null!=r?i=r.recItemList:r:d.resolveLooseUp(["data","recItemList"]);return c=p.call(o,d,{params:[x],fn:n},c),c.data+="\n\n",c};r.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/tbh-service/0.2.3/index",["anim","component","promise","node","json","aladdin","ua","./cat-xtpl","./item-xtpl","./banner-xtpl","util","url","session"],function(e,a){function t(e){this.el=m(e),t.superclass.constructor.apply(this)}a("anim");var n=a("component"),r=a("promise"),i=a("node"),o=a("json"),s=a("aladdin"),c=a("ua"),d=a("./cat-xtpl"),l=a("./item-xtpl"),u=a("./banner-xtpl"),v=a("util"),f=a("url"),h=a("session"),m=i.all,p=-1,g={},x="service",b="cache-service-banners",w="https://tui.taobao.com/recommend?appid=2807",E="//tce.alicdn.com/api/data.htm",I=window.HubCache=window.HubCache||{};return n["extends"](t,{init:function(){if(this.bind(),this.collectData(),this.showFooter(),this.showHotTags(),this.serviceEl=m(".J_Service",this.el),1==this.serviceEl.attr("data-countdown")){var e=(f.parse(location.href,!0).query||{})._formateTime;try{var a=new Date(2016,10,1,0,0,0).getTime();e&&v.now()<a&&(e=parseInt(e,10),isNaN(e)||(this.mockTime=e))}catch(t){}this.countdown()}},bind:function(){var e=this,a=(m(".service-bd"),m(".service-bd li")),t=m(".service-float",this.el);this.el.delegate("mouseenter",".service-bd li",function(n){var r=m(n.currentTarget);e.enterTime&&clearTimeout(e.enterTime),e.enterTime=setTimeout(function(){p=r.index(),a.removeClass("on"),r.addClass("on"),t.fadeIn(.3),e.showFloat()},100)}),this.el.delegate("mouseleave",".service-bd",function(n){var r=m(n.relatedTarget||n.toElement||n.fromElement);r.hasClass("service-float")||r.parent(".service-float")||(e.enterTime&&clearTimeout(e.enterTime),p=-1,a.removeClass("on"),t.hide())}),t.on("mouseenter",function(){p>-1&&(e.enterTime&&clearTimeout(e.enterTime),a.item(p).addClass("on"),t.fadeIn(.3),e.showFloat())}).on("mouseleave",function(n){var r=m(n.relatedTarget||n.toElement||n.fromElement);r.hasClass("service-bd")||r.parent(".service-bd")||(e.enterTime&&clearTimeout(e.enterTime),p=-1,a.removeClass("on"),t.hide())}),e.el.fire("M:load")},collectData:function(){for(var e=m(".J_Cat",this.el),a=[],t=[],n=0,r=e.length;r>n;n++){for(var i=m(e[n]),o=i.attr("data-groupid"),s=i.attr("data-closeper"),c=m("a",i),d=[],l=[],u=0,v=c.length;v>u;u++){var f=m(c[u]),h=f.attr("data-dataid");d.push(f.attr("data-cid")),l.push(h),t.push(h)}a.push({groupId:o,closePer:1==s,cids:d,dataids:l})}this.config=g=a,this.mids=t},showFloat:function(){var e=this,a=m(".service-float-item"),t=i.one('.service-float-item[data-index="'+p+'"]');if(-1==p||t)return a.hide(),void(t&&t.show());var n=this.render(l,{index:p});m(".service-float").append(n),a.hide(),i.one('.service-float-item[data-index="'+p+'"]').show(),e.renderModuleData(),e.renderBanners(),this.godlog("/tbindex.2016092701.category","EXP",{index:p},"H1484266099","\u4e3b\u9898\u5e02\u573a\u6d6e\u5c42\u66dd\u5149\uff0c\u5e8f\u53f7\uff1a"+p)},renderBanners:function(){var e=this,a=p,t=g[a].groupId;this.fetchBanner().then(function(n){var r={recItemList:g[a].backup};n=n&&n.result||[];for(var o=0,s=n.length;s>o;o++)if(n[o]&&n[o].topicId==t&&n[o].recItemList&&n[o].recItemList.length>=6){r=n[o];break}{var c=i.one('.service-float-item[data-index="'+a+'"] .service-rmd-list');e.render(u,r,c)}c.removeClass("loading")}).fail(function(a){e.reportError({msg:"\u6e32\u67d3\u5f02\u5e38\uff0c\u8be6\u60c5"+o.stringify(a),category:e.category.banner})})},renderModuleData:function(){var e=this,a=p,t=g[a].dataids,n=[];e.requestModuleData(function(r){for(var o=0,s=t.length;s>o;o++){var c=t[o];r[c]&&r[c].value&&n.push(r[c].value)}{var l=i.one('.service-float-item[data-index="'+a+'"] .service-fi-links');e.render(d,n,l)}l.removeClass("loading")})},requestModuleData:function(e){var a=this,t="tce_"+x;return I[t]?void(e&&e(I[t])):(a.moduleRenderQueue=a.moduleRenderQueue||[],a.moduleRenderQueue.push(e),void this.jsonp({url:E,timeout:5,cache:!0,data:{ids:this.mids.join(",")}}).then(function(n){if(I[t]=n,!n||KISSY.isEmptyObject(n))if(n=a.offline.getItem("cache-service-tce")){for(n=o.parse(n),e&&e(n);a.moduleRenderQueue.shift();)e&&e(n);a.reportCache({category:a.category.cat})}else a.getCatBackup(t,e);else for(a.offline.setItem("cache-service-tce",o.stringify(n)),e&&e(n);a.moduleRenderQueue.shift();)e&&e(n)},function(){var n=a.offline.getItem("cache-service-tce");if(n){for(n=o.parse(n),I[t]=n,e&&e(n);a.moduleRenderQueue.shift();)e&&e(n);a.reportCache({category:a.category.cat})}else a.getCatBackup(t,e)}))},fetchBanner:function(e){var a=this,t=this.fname;return new r(function(e,n){return I[a.fname]?void e(I[a.fname]):a.cacheBannerData?void e(a.cacheBannerData):a.jsonp({url:w,timeout:3}).then(function(r){if(I[t]=r,a.hasTppRequest=!0,r&&r.result&&r.result.length>0){for(var i=[],s=0;3>s;s++)r.result[s]&&r.result[s].topicId&&i.push(r.result[s].topicId);return i.length&&a.offline.setItem("service-hot",i.join(",")),a.offline.setItem(b,o.stringify(r)),void e(r)}var c=a.getCacheBanner();return c?void e(c):void n()},function(t){var r=a.getCacheBanner();r?e(r):n()})}).then(function(e){return e},function(){return a.getTCEBanner()})},getCacheBanner:function(){var e=this.offline.getItem(b);return e?(e=o.parse(e),I[this.fname]=e,this.reportCache({category:this.category.banner}),e):void 0},showFooter:function(){var e=this.retina?"_360x360":"_190x190";new s(m(".service-ft"),null,e)},showHotTags:function(){var e=this.offline.getItem("service-hot");if(e){e=e.split(",");for(var a=0,t=e.length;t>a;a++)m('.service-bd li[data-groupid="'+e[a]+'"] span').addClass("tbh-tag")}},getTCEBanner:function(){var e=this,a=this.ids;return this.cacheBannerData?r.resolve():this.jsonp({url:"//tce.alicdn.com/api/data.htm",data:{ids:a}}).then(function(t){if(t&&t[a]&&t[a].value){var n=t[a].value.groups;return e.reportBackup({category:e.category.banner,msg:"\u8d70 tce \u515c\u5e95\u6570\u636e"}),e._setBannerBackup(n),e.cacheBannerData=t,n}return e.getBackupBanner()},function(a){return e.getBackupBanner()})},_setBannerBackup:function(a){var t=this;e.each(a,function(e){var a=t.getRetItem(e.groupId);a.backup=e.banners})},getRetItem:function(e){for(var a=0,t=g.length;t>a;a++)if(g[a].groupId===e)return g[a]},getCatBackup:function(a,t){var n=this;e.use("p/tbh-service-cat/index",function(e,r){I[a]=r,n.reportCDN({category:n.category.cat}),t&&t(r)},function(e){t(),n.reportError({category:n.category.cat})})},getBackupBanner:function(){var e=this;return this.use("p/tbh-service/index").then(function(a){return e.reportCDN({category:e.category.banner}),e._setBannerBackup(a&&a.groups),e.cacheBannerData=a,a.groups},function(){e.reportError({category:e.category.banner})})},countdown:function(e){var a=this.getStatus(e);if(a){if(!this.countdownEl){var t=this.serviceEl.attr("data-bg"),n=this.serviceEl.attr("data-bgBig");h.get("retina")&&c.ie>8&&n&&(t=n);var r=m('<div class="countdown" style="background-image: url('+t+')"></div>');m(".service-hd",this.el).append(r),this.countdownEl=r}this.countdownEl.html(a.msg),this.lastStatus?this.lastStatus.center!==a.center&&(a.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center")):a.center?this.countdownEl.addClass("center"):this.countdownEl.removeClass("center"),this.lastStatus=a}else this.countdownEl&&this.countdownEl.remove();setTimeout(v.bind(function(){this.mockTime&&(this.mockTime+=1e3),this.countdown()},this),1e3)},getStatus:function(e){function a(e,a,t,n,r,i){return new Date(e,a,t,n,r,i).getTime()}function t(e){return 10>e?"0"+e:""+e}function n(e){var a=e.split("");return v.substitute('<span class="bg">{decade}</span><span class="bg unit">{unit}</span>',{decade:a[0],unit:a[1]})}var r=this.getTime();this.time||(this.time={longBefore:a(2016,10,1,0,0,0),dayBefore:a(2016,10,9,23,59,59),readyStart:a(2016,10,10,23,50,0),start:a(2016,10,10,23,59,59),readyEnd:a(2016,10,11,23,50,0),end:a(2016,10,11,23,59,59)});var i=this.time;if(!(r<i.longBefore)){if(r>=i.longBefore&&r<i.dayBefore){var o=(i.dayBefore-r)/864e5;return o=Math.ceil(o),o=t(o+1),{msg:"\u8ddd\u53cc11\u5f00\u5e55\u5269"+n(o)+"\u5929",center:!1}}if(r>=i.dayBefore&&r<i.readyStart){var s=i.start-r,c=Math.floor(s/1e3),d=parseInt(c/3600,10)%24,l=parseInt(c/60,10)%60,u=parseInt(c%60,10);return d=t(d),l=t(l),u=t(u),{msg:['\u8ddd\u53cc11\u5269<span class="bg-wrapper">',n(d),":",n(l),":",n(u),"</span>"].join(""),center:!1}}if(r>=i.readyStart&&r<i.start)return{msg:"\u53cc11\u5373\u5c06\u5f00\u59cb",center:!0};if(r>=i.start&&r<i.readyEnd){var s=i.end-r,c=Math.floor(s/1e3),d=parseInt(c/3600,10)%24,l=parseInt(c/60,10)%60,u=parseInt(c%60,10);return d=t(d),l=t(l),u=t(u),{msg:['\u8ddd\u7ed3\u675f\u5269<span class="bg-wrapper">',n(d),":",n(l),":",n(u),"</span>"].join(""),center:!1}}return r>=i.readyEnd&&r<i.end?{msg:"\u53cc11\u5373\u5c06\u7ed3\u675f",center:!0}:void 0}},getTime:function(){return this.mockTime?this.mockTime:v.now()},defaults:function(){return{ids:"222256",name:"tbh-service",fname:"tpp_tbh-service",category:{cat:"ERROR_service_cat_data_err",banner:"ERROR_service_banner_data_err"}}}}),t});KISSY.add("tb-mod/tbh-belt/0.2.0/belt-xtpl",function(a,e,t,l){var n=l.exports=function(a){function e(a,e,t){a.data,a.affix;return e.data+="120x120",e}function t(a,e,t){a.data,a.affix;return e.data+="60x60",e}function l(a,e,t){a.data,a.affix;e.data+="\n      ",v.line=8;var l;l=U.call(d,a,{hash:[{key:["num"],value:"\u6700\u65b0\u53d1\u73b0",depth:0}]},e);var n=l;return e=e.writeEscaped(n),e.data+="\n    ",e}function n(a,e,t){var l=a.data,n=a.affix;e.data+="\n      ",v.line=10;var i='<i class="tb-icon">&#xe623;</i>\u4eba\u6c14',r=(s=n.num)!==t?s:(s=l.num)!==t?s:a.resolveLooseUp(["num"]);i='<i class="tb-icon">&#xe623;</i>\u4eba\u6c14'+r;var o;o=U.call(d,a,{hash:[{key:["num"],value:i,depth:0}]},e);var u=o;return e=e.writeEscaped(u),e.data+="\n    ",e}function i(a,e,t){var i=a.data,r=a.affix;e.data+="\n    ",v.line=7,v.line=7;var o=(s=r.num)!==t?s:(s=i.num)!==t?s:a.resolveLooseUp(["num"]),u=o;return u=100>o,e=g.call(d,a,{params:[u],fn:l,inverse:n},e),e.data+="\n  ",e}function r(a,e,t){a.data,a.affix;e.data+="\n    ",v.line=13;var l;l=U.call(d,a,{hash:[{key:["num"],value:"\u6700\u65b0\u53d1\u73b0",depth:0}]},e);var n=l;return e=e.writeEscaped(n),e.data+="\n  ",e}{var s,o,d=this,u=d.root,c=d.buffer,p=d.scope,v=(d.runtime,d.name,d.pos),f=p.data,m=p.affix,b=u.nativeCommands,h=u.utils,g=(h.callFn,h.callDataFn,h.callCommand,b.range,b["void"],b.foreach,b.forin,b.each,b["with"],b["if"]),U=b.set;b.include,b.parse,b.extend,b.block,b.macro,b["debugger"]}c.data+='<a href="';var x=(s=m.data)!==a?null!=s?o=s.link:s:(s=f.data)!==a?null!=s?o=s.link:s:p.resolveLooseUp(["data","link"]),y=x;if(!y){var L=(s=m.data)!==a?null!=s?o=s.clickUrl:s:(s=f.data)!==a?null!=s?o=s.clickUrl:s:p.resolveLooseUp(["data","clickUrl"]);y=L}c=c.write(y),c.data+='" class="belt-item-';var w=(s=m.data)!==a?null!=s?o=s.index:s:(s=f.data)!==a?null!=s?o=s.index:s:p.resolveLooseUp(["data","index"]),_=w;_=w+1,c=c.writeEscaped(_),c.data+='" style="visibility: visible">\n  <img class="a-all" src="',v.line=2;var k=(s=m.data)!==a?null!=s?o=s.img:s:(s=f.data)!==a?null!=s?o=s.img:s:p.resolveLooseUp(["data","img"]),E=k;if(!E){var N=(s=m.data)!==a?null!=s?o=s.picUrl:s:(s=f.data)!==a?null!=s?o=s.picUrl:s:p.resolveLooseUp(["data","picUrl"]);E=N}c=c.write(E),c.data+="_";var A=(s=m.$runtime)!==a?null!=s?o=s.retina:s:(s=f.$runtime)!==a?null!=s?o=s.retina:s:p.resolveLooseUp(["$runtime","retina"]);c=g.call(d,p,{params:[A],fn:e,inverse:t},c),c.data+='q90.jpg" alt="';var C=(s=m.data)!==a?null!=s?o=s.info:s:(s=f.data)!==a?null!=s?o=s.info:s:p.resolveLooseUp(["data","info"]),W=C;if(!W){var B=(s=m.data)!==a?null!=s?o=s.subtitle:s:(s=f.data)!==a?null!=s?o=s.subtitle:s:p.resolveLooseUp(["data","subtitle"]);W=B}c=c.writeEscaped(W),c.data+='"/>\n  <strong>',v.line=3;var D=(s=m.data)!==a?null!=s?o=s.type:s:(s=f.data)!==a?null!=s?o=s.type:s:p.resolveLooseUp(["data","type"]),I=D;if(!I){var R=(s=m.data)!==a?null!=s?o=s.title:s:(s=f.data)!==a?null!=s?o=s.title:s:p.resolveLooseUp(["data","title"]);I=R}c=c.writeEscaped(I),c.data+="</strong>\n  <span>",v.line=4;var j=(s=m.data)!==a?null!=s?o=s.info:s:(s=f.data)!==a?null!=s?o=s.info:s:p.resolveLooseUp(["data","info"]),S=j;if(!S){var $=(s=m.data)!==a?null!=s?o=s.subtitle:s:(s=f.data)!==a?null!=s?o=s.subtitle:s:p.resolveLooseUp(["data","subtitle"]);S=$}c=c.writeEscaped(S),c.data+="</span>\n  ",v.line=5;var q=(s=m.data)!==a?null!=s?o=s.gNum:s:(s=f.data)!==a?null!=s?o=s.gNum:s:p.resolveLooseUp(["data","gNum"]),M=q;if(!M){var z=(s=m.data)!==a?null!=s?o=s.pop:s:(s=f.data)!==a?null!=s?o=s.pop:s:p.resolveLooseUp(["data","pop"]);M=z}var F;F=U.call(d,p,{hash:[{key:["num"],value:M,depth:0}]},c);var H=F;c=c.writeEscaped(H),c.data+="\n  ",v.line=6,v.line=6;var K=(s=m.num)!==a?s:(s=f.num)!==a?s:p.resolveLooseUp(["num"]);c=g.call(d,p,{params:[K],fn:i,inverse:r},c),c.data+="\n  <em>",v.line=15;var O=(s=m.num)!==a?s:(s=f.num)!==a?s:p.resolveLooseUp(["num"]);return c=c.write(O),c.data+="</em>\n</a>\n",c};n.TPL_NAME=l.id||l.name}),KISSY.add("tb-mod/tbh-belt/0.2.0/index",["io","node","json","offline","reporter","./belt-xtpl","tms/xtemplate","session","lazyload"],function(a,e){function t(a){this.el=n.one(a),this.url=this.el.one(".belt").attr("data-permalink"),v(".J_Belt",this.el).attr("data-hide")||this.init()}var l=e("io"),n=e("node"),i=e("json"),r=e("offline"),s=e("reporter"),o=e("./belt-xtpl"),d=e("tms/xtemplate"),u=e("session"),c=u.get("retina"),p=e("lazyload"),v=n.all,f=new r,m=new d(o),b=window.HubCache=window.HubCache||{},h="https://tui.taobao.com/recommend?appid=2952&from=PCtaobao";return t.prototype.init=function(){this.renderBEData()},t.prototype.renderBEData=function(){var a=this,e=this.el.all("a"),t=a.beList=[],l=e.filter(function(){var a=v(this),e=1==a.attr("data-local");return e?(a.css("visibility","visible"),!1):(t.push({item:a,index:a.index()}),!0)});l.length?this.requestBEData(function(e){if(e&&e.length>=t.length)for(var n=0,i=t.length;i>n;n++){var r=e[n];r.picUrl&&r.clickUrl&&r.title&&r.subtitle&&r.clickUrl.indexOf("?")>-1&&(a.url&&r.clickUrl.indexOf("?")>-1&&(r.clickUrl=a.url+"?"+r.clickUrl.split("?")[1]),r.index=t[n].index,t[n].item.replaceWith(m.render({data:r,$runtime:{retina:c}})))}else s.send({category:"WARN_belt_data_err",msg:"\u6a21\u5757 belt \u6570\u636e\u8bf7\u6c42\u5931\u8d25,\u8d70\u786c\u515c\u5e95"}),l.each(function(){v(this).css("visibility","visible")});new p(".tbh-belt"),a.el.fire("M:load")}):(new p(".tbh-belt"),this.el.fire("M:load"))},t.prototype.requestBEData=function(a){var e="tpp_belt";l({scriptCharset:"gbk",url:h,dataType:"jsonp",timeout:5,success:function(t){b[e]=t,t&&t.result&&t.result[0]&&t.result[0].itemList?(t=t.result[0].itemList,f.setItem("cache-belt",i.stringify(t)),a&&a(t)):(t=f.getItem("cache-belt"),t?(s.send({category:"WARN_belt_data_err",msg:"\u6a21\u5757 belt \u6570\u636e\u683c\u5f0f\u9519\u8bef, \u8d70\u672c\u5730\u7f13\u5b58"}),t=i.parse(t),a&&a(t)):(s.send({category:"WARN_belt_data_err",msg:"\u6a21\u5757 belt \u6570\u636e\u683c\u5f0f\u9519\u8bef, \u65e0\u672c\u5730\u7f13\u5b58, \u8d70\u5bb9\u707e\u6570\u636e"}),a&&a()))},error:function(){var e=f.getItem("cache-belt");e?(s.send({category:"WARN_belt_data_err",msg:"\u6a21\u5757 belt \u6570\u636e\u8bf7\u6c42\u5931\u8d25, \u8d70\u672c\u5730\u7f13\u5b58"}),e=i.parse(e),a&&a(e)):(s.send({category:"WARN_belt_data_err",msg:"\u6a21\u5757 belt \u6570\u636e\u8bf7\u6c42\u5931\u8d25, \u65e0\u672c\u5730\u7f13\u5b58, \u8d70\u5bb9\u707e\u6570\u636e"}),a&&a())}})},t});KISSY.add("tb-mod/tbh-app/0.0.8/apps-xtpl",function(a,e,n,t){var r=t.exports=function(a){function e(a,e,n){var t=a.data,r=a.affix;e.data+='<a href="';var i=(d=r.link)!==n?d:(d=t.link)!==n?d:a.resolveLooseUp(["link"]);e=e.write(i),e.data+='">';var o=(d=r.name)!==n?d:(d=t.name)!==n?d:a.resolveLooseUp(["name"]);return e=e.writeEscaped(o),e.data+="</a>",e}function n(a,e,n){var t=a.data,r=a.affix;e.data+="";var i=(d=r.name)!==n?d:(d=t.name)!==n?d:a.resolveLooseUp(["name"]);return e=e.writeEscaped(i),e.data+="",e}function t(a,t,r){var i=a.data,o=a.affix;t.data+="\n<h3>\n   ",m.line=4;var s=(d=o.link)!==r?d:(d=i.link)!==r?d:a.resolveLooseUp(["link"]);t=b.call(f,a,{params:[s],fn:e,inverse:n},t),t.data+='\n  <a class="more" href="',m.line=5;var l=(d=o.more)!==r?d:(d=i.more)!==r?d:a.resolveLooseUp(["more"]);return t=t.write(l),t.data+='">\u66f4\u591a <i class="tb-icon">&#x27a4;</i></a>\n</h3>\n',t}function r(a,e,n){var t=a.data,r=a.affix;e.data+="";var i=(d=r.link)!==n?d:(d=t.link)!==n?d:a.resolveLooseUp(["link"]);return e=e.write(i),e.data+="",e}function i(a,e,n){a.data,a.affix;return e.data+="javascript:;",e}function o(a,e,n){var t=a.data,r=a.affix;e.data+="onclick=\"javascript:goldlog.record('/";var i=(d=r.logkey)!==n?d:(d=t.logkey)!==n?d:a.resolveLooseUp(["logkey"]);e=e.writeEscaped(i),e.data+="','','','";var o=(d=r.gokey)!==n?d:(d=t.gokey)!==n?d:a.resolveLooseUp(["gokey"]);return e=e.writeEscaped(o),e.data+="')\"",e}function s(a,e,n){var t=a.data,s=a.affix;e.data+='\n  <li class="nav" data-spm-ab="apps-',m.line=12;var l=(d=s.spm)!==n?d:(d=t.spm)!==n?d:a.resolveLooseUp(["spm"]);e=e.writeEscaped(l),e.data+='">\n    <a href="',m.line=13;var p=(d=s.link)!==n?d:(d=t.link)!==n?d:a.resolveLooseUp(["link"]);e=b.call(f,a,{params:[p],fn:r,inverse:i},e),e.data+='" ';var c=(d=s.log)!==n?d:(d=t.log)!==n?d:a.resolveLooseUp(["log"]),v=c;v="1"===c,e=b.call(f,a,{params:[v],fn:o},e),e.data+='>\n      <img data-ks-lazyload="',m.line=14;var u=(d=s.img)!==n?d:(d=t.img)!==n?d:a.resolveLooseUp(["img"]);e=e.write(u),e.data+='_60x60.jpg" src="//g.alicdn.com/s.gif" alt="\u624b\u673aapp - ';var h=(d=s.name)!==n?d:(d=t.name)!==n?d:a.resolveLooseUp(["name"]);e=e.writeEscaped(h),e.data+='" class="app-icon" />\n    </a>\n    <div class="app-qr">\n      <img class="J_QRCode" data-src="',m.line=17;var g=(d=s.qr)!==n?d:(d=t.qr)!==n?d:a.resolveLooseUp(["qr"]);e=e.writeEscaped(g),e.data+='_80x80.jpg" src="//g.alicdn.com/s.gif" alt="\u4f7f\u7528\u624b\u673a\u626b\u63cf';var x=(d=s.name)!==n?d:(d=t.name)!==n?d:a.resolveLooseUp(["name"]);e=e.writeEscaped(x),e.data+='\u7684\u4e8c\u7ef4\u7801" />\n      <p>\u626b\u4e00\u626b',m.line=18;var k=(d=s.name)!==n?d:(d=t.name)!==n?d:a.resolveLooseUp(["name"]);return e=e.writeEscaped(k),e.data+="</p>\n      <em></em><span></span>\n    </div>\n  </li>\n  ",e}function l(a,e,n){var t=a.data,r=a.affix;e.data+="\n  ",m.line=11,m.line=11;var i=(d=r.xindex)!==n?d:(d=t.xindex)!==n?d:a.resolveLooseUp(["xindex"]),o=i;return o=9>=i,e=b.call(f,a,{params:[o],fn:s},e),e.data+="\n  ",e}{var d,p,c,f=this,v=f.root,u=f.buffer,h=f.scope,m=(f.runtime,f.name,f.pos),g=h.data,x=h.affix,k=v.nativeCommands,L=v.utils,y=(L.callFn,L.callDataFn,L.callCommand,k.range,k["void"],k.foreach,k.forin,k.each),U=k["with"],b=k["if"],w=k.set;k.include,k.parse,k.extend,k.block,k.macro,k["debugger"]}u.data+="";var E=(d=x.data)!==a?null!=d?p=d.head:d:(d=g.data)!==a?null!=d?p=d.head:d:h.resolveLooseUp(["data","head"]),_=E;if(_){var j=(d=x.data)!==a?null!=d?null!=(p=d.head)?c=p[0]:p:d:(d=g.data)!==a?null!=d?null!=(p=d.head)?c=p[0]:p:d:h.resolveLooseUp(["data","head",0]);_=j}var C;C=w.call(f,h,{hash:[{key:["head"],value:_,depth:0}]},u);var S=C;u=u.writeEscaped(S),u.data+="\n",m.line=2,m.line=2;var z=(d=x.head)!==a?d:(d=g.head)!==a?d:h.resolveLooseUp(["head"]);u=U.call(f,h,{params:[z],fn:t},u),u.data+='\n\n<ul class="apps-nav clearfix">\n  ',m.line=10,m.line=10;var I=(d=x.data)!==a?null!=d?p=d.apps:d:(d=g.data)!==a?null!=d?p=d.apps:d:h.resolveLooseUp(["data","apps"]);return u=y.call(f,h,{params:[I],fn:l},u),u.data+="\n</ul>\n\n\n\n",u};r.TPL_NAME=t.id||t.name}),KISSY.add("tb-mod/tbh-app/0.0.8/index",["anim","util","node","lazyload","component","./apps-xtpl"],function(a,e){function n(a,e){this.el=i(a),this.cfg=e,n.superclass.constructor.apply(this)}e("anim");var t=e("util"),r=e("node"),i=r.all,o=e("lazyload"),s=e("component"),l=e("./apps-xtpl");return s["extends"](n,{init:function(){this.load()},load:function(){var a=this;this.fetch().then(function(e){if(e.apps.length>10){var n=e.apps.slice(0,5),t=e.apps.slice(5),t=a.shuffle(t);e.apps=n.concat(t.slice(0,5))}var r=i(".apps",a.el);a.render(l,e,r),r.hide().fadeIn(.3),a._bind(),a._lazyload(),a.el.fire("M:load")}).fail(function(e){a.reportError()})},fetch:function(){return this.xctrl({data:this.cfg,key:["head","apps"]}).then(t.bind(function(a){if(a&&a.head&&a.apps&&!t.isEmptyObject(a.head)&&!t.isEmptyObject(a.apps))return this.offline.setItem(this.cacheKey,JSON.stringify(a)),a;var a=this.offline.getItem(this.cacheKey);return a=JSON.parse(a),a?(this.reportCache(),a):this.backup()},this))},backup:function(){var a=this;return this.use("p/"+this.name+"/index").then(function(e){return a.reportCDN(),e})},_bind:function(){this.el.delegate("mouseenter",".nav",function(a){var e=i(".J_QRCode",a.currentTarget);if(1!=e.attr("data-loaded")){var n=e.attr("data-src");e.attr("src",n),e.attr("data-loaded",1)}})},_lazyload:function(){new o(".tbh-app",{webp:!0})},shuffle:function(a){for(var e,n=a.length,t=Array(n),r=0;n>r;r++)e=~~(Math.random()*(r+1)),e!==r&&(t[r]=t[e]),t[e]=a[r];return t},defaults:function(){return{cacheKey:"cache-apps-tce",name:"tbh-app"}}}),n});KISSY.add("tb-mod/tbh-headline/0.0.7/headline-xtpl",function(e,a,i,n){var t=n.exports=function(e){function a(e,a,i){e.data,e.affix;return a.data+=" hide",a}function i(e,a,i){var n=e.data,t=e.affix;a.data+=' \n    <img class="a-opacity" src="',p.line=5;var l=(d=t.img)!==i?d:(d=n.img)!==i?d:e.resolveLooseUp(["img"]),r=l;if(!r){var o=(d=t.pic)!==i?d:(d=n.pic)!==i?d:e.resolveLooseUp(["pic"]);r=o}a=a.writeEscaped(r),a.data+='_60x60.jpg" alt="';var s=(d=t.title)!==i?d:(d=n.title)!==i?d:e.resolveLooseUp(["title"]),c=s;if(!c){var f=(d=t.name)!==i?d:(d=n.name)!==i?d:e.resolveLooseUp(["name"]);c=f}return a=a.writeEscaped(c),a.data+='"/>\n    ',a}function n(e,a,i){e.data,e.affix;return a.data+="120x120",a}function t(e,a,i){e.data,e.affix;return a.data+="60x60",a}function l(e,a,i){var l=e.data,r=e.affix;a.data+='\n    <img class="a-opacity" src="//g.alicdn.com/s.gif" data-ks-lazyload="',p.line=7;var c=(d=r.img)!==i?d:(d=l.img)!==i?d:e.resolveLooseUp(["img"]),f=c;if(!f){var m=(d=r.pic)!==i?d:(d=l.pic)!==i?d:e.resolveLooseUp(["pic"]);f=m}a=a.writeEscaped(f),a.data+="_";var u=(d=r.$runtime)!==i?null!=d?o=d.retina:d:(d=l.$runtime)!==i?null!=d?o=d.retina:d:e.resolveLooseUp(["$runtime","retina"]);a=x.call(s,e,{params:[u],fn:n,inverse:t},a),a.data+='.jpg" alt="';var h=(d=r.title)!==i?d:(d=l.title)!==i?d:e.resolveLooseUp(["title"]),v=h;if(!v){var g=(d=r.name)!==i?d:(d=l.name)!==i?d:e.resolveLooseUp(["name"]);v=g}return a=a.writeEscaped(v),a.data+='"/>\n\n    ',a}function r(e,n,t){var r=e.data,c=e.affix;n.data+='\n<div class="mod',p.line=2;var f=(d=c.xindex)!==t?d:(d=r.xindex)!==t?d:e.resolveLooseUp(["xindex"]),m=f;m=0!==f,n=x.call(s,e,{params:[m],fn:a},n),n.data+='">\n  <a href="',p.line=3;var u=(d=c.link)!==t?d:(d=r.link)!==t?d:e.resolveLooseUp(["link"]),h=u;if(!h){var v=(d=c.url)!==t?d:(d=r.url)!==t?d:e.resolveLooseUp(["url"]);h=v}n=n.write(h),n.data+='">\n    ',p.line=4,p.line=4;var g=(d=c.$runtime)!==t?null!=d?o=d.ie8:d:(d=r.$runtime)!==t?null!=d?o=d.ie8:d:e.resolveLooseUp(["$runtime","ie8"]);n=x.call(s,e,{params:[g],fn:i,inverse:l},n),n.data+="\n    \n    <em>",p.line=11;var _=(d=c.title)!==t?d:(d=r.title)!==t?d:e.resolveLooseUp(["title"]),b=_;if(!b){var w=(d=c.name)!==t?d:(d=r.name)!==t?d:e.resolveLooseUp(["name"]);b=w}n=n.write(b),n.data+="</em>\n    <p>",p.line=12;var L=(d=c.detail)!==t?d:(d=r.detail)!==t?d:e.resolveLooseUp(["detail"]),y=L;if(!y){var U=(d=c.dec)!==t?d:(d=r.dec)!==t?d:e.resolveLooseUp(["dec"]);y=U}return n=n.write(y),n.data+="</p>\n  </a>\n</div>\n",n}{var d,o,s=this,c=s.root,f=s.buffer,m=s.scope,p=(s.runtime,s.name,s.pos),u=m.data,h=m.affix,v=c.nativeCommands,g=c.utils,_=(g.callFn,g.callDataFn,g.callCommand,v.range,v["void"],v.foreach,v.forin,v.each),x=(v["with"],v["if"]);v.set,v.include,v.parse,v.extend,v.block,v.macro,v["debugger"]}f.data+="",p.line=1;var b=(d=h.data)!==e?null!=d?o=d.headlines:d:(d=u.data)!==e?null!=d?o=d.headlines:d:m.resolveLooseUp(["data","headlines"]);return f=_.call(s,m,{params:[b],fn:r},f),f.data+="\n",f};t.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/tbh-headline/0.0.7/index",["anim","io","json","node","xctrl","slide","offline","reporter","tms/xtemplate","./headline-xtpl","lazyload","ua","session"],function(e,a){function i(){this.init.apply(this,arguments)}a("anim");var n=a("io"),t=a("json"),l=a("node"),r=a("xctrl"),d=a("slide"),o=a("offline"),s=a("reporter"),c=a("tms/xtemplate"),f=a("./headline-xtpl"),m=a("lazyload"),p=a("ua"),u=a("session"),h=u.get("retina"),v=u.get("webp"),g=l.all,_=new o,x=window.HubCache=window.HubCache||{};return i.prototype={init:function(e,a){this.el=g(e),this.cfg=a,this.loadData()},loadData:function(){var e=this,a="//headline.taobao.com/feed/homeFeed.do";n({scriptCharset:"gbk",url:a,jsonp:"callBack",dataType:"jsonp",timeout:5,success:function(a){x.be_headline=a;var i=a&&a.data;if(i&&i.length)_.setItem("cache-headline-be",t.stringify(i)),e.render({headlines:i});else{if(i=_.getItem("cache-headline-be"))return i=t.parse(i),s.send({category:"ERROR_Headlines_get_null_data",msg:"headline \u8bf7\u6c42\u6570\u636e\u4e3a\u7a7a\uff0c\u8d70\u515c\u5e95\u5bb9\u707e"}),void e.render({headlines:i});e._failed()}},error:function(){var a=_.getItem("cache-headline-be");return a?(a=t.parse(a),s.send({category:"ERROR_Headlines_get_null_data",msg:"headline \u8bf7\u6c42\u6570\u636e\u5931\u8d25\uff0c\u8d70\u515c\u5e95\u5bb9\u707e"}),void e.render({headlines:a})):void e._failed()}})},render:function(a){var i=this,n=new c(f),t=g(".headline-bd",this.el);e.each(a.headlines,function(e){e.img&&(e.img=e.img.replace("http://","//")),e.pic&&(e.pic=e.pic.replace("http://","//"))}),t.html(n.render({data:a,$runtime:{retina:h,webp:v,ie8:8==p.ie}})),t.hide().fadeIn(.3),i._lazyload(),g("h3",i.el).fadeIn(.3),i._lazyload(),8==p.ie?setTimeout(function(){i.initSlider()},3e3):i.initSlider(),i.el.fire("M:load")},_lazyload:function(e){new m(".tbh-headline",{webp:!0})},_failed:function(){var e=this;e.cfg||s.send({category:"Error_Headlines_get_data_err",msg:"Headlines \u6a21\u5757\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c\u5e76\u4e14\u6ca1\u6709\u5907\u4efd\u515c\u5e95\u6570\u636e"}),r.dynamic(e.cfg,"headlines",function(a){a&&a.headlines&&a.headlines.length?e.render(a):(s.send({category:"Error_Headlines_Crash",msg:"Headlines \u6a21\u5757\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c\u5e76\u4e14\u6ca1\u6709\u5907\u4efd\u515c\u5e95\u6570\u636e\uff0c\u5929\u7a97"}),e.el.fire("M:load"))})},initSlider:function(){var e=this;return g(".headline-bd .mod").length?void(e.slide=new d(".headline",{contentClass:"headline-bd",pannelClass:"mod",effect:"vSlide",timeout:5e3,autoSlide:!0,touchmove:!0})):void s.send({category:"ERROR_Headlines_Module_Init_Faild",msg:"Headlines \u6a21\u5757\u5728\u670d\u52a1\u5668\u6784\u5efa\u5931\u8d25"},"warn")}},i});KISSY.add("tb-mod/tbh-discover-goods/0.2.5/goods-xtpl",function(e,t,a,r){var o=r.exports=function(e){function t(e,t,a){e.data,e.affix;return t.data+="200x200",t}function a(e,t,a){e.data,e.affix;return t.data+="100x100",t}function r(e,t,a){var r=e.data,o=e.affix;t.data+='\n  <strong class="a-all"><img src="',u.line=8;var n=(s=o.icon)!==a?s:(s=r.icon)!==a?s:e.resolveLooseUp(["icon"]);t=t.writeEscaped(n),t.data+='"/>';var i=(s=o.title)!==a?s:(s=r.title)!==a?s:e.resolveLooseUp(["title"]);t=t.writeEscaped(i),t.data+="</strong>\n  <p>",u.line=9;var l=(s=o.content)!==a?s:(s=r.content)!==a?s:e.resolveLooseUp(["content"]);t=t.writeEscaped(l),t.data+="</p>\n  <em>",u.line=10;var d=(s=o.promotionTitle)!==a?s:(s=r.promotionTitle)!==a?s:e.resolveLooseUp(["promotionTitle"]);return t=t.writeEscaped(d),t.data+="</em>\n  ",t}function o(e,t,a){var r=e.data,o=e.affix;t.data+='\n  <strong class="a-all">',u.line=12;var n=(s=o.title)!==a?s:(s=r.title)!==a?s:e.resolveLooseUp(["title"]);t=t.writeEscaped(n),t.data+="</strong>\n  <p>",u.line=13;var i=(s=o.content)!==a?s:(s=r.content)!==a?s:e.resolveLooseUp(["content"]);t=t.writeEscaped(i),t.data+="</p>\n  <em>",u.line=14;var l=(s=o.zanTotal)!==a?s:(s=r.zanTotal)!==a?s:e.resolveLooseUp(["zanTotal"]);return t=t.writeEscaped(l),t.data+=" \u4eba\u8bf4\u597d</em>\n  ",t}function n(e,n,i){var c=e.data,p=e.affix;n.data+='\n<a href="',u.line=3;var f=(s=p.url)!==i?s:(s=c.url)!==i?s:e.resolveLooseUp(["url"]);n=n.write(f),n.data+='">\n  <span>\n    <img class="a-all" src="//g.alicdn.com/s.gif" data-ks-lazyload="',u.line=5;var m=(s=p.pic)!==i?s:(s=c.pic)!==i?s:e.resolveLooseUp(["pic"]);n=n.write(m),n.data+="_";var v=(s=p.$runtime)!==i?null!=s?l=s.retina:s:(s=c.$runtime)!==i?null!=s?l=s.retina:s:e.resolveLooseUp(["$runtime","retina"]);n=w.call(d,e,{params:[v],fn:t,inverse:a},n),n.data+='.jpg" alt="';var h=(s=p.title)!==i?s:(s=c.title)!==i?s:e.resolveLooseUp(["title"]);n=n.writeEscaped(h),n.data+='"/>\n  </span>\n  ',u.line=7,u.line=7;var g=(s=p.icon)!==i?s:(s=c.icon)!==i?s:e.resolveLooseUp(["icon"]),x=g;if(x){var b=(s=p.promotionTitle)!==i?s:(s=c.promotionTitle)!==i?s:e.resolveLooseUp(["promotionTitle"]);x=b}var L=x;if(L){var y=e.resolveLoose(["closeHd"],1);L=!y}return n=w.call(d,e,{params:[L],fn:r,inverse:o},n),n.data+="\n</a>\n",n}function i(e,t,a){var r=e.data,o=e.affix;t.data+="\n",u.line=2,u.line=2;var i=(s=o.xindex)!==a?s:(s=r.xindex)!==a?s:e.resolveLooseUp(["xindex"]),l=i;return l=10>i,t=w.call(d,e,{params:[l],fn:n},t),t.data+="\n",t}{var s,l,d=this,c=d.root,p=d.buffer,f=d.scope,u=(d.runtime,d.name,d.pos),m=f.data,v=f.affix,h=c.nativeCommands,g=c.utils,x=(g.callFn,g.callDataFn,g.callCommand,h.range,h["void"],h.foreach,h.forin,h.each),w=(h["with"],h["if"]);h.set,h.include,h.parse,h.extend,h.block,h.macro,h["debugger"]}p.data+="",u.line=1;var b=(s=v.result)!==e?s:(s=m.result)!==e?s:f.resolveLooseUp(["result"]);return p=x.call(d,f,{params:[b],fn:i},p),p.data+="\n",p};o.TPL_NAME=r.id||r.name}),KISSY.add("tb-mod/tbh-discover-goods/0.2.5/index",["anim","io","json","node","xctrl","offline","reporter","./goods-xtpl","tms/xtemplate","lazyload","session"],function(e,t){function a(){this.init.apply(this,arguments)}t("anim");var r=(t("io"),t("json")),o=t("node"),n=t("xctrl"),i=t("offline"),s=t("reporter"),l=t("./goods-xtpl"),d=t("tms/xtemplate"),c=t("lazyload"),p=t("session"),f=p.get("retina"),u=o.all,m=!1,v="goods",h=!1,g=new i,x="cache-"+v,w=window.HubCache=window.HubCache||{};return a.prototype={init:function(e,t){this.el=u(e),this.cfg=t,this.requestTime=0,this.pageSize=10,this.$refresh=u(".goods-refresh",this.el),this.goodEl=u(".goods",this.el),this.permalink=this.goodEl.attr("data-permalink"),this.closeHd="1"===this.goodEl.attr("data-hd"),this.bind(),this.requestModuleData()},bind:function(){var e=this;this.$refresh.on("click",function(t){t.halt(),h||(h=!0,e.$refresh.addClass("disable"),u("span",e.$refresh).text("\u6b63\u5728\u52a0\u8f7d\u4e2d..."),e.requestModuleData())})},requestModuleData:function(){var e=this;return e.cfg?void n.dynamic({data:e.cfg,key:"result",request:"taobao",callback:function(t){w["be_"+v]=t,t&&t.result&&t.result.length>=e.pageSize?(e.requestTime++,g.setItem(x,r.stringify(t.result)),e.render(t.result)):(t=g.getItem(x),t?(e.reporter({type:"warn",msg:"\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u9519\u8bef\u6216\u8005\u957f\u5ea6\u5c11\u4e8e 10, \u8d70\u672c\u5730\u7f13\u5b58",data:{step:10,stepName:"storage"}}),t=r.parse(t),e.render(t)):e._backup())},extra:{startIndex:e.requestTime*e.pageSize,pageSize:e.pageSize}}):void this._backup()},_backup:function(){var t=this;e.use(["p/tbh-discover-goods/index"],function(e,a){t.render(a),t.reporter({type:"warn",msg:"\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u9519\u8bef\u6216\u8005\u957f\u5ea6\u5c11\u4e8e 10, \u8d70\u5907\u4efd CDN",data:{step:11,stepName:"cdn"}})},function(){t.reporter({type:"warn",msg:"\u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u9519\u8bef\u6216\u8005\u957f\u5ea6\u5c11\u4e8e 10, CDN \u6ca1\u6709\u53d6\u5230\u6570\u636e",data:{step:-1}})})},render:function(e){var t=this;KISSY.each(e,function(e){if(t.permalink){var a=t.permalink.indexOf("?")>-1?"&":"?";e.url=t.permalink+a+"contentId="+e.contentId}});var a=new d(l).render({result:e,closeHd:this.closeHd,$runtime:{retina:f}});u(".goods-list",t.el).hide().html(a).removeClass("tb-loading").fadeIn(.3,function(){if(h=!1,0!==t.$refresh.length){t.$refresh.removeClass("disable");var e=u("span",t.$refresh);e.text("\u6362\u4e00\u7ec4\u770b\u770b"),0===e.length&&t.reporter({desc:"\u5143\u7d20\u4e0d\u5b58\u5728",category:"WARN_Goods_DataHTML_err",data:{val:t.$refresh.html()}})}}),new c(".tbh-discover-goods",{webp:!0}),m||(m=!0,t.el.fire("M:load"))},reporterHTML:function(){this.reporter({desc:"\u5143\u7d20\u4e0d\u5b58\u5728",category:"WARN_Goods_DataHTML_err",data:{val:this.$refresh.html()}})},reporter:function(e,t){var a=e.category||"WARN_Goods_Data_err",o=e.type||"warn";s.send({category:a,msg:r.stringify({type:o,data:e.data||{},desc:e.msg||"",name:v})},t||"warn")}},a});KISSY.add("tb-mod/tbh-footprint/0.0.2/footprint-xtpl",function(t,e,a,r){var o=r.exports=function(t){function e(t,e,a){var o=t.data,n=t.affix;e.data+=" footprint-tag-";var i=(r=n.marks)!==a?r:(r=o.marks)!==a?r:t.resolveLooseUp(["marks"]);return e=e.writeEscaped(i),e.data+=" footprint-tag",e}function a(t,a,i){var s=t.data,l=t.affix;a.data+="\n<li>\n",p.line=3;var d=(r=l.extMap)!==i?r:(r=s.extMap)!==i?r:t.resolveLooseUp(["extMap"]),m=d;if(m){var c=(r=l.extMap)!==i?null!=r?o=r.marks:r:(r=s.extMap)!==i?null!=r?o=r.marks:r:t.resolveLooseUp(["extMap","marks"]);m=c}var f;f=u.call(n,t,{hash:[{key:["tag"],value:m,depth:0}]},a);var g=f;a=a.writeEscaped(g),a.data+='\n<a href="',p.line=4;var v=(r=l.url)!==i?r:(r=s.url)!==i?r:t.resolveLooseUp(["url"]);a=a.write(v),a.data+='">\n  <img data-src="',p.line=5;var x=(r=l.pic)!==i?r:(r=s.pic)!==i?r:t.resolveLooseUp(["pic"]);a=a.writeEscaped(x),a.data+='_160x160.jpg" src="//g.alicdn.com/s.gif" alt="';var w=(r=l.itemName)!==i?r:(r=s.itemName)!==i?r:t.resolveLooseUp(["itemName"]);a=a.writeEscaped(w),a.data+='" />\n  <span class="wall-item-desc',p.line=6;var b=(r=l.marks)!==i?r:(r=s.marks)!==i?r:t.resolveLooseUp(["marks"]);a=h.call(n,t,{params:[b],fn:e},a),a.data+='">\n    <strong>',p.line=7;var k=(r=l.itemName)!==i?r:(r=s.itemName)!==i?r:t.resolveLooseUp(["itemName"]);a=a.writeEscaped(k),a.data+='</strong><i></i>\n  </span>\n</a>\n<span class="footprint-item-time">',p.line=10;var _=(r=l.time)!==i?r:(r=s.time)!==i?r:t.resolveLooseUp(["time"]);return a=a.writeEscaped(_),a.data+="</span>\n</li>\n",a}{var r,o,n=this,i=n.root,s=n.buffer,l=n.scope,p=(n.runtime,n.name,n.pos),d=l.data,m=l.affix,c=i.nativeCommands,f=i.utils,g=(f.callFn,f.callDataFn,f.callCommand,c.range,c["void"],c.foreach,c.forin,c.each),h=(c["with"],c["if"]),u=c.set;c.include,c.parse,c.extend,c.block,c.macro,c["debugger"]}s.data+="",p.line=1;var v=(r=m.result)!==t?r:(r=d.result)!==t?r:l.resolveLooseUp(["result"]);return s=g.call(n,l,{params:[v],fn:a},s),s.data+="\n",s};o.TPL_NAME=r.id||r.name}),KISSY.add("tb-mod/tbh-footprint/0.0.2/index",["anim","io","node","webp","xctrl","reporter","./footprint-xtpl","tms/xtemplate"],function(t,e){e("anim");var a=e("io"),r=e("node"),o=e("webp"),n=e("xctrl"),i=e("reporter"),s=e("./footprint-xtpl"),l=e("tms/xtemplate"),p=r.all,d="footprint",m="https://tui.taobao.com/recommend?appid=325",c=window.HubCache=window.HubCache||{},f=function(t,e){var a=this;a.el=p(t),a.cfg=e,a.load()};return f.prototype.load=function(){var t=this;a({scriptCharset:"gbk",url:m,dataType:"jsonp",timeout:5}).then(function(e){var a=e[0];c["be_"+d]=a,a&&a.result&&a.result.length>0?t.render(a):i.send({category:"ERROR_"+d+"_load_crash",msg:"\u6a21\u5757"+d+"\u6570\u636e\u683c\u5f0f\u4e0d\u6b63\u786e\u6216\u8005\u6570\u76ee\u8fc7\u5c11"})}).fail(function(){i.send({category:"ERROR_"+d+"_load_crash",msg:"\u6a21\u5757"+d+"\u52a0\u8f7d\u6570\u636e\u5931\u8d25"},"warn")})},f.prototype.render=function(t){var e=this;if(!(t.result.length<6)){p(".tbh-discover-goods .goods").removeClass("goods-stretch"),e.el.one(".footprint").show();var a=new l(s).render(t);e.el.one(".footprint-bd").html(a).hide().fadeIn(.3),o(e.el.all("img")),p(".footprint-tag").length&&e.cfg&&n.dynamic(e.cfg,"map",function(t){t&&t.map&&t.map.length?KISSY.each(t.map,function(t){t.tag&&t.img&&t.width&&t.height&&e.box.all(".footprint-tag-"+t.tag+" i").css({backgroundImage:"url("+t.img+")",width:t.width,height:t.height,right:t.right,bottom:t.bottom}).text(t.name)}):i.send({category:"ERROR_"+d+"_tag_err",msg:"\u6a21\u5757"+d+"\u6253\u6807\u5931\u8d25"})})}},f});KISSY.add("tb-mod/tbh-discover-shop/0.0.10/shop-xtpl",function(a,e,t,r){var n=r.exports=function(a){function e(a,e,t){a.data,a.affix;return e.data+=' class="shop-list-last"',e}function t(a,e,t){var r=a.data,n=a.affix;e.data+="\n  <p>",p.line=6;var i=(o=n.cNum)!==t?o:(o=r.cNum)!==t?o:a.resolveLooseUp(["cNum"]);return e=e.writeEscaped(i),e.data+="</p>\n  ",e}function r(a,e,t){a.data,a.affix;return e.data+='\n  <p class="shop-reason-null">\u6682\u65e0\u5e97\u94fa\u8bc4\u4ef7</p>\n  ',e}function n(a,n,i){var l=a.data,d=a.affix;n.data+='\n<li data-sid="',p.line=3;var c=(o=d.shopId)!==i?o:(o=l.shopId)!==i?o:a.resolveLooseUp(["shopId"]);n=n.writeEscaped(c),n.data+='"';var u=(o=d.xindex)!==i?o:(o=l.xindex)!==i?o:a.resolveLooseUp(["xindex"]),h=u;h=3===u,n=m.call(s,a,{params:[h],fn:e},n),n.data+='>\n  <a href="',p.line=4;var f=(o=d.url)!==i?o:(o=l.url)!==i?o:a.resolveLooseUp(["url"]);n=n.write(f),n.data+='"><strong data-cid="';var v=(o=d.categoryId)!==i?o:(o=l.categoryId)!==i?o:a.resolveLooseUp(["categoryId"]);n=n.writeEscaped(v),n.data+='">';var g=(o=d.categoryName)!==i?o:(o=l.categoryName)!==i?o:a.resolveLooseUp(["categoryName"]);n=n.writeEscaped(g),n.data+="</strong></a>\n  ",p.line=5,p.line=5;var x=(o=d.cNum)!==i?o:(o=l.cNum)!==i?o:a.resolveLooseUp(["cNum"]);n=m.call(s,a,{params:[x],fn:t,inverse:r},n),n.data+='\n  <div class="shop-thumbs">\n    <a href="',p.line=11;var y=(o=d.url)!==i?o:(o=l.url)!==i?o:a.resolveLooseUp(["url"]);n=n.write(y),n.data+='" class="shop-big">\n    <img src="//g.alicdn.com/s.gif" data-ks-lazyload="',p.line=12;var b=(o=d.picThumb)!==i?o:(o=l.picThumb)!==i?o:a.resolveLooseUp(["picThumb"]);n=n.write(b),n.data+='_200x200.jpg"/>\n  </a>\n  <a href="',p.line=14;var L=(o=d.url)!==i?o:(o=l.url)!==i?o:a.resolveLooseUp(["url"]);n=n.write(L),n.data+='">\n    <img src="//g.alicdn.com/s.gif" data-ks-lazyload="',p.line=15;var U=(o=d.pic1)!==i?o:(o=l.pic1)!==i?o:a.resolveLooseUp(["pic1"]);n=n.write(U),n.data+='_100x100.jpg"/>\n  </a>\n  <a href="',p.line=17;var I=(o=d.url)!==i?o:(o=l.url)!==i?o:a.resolveLooseUp(["url"]);n=n.write(I),n.data+='">\n    <img src="//g.alicdn.com/s.gif" data-ks-lazyload="',p.line=18;var N=(o=d.pic2)!==i?o:(o=l.pic2)!==i?o:a.resolveLooseUp(["pic2"]);return n=n.write(N),n.data+='_100x100.jpg"/>\n  </a>\n  </div>\n</li>\n',n}function i(a,e,t){var r=a.data,i=a.affix;e.data+="\n",p.line=2,p.line=2;var l=(o=i.xindex)!==t?o:(o=r.xindex)!==t?o:a.resolveLooseUp(["xindex"]),d=l;return d=4>l,e=m.call(s,a,{params:[d],fn:n},e),e.data+="\n",e}{var o,s=this,l=s.root,d=s.buffer,c=s.scope,p=(s.runtime,s.name,s.pos),u=c.data,h=c.affix,f=l.nativeCommands,v=l.utils,g=(v.callFn,v.callDataFn,v.callCommand,f.range,f["void"],f.foreach,f.forin,f.each),m=(f["with"],f["if"]);f.set,f.include,f.parse,f.extend,f.block,f.macro,f["debugger"]}d.data+="",p.line=1;var x=(o=h.data)!==a?o:(o=u.data)!==a?o:c.resolveLooseUp(["data"]);return d=g.call(s,c,{params:[x],fn:i},d),d.data+="\n\n",d};n.TPL_NAME=r.id||r.name}),KISSY.add("tb-mod/tbh-discover-shop/0.0.10/index",["anim","component","util","url","node","./shop-xtpl","lazyload"],function(a,e){function t(a,e){this.el=s(a),this.conf=e,t.superclass.constructor.apply(this)}e("anim");var r=e("component"),n=e("util"),i=e("url"),o=e("node"),s=o.all,l="shop",d="cache-"+l,c=e("./shop-xtpl"),p=e("lazyload");return r["extends"](t,{init:function(){var a=this;this.pageSize=5,this.fetch().then(n.bind(function(e){var t=s(".shop",this.el).attr("data-permalink");n.each(e,function(e){if(t){var r=a.getArgsStr(e.url),n=t.indexOf("?")>-1?"&":"?";e.url=t+n+"categoryId="+e.categoryId+"&shopId="+e.shopId,r&&(e.url+="&"+r)}});var r=s(".shop-list",this.el);this.render(c,e,r),r.removeClass("tb-loading").fadeIn(.3),new p(".tbh-discover-shop"),this.el.fire("M:load")},this)).fail(function(a){this.reportError()})},fetch:function(){return this.xctrl({data:this.conf,key:"list",request:"taobao"}).then(n.bind(function(a){return a&&a.list&&a.list.length>=this.pageSize?(this.offline.setItem(d,JSON.stringify(a.list)),a.list):(a=this.offline.getItem(d),a?(this.reportCache(),JSON.parse(a)):this.backup())},this))},backup:function(){return this.use("p/"+this.name+"/index",function(a,e){return this.reportCDN(),e},function(a){this.reportError()})},getArgsStr:function(a){var e=[];try{var t=i.parse(a,!0);return t.query.algArgs&&e.push("algArgs="+t.query.algArgs),t.query.rpos&&e.push("rpos="+t.query.rpos),e.join("&")}catch(r){}},defaults:function(){return{name:"tbh-discover-shop",category:"ERR_Shop_DATA_NULl"}}}),t});KISSY.add("tb-mod/tbh-sale/0.0.1/index",["node","reporter"],function(e,a){function t(){this.init.apply(this,arguments)}var r=a("node"),n=a("reporter"),o=r.all;return t.prototype.init=function(e){var a=this;a.el=o(e);var t=o(e).one("#J_SaleBd");if(!t.length)return void n.send({category:"ERROR_Sale_Hook_NotFound",msg:"\u6a21\u5757 Sale \u6e32\u67d3\u94a9\u5b50\u6ca1\u627e\u5230\uff0c\u670d\u52a1\u5668\u6e32\u67d3\u51fa\u4e86\u95ee\u9898"});var r=t.attr("data-use");KISSY.use(r,function(e,t){t?(new t,a.el.fire("M:load"),o(".sale-wrapper").removeClass("loading")):n.send({category:"ERROR_Sale_Crash",msg:"Sale \u6a21\u5757\u52a0\u8f7d\u521d\u59cb\u5316\u811a\u672c\u5931\u8d25"})})},t});KISSY.add("tb-mod/tbh-live/0.0.4/item-xtpl",function(a,t,e,n){var i=n.exports=function(a){function t(a,t,e){a.data,a.affix;return t.data+='\n<div class="left-wrapper">\n  <div class="item">\n',t}function e(a,t,e){var n=a.data,i=a.affix;I.line=6;var r=(x=i.xindex)!==e?x:(x=n.xindex)!==e?x:a.resolveLooseUp(["xindex"]),s=r;return s=1===r}function n(a,t,e){a.data,a.affix;return t.data+='\n<ul class="right-wrapper clearfix">\n',t}function i(a,t,e){a.data,a.affix;return t.data+='\n  <li class="item">\n  ',t}function r(a,t,e){a.data,a.affix;t.data+="";var n;n=C(m,a,{params:["400x400","600x600","q90",!0]},t,["$runtime","suffix"]);var i=n;return t=t.writeEscaped(i),t.data+="",t}function s(a,t,e){a.data,a.affix;t.data+="";var n;n=C(m,a,{params:["160x160","240x240","q90",!0]},t,["$runtime","suffix"]);var i=n;return t=t.writeEscaped(i),t.data+="",t}function o(a,t,e){a.data,a.affix;return t.data+='\n      <span class="tag video">\u89c6\u9891</span>\n      ',t}function d(a,t,e){a.data,a.affix;return t.data+='\n      <span class="tag">\u76f4\u64ad</span>\n      ',t}function c(a,t,e){a.data,a.affix;return t.data+="\n  </div>\n</div>\n",t}function l(a,t,e){a.data,a.affix;return t.data+="\n</li>\n",t}function u(a,t,e){var n=a.data,i=a.affix;I.line=35;var r=(x=i.xindex)!==e?x:(x=n.xindex)!==e?x:a.resolveLooseUp(["xindex"]),s=r;return s=8===r}function f(a,t,e){a.data,a.affix;return t.data+="\n  </li>\n</ul>\n",t}function p(a,p,v){var g=a.data,b=a.affix;p.data+="\n",I.line=3,I.line=3;var L=(x=b.xindex)!==v?x:(x=g.xindex)!==v?x:a.resolveLooseUp(["xindex"]),E=L;E=0===L,p=k.call(m,a,{params:[E],fn:t,elseIfs:[{test:e,fn:n}]},p),p.data+="\n  ",I.line=9;var w=(x=b.xindex)!==v?x:(x=g.xindex)!==v?x:a.resolveLooseUp(["xindex"]),y=w;y=w>0,p=k.call(m,a,{params:[y],fn:i},p),p.data+='\n    <a href="//taobaolive.taobao.com/room/index.htm?userId=',I.line=12;var U=(x=b.accountId)!==v?x:(x=g.accountId)!==v?x:a.resolveLooseUp(["accountId"]);p=p.writeEscaped(U),p.data+="&feedId=";var D=(x=b.id)!==v?x:(x=g.id)!==v?x:a.resolveLooseUp(["id"]);p=p.writeEscaped(D),p.data+='">\n      <div class="img-wrapper-outer">\n        <div class="img-wrapper">\n          <img src="',I.line=15;var K=(x=b.accountDO)!==v?null!=x?h=x.headImg:x:(x=g.accountDO)!==v?null!=x?h=x.headImg:x:a.resolveLooseUp(["accountDO","headImg"]);p=p.writeEscaped(K),p.data+="";var O;O=C(m,a,{params:["30x30","50x50","q90",!0]},p,["$runtime","suffix"]);var N=O;p=p.writeEscaped(N),p.data+='" alt="\u5934\u50cf">\n        </div>\n      </div>\n      <p class="name">',I.line=18;var q=(x=b.accountDO)!==v?null!=x?h=x.accountNick:x:(x=g.accountDO)!==v?null!=x?h=x.accountNick:x:a.resolveLooseUp(["accountDO","accountNick"]);p=p.writeEscaped(q),p.data+='</p>\n      <img class="main-img a-opacity" src="',I.line=19;var S=(x=b.coverImg)!==v?x:(x=g.coverImg)!==v?x:a.resolveLooseUp(["coverImg"]);p=p.writeEscaped(S),p.data+="";var _=(x=b.xindex)!==v?x:(x=g.xindex)!==v?x:a.resolveLooseUp(["xindex"]),J=_;J=0===_,p=k.call(m,a,{params:[J],fn:r,inverse:s},p),p.data+='" alt="';var R=(x=b.title)!==v?x:(x=g.title)!==v?x:a.resolveLooseUp(["title"]);p=p.writeEscaped(R),p.data+='">\n      <span class="play-icon"></span>\n      <span class="mask"></span>\n      <h3>',I.line=22;var $=(x=b.title)!==v?x:(x=g.title)!==v?x:a.resolveLooseUp(["title"]);p=p.writeEscaped($),p.data+='</h3>\n    </a>\n    <div class="ft">\n      ',I.line=25;var j=(x=b.status)!==v?x:(x=g.status)!==v?x:a.resolveLooseUp(["status"]),F=j;F="1"===j,p=k.call(m,a,{params:[F],fn:o,inverse:d},p),p.data+='\n      <span class="watch">',I.line=30;var Y=(x=b.totalJoinCount)!==v?x:(x=g.totalJoinCount)!==v?x:a.resolveLooseUp(["totalJoinCount"]);p=p.writeEscaped(Y),p.data+="\u4eba\u89c2\u770b</span>\n    </div>\n",I.line=32,I.line=32;var A=(x=b.xindex)!==v?x:(x=g.xindex)!==v?x:a.resolveLooseUp(["xindex"]),M=A;return M=0===A,p=k.call(m,a,{params:[M],fn:c,inverse:l,elseIfs:[{test:u,fn:f}]},p),p.data+="\n",p}function v(a,t,e){var n=a.data,i=a.affix;t.data+="\n",I.line=2,I.line=2;var r=(x=i.xindex)!==e?x:(x=n.xindex)!==e?x:a.resolveLooseUp(["xindex"]),s=r;return s=10>r,t=k.call(m,a,{params:[s],fn:p},t),t.data+="\n",t}{var x,h,m=this,g=m.root,b=m.buffer,L=m.scope,I=(m.runtime,m.name,m.pos),E=L.data,w=L.affix,y=g.nativeCommands,U=g.utils,C=U.callFn,D=(U.callDataFn,U.callCommand,y.range,y["void"],y.foreach,y.forin,y.each),k=(y["with"],y["if"]);y.set,y.include,y.parse,y.extend,y.block,y.macro,y["debugger"]}b.data+="",I.line=1;var K=(x=w.data)!==a?x:(x=E.data)!==a?x:L.resolveLooseUp(["data"]);return b=D.call(m,L,{params:[K],fn:v},b)};i.TPL_NAME=n.id||n.name}),KISSY.add("tb-mod/tbh-live/0.0.4/index",["component","json","node","util","./item-xtpl"],function(a,t){function e(a,t){this.conf=t,this.el=o(a),this.bdEl=o(".live-bd",this.el),0!==this.bdEl.length&&e.superclass.constructor.apply(this)}var n=t("component"),i=t("json"),r=t("node"),s=t("util"),o=r.all,d=t("./item-xtpl");return n["extends"](e,{init:function(){this.fetch().then(s.bind(function(a){this.render(d,a,this.bdEl)},this)).fail(s.bind(function(a){var t="";"string"==typeof a&&(t=a),a&&a.code&&a.message&&(t="code:"+a.code+" message:"+a.message),this.reportError({category:this.category,extra:t})},this))},fetch:function(){return this.xctrl({data:this.conf,key:"dataList",request:"taobao"}).then(s.bind(function(a){var t=[];return a&&this.validator.array.minItems(a.dataList,9)&&(s.each(a.dataList,function(a){"video"===a.type&&t.push(a.data)}),this.validator.array.minItems(t,9))?(this.offline.setItem(this.cacheKey,i.stringify(t)),t):this.getCache()},this),s.bind(function(){return this.getCache()},this))},getCache:function(){var a=this.offline.getItem(this.cacheKey);return a?(this.reportCache(),i.parse(a)):this.backup()},backup:function(){return this.use(this.cdnKey,!0).then(s.bind(function(a){return this.reportCDN(),a},this))},defaults:function(){return{name:"tbh-live",cacheKey:"tbh-live",cdnKey:"p/tbh-live/index",category:"ERROR_LIVE_Data_err"}}}),e});KISSY.add("tb-mod/tbh-list/0.0.4/item-xtpl",function(t,e,a,i){var n=i.exports=function(t){function e(t,e,a){var i=t.data,n=t.affix;e.data+='<img src="';var r=(l=n.tagUrl)!==a?l:(l=i.tagUrl)!==a?l:t.resolveLooseUp(["tagUrl"]);e=e.writeEscaped(r),e.data+='" class="p-tag" alt=';var s=(l=n.tag)!==a?l:(l=i.tag)!==a?l:t.resolveLooseUp(["tag"]);return e=e.writeEscaped(s),e.data+=">",e}function a(t,e,a){t.data,t.affix;return e.data+='class="second"',e}function i(t,e,a){var i=t.data,n=t.affix;e.data+='\n          <img class="',v.line=21;var r=(l=n.priceTag)!==a?l:(l=i.priceTag)!==a?l:t.resolveLooseUp(["priceTag"]);e=e.writeEscaped(r),e.data+=' p-tag" src="';var s=(l=n.tagUrl)!==a?l:(l=i.tagUrl)!==a?l:t.resolveLooseUp(["tagUrl"]);return e=e.writeEscaped(s),e.data+='">\n          ',e}function n(t,e,a){var n=t.data,r=t.affix;e.data+='\n        <div class="price">\n          <span>&yen;</span><em>',v.line=19;var s=(l=r.promotionPrice)!==a?l:(l=n.promotionPrice)!==a?l:t.resolveLooseUp(["promotionPrice"]);e=e.writeEscaped(s),e.data+="</em>\n          ",v.line=20,v.line=20;var o=(l=r.priceTag)!==a?l:(l=n.priceTag)!==a?l:t.resolveLooseUp(["priceTag"]);return e=L.call(c,t,{params:[o],fn:i},e),e.data+="\n        </div>\n        ",e}function r(t,e,i){var r=t.data,s=t.affix;e.data+="\n      <li ",v.line=12;var o=(l=s.xindex)!==i?l:(l=r.xindex)!==i?l:t.resolveLooseUp(["xindex"]),d=o;d=1===o,e=L.call(c,t,{params:[d],fn:a},e),e.data+='>\n        <div class="img-wrapper">\n          <img src="',v.line=14;var p=(l=s.pic)!==i?l:(l=r.pic)!==i?l:t.resolveLooseUp(["pic"]);e=e.writeEscaped(p),e.data+='" alt="\u6e05\u5355\u56fe\u7247">\n        </div>\n        ',e.data+="\n        ",v.line=17,v.line=17;var f=(l=s.promotionPrice)!==i?l:(l=r.promotionPrice)!==i?l:t.resolveLooseUp(["promotionPrice"]),u=f;if(u){var h=t.resolveLoose(["data","tag"],1);u=h}return e=L.call(c,t,{params:[u],fn:n},e),e.data+="\n      </li>\n      ",e}function s(t,a,i){var n=t.data,s=t.affix;a.data+='\n<div class="item ">\n  <a href="//huodong.taobao.com/wow/tb-20161111/act/qingdan-pc-index?qdId=',v.line=5;var o=(l=s.qdid)!==i?l:(l=n.qdid)!==i?l:t.resolveLooseUp(["qdid"]);a=a.writeEscaped(o),a.data+="&itemIds=";var d=(l=s.itemIds)!==i?l:(l=n.itemIds)!==i?l:t.resolveLooseUp(["itemIds"]);a=a.writeEscaped(d),a.data+="&title=";var p=(l=s.title)!==i?l:(l=n.title)!==i?l:t.resolveLooseUp(["title"]);a=a.writeEscaped(p),a.data+='">\n    <h3>\n      ',v.line=7;var f=t.resolveLoose(["data","tag"],1),u=f;if(u){var h=(l=s.tagUrl)!==i?l:(l=n.tagUrl)!==i?l:t.resolveLooseUp(["tagUrl"]);u=h}a=L.call(c,t,{params:[u],fn:e},a),a.data+="";var m=(l=s.title)!==i?l:(l=n.title)!==i?l:t.resolveLooseUp(["title"]);a=a.writeEscaped(m),a.data+="\n    </h3>\n    <p>",v.line=9;var g=(l=s.description)!==i?l:(l=n.description)!==i?l:t.resolveLooseUp(["description"]);a=a.writeEscaped(g),a.data+='</p>\n    <ul class="clearfix">\n      ',v.line=11,v.line=11;var x=(l=s.itemList)!==i?l:(l=n.itemList)!==i?l:t.resolveLooseUp(["itemList"]);a=U.call(c,t,{params:[x],fn:r},a),a.data+='\n    </ul>\n    <p class="desc">',v.line=28;var b=(l=s.authorName)!==i?l:(l=n.authorName)!==i?l:t.resolveLooseUp(["authorName"]);a=a.writeEscaped(b),a.data+=" ";var E=(l=s.itemCount)!==i?l:(l=n.itemCount)!==i?l:t.resolveLooseUp(["itemCount"]);return a=a.writeEscaped(E),a.data+="</p>\n  </a>\n</div>\n",a}function o(t,e,a){var i=t.data,n=t.affix;e.data+="\n",v.line=3,v.line=3;var r=(l=n.xindex)!==a?l:(l=i.xindex)!==a?l:t.resolveLooseUp(["xindex"]),o=r;return o=2>r,e=L.call(c,t,{params:[o],fn:s},e),e.data+="\n",e}{var l,d,c=this,p=c.root,f=c.buffer,u=c.scope,v=(c.runtime,c.name,c.pos),h=u.data,m=u.affix,g=p.nativeCommands,x=p.utils,U=(x.callFn,x.callDataFn,x.callCommand,g.range,g["void"],g.foreach,g.forin,g.each),L=(g["with"],g["if"]);g.set,g.include,g.parse,g.extend,g.block,g.macro,g["debugger"]}f.data+="\n",v.line=2,v.line=2;var b=(l=m.data)!==t?null!=l?d=l.list:l:(l=h.data)!==t?null!=l?d=l.list:l:u.resolveLooseUp(["data","list"]);return f=U.call(c,u,{params:[b],fn:o},f)};n.TPL_NAME=i.id||i.name}),KISSY.add("tb-mod/tbh-list/0.0.4/index",["component","json","node","util","./item-xtpl"],function(t,e){function a(t,e){this.conf=e,this.el=o(t),this.bdEl=o(".list-bd",this.el),0!==this.bdEl.length&&(this.tag="1"===this.bdEl.attr("data-tag"),a.superclass.constructor.apply(this))}var i=e("component"),n=e("json"),r=e("node"),s=e("util"),o=r.all,l=e("./item-xtpl");return i["extends"](a,{init:function(){this.fetch().then(s.bind(function(t){s.each(t,function(t){var e=[];s.each(t.itemList,function(t){e.push(t.itemId)}),t.itemIds=e.join(",")}),this.render(l,{list:t,tag:this.tag},this.bdEl)},this)).fail(function(t){var e="";"string"==typeof t&&(e=t),t&&t.code&&t.message&&(e="code:"+t.code+" message:"+t.message),this.reportError({category:this.category,extra:e})})},fetch:function(){return this.xctrl({data:this.conf,key:"list",request:"taobao"}).then(s.bind(function(t){return t&&this.validator.array.minItems(t.list,2)?(this.offline.setItem(this.cacheKey,n.stringify(t.list)),t.list):this.getCache()},this),s.bind(function(){return this.getCache()},this))},getCache:function(){var t=this.offline.getItem(this.cacheKey);return t?(this.reportCache(),n.parse(t)):this.backup()},backup:function(){return this.use(this.cdnKey,!0).then(s.bind(function(t){return this.reportCDN(),t},this))},defaults:function(){return{name:"tbh-list",cacheKey:"tbh-list",cdnKey:"p/tbh-list/index",category:"ERROR_LIST_Data_err"}}}),a});KISSY.add("tb-mod/tbh-hotsale/0.0.9/hotsale-xtpl",function(a,e,t,s){var i=s.exports=function(a){function e(a,e,t){a.data,a.affix;e.data+="";var s;s=L.call(u,a,{hash:[{key:["suffix"],value:"_300x300.jpg",depth:0}]},e);var i=s;return e=e.writeEscaped(i),e.data+="",e}function t(a,e,t){a.data,a.affix;return e.data+=' data-ad="1"',e}function s(a,e,t){a.data,a.affix;return e.data+=' class="hotsale-album"',e}function i(a,e,t){var s=a.data,i=a.affix;e.data+=" ";var n=(p=i.marks)!==t?p:(p=s.marks)!==t?p:a.resolveLooseUp(["marks"]);return e=e.write(n),e.data+="",e}function n(a,e,t){a.data,a.affix;return e.data+=" hotsale-hide",e}function r(a,e,t){var s=a.data,i=a.affix,n=(p=i.dacuIcon)!==t?p:(p=s.dacuIcon)!==t?p:a.resolveLooseUp(["dacuIcon"]);return n}function l(a,e,t){var s=a.data,i=a.affix;e.data+=" ";var n=(p=i.dacuIcon)!==t?p:(p=s.dacuIcon)!==t?p:a.resolveLooseUp(["dacuIcon"]);return e=e.writeEscaped(n),e.data+=" ",e}function o(a,e,t){var s=a.data,i=a.affix;e.data+='<span class="hotsale-item-sales">\u9500\u91cf:';var n=(p=i.saleCnt)!==t?p:(p=s.saleCnt)!==t?p:a.resolveLooseUp(["saleCnt"]);return e=e.writeEscaped(n),e.data+="</span>",e}function d(a,d,h){var f=a.data,v=a.affix;d.data+="\n  ",m.line=2;var x=(p=v.extMap)!==h?p:(p=f.extMap)!==h?p:a.resolveLooseUp(["extMap"]),b=x;if(b){var M=(p=v.extMap)!==h?null!=p?c=p.isAd:p:(p=f.extMap)!==h?null!=p?c=p.isAd:p:a.resolveLooseUp(["extMap","isAd"]),g=M;g=1===M;var U=g;if(!U){var k=(p=v.extMap)!==h?null!=p?c=p.isAd:p:(p=f.extMap)!==h?null!=p?c=p.isAd:p:a.resolveLooseUp(["extMap","isAd"]),w=k;w=k===!0,U=w}var y=U;if(!y){var I=(p=v.extMap)!==h?null!=p?c=p.isAd:p:(p=f.extMap)!==h?null!=p?c=p.isAd:p:a.resolveLooseUp(["extMap","isAd"]),E=I;E="true"===I,y=E}b=y}var C;C=L.call(u,a,{hash:[{key:["isAd"],value:b,depth:0}]},d);var _=C;d=d.writeEscaped(_),d.data+="\n  ",m.line=3;var N=(p=v.extMap)!==h?p:(p=f.extMap)!==h?p:a.resolveLooseUp(["extMap"]),S=N;if(S){var K=(p=v.extMap)!==h?null!=p?c=p.isAlbum:p:(p=f.extMap)!==h?null!=p?c=p.isAlbum:p:a.resolveLooseUp(["extMap","isAlbum"]),z=K;z=1===K;var J=z;if(!J){var P=(p=v.extMap)!==h?null!=p?c=p.isAlbum:p:(p=f.extMap)!==h?null!=p?c=p.isAlbum:p:a.resolveLooseUp(["extMap","isAlbum"]),j=P;j=P===!0,J=j}var D=J;if(!D){var H=(p=v.extMap)!==h?null!=p?c=p.isAlbum:p:(p=f.extMap)!==h?null!=p?c=p.isAlbum:p:a.resolveLooseUp(["extMap","isAlbum"]),T=H;T="true"===H,D=T}S=D}var F;F=L.call(u,a,{hash:[{key:["isAlbum"],value:S,depth:0}]},d);var O=F;d=d.writeEscaped(O),d.data+="\n  ",m.line=4;var Y=(p=v.extMap)!==h?p:(p=f.extMap)!==h?p:a.resolveLooseUp(["extMap"]),B=Y;if(B){var q=(p=v.extMap)!==h?null!=p?c=p.marks:p:(p=f.extMap)!==h?null!=p?c=p.marks:p:a.resolveLooseUp(["extMap","marks"]);B=q}var G;G=L.call(u,a,{hash:[{key:["marks"],value:B,depth:0}]},d);var Q=G;d=d.writeEscaped(Q),d.data+="\n  ",m.line=5;var R=(p=v.extMap)!==h?p:(p=f.extMap)!==h?p:a.resolveLooseUp(["extMap"]),V=R;if(V){var W=(p=v.extMap)!==h?null!=p?c=p.dacuIcon:p:(p=f.extMap)!==h?null!=p?c=p.dacuIcon:p:a.resolveLooseUp(["extMap","dacuIcon"]);V=W}var X;X=L.call(u,a,{hash:[{key:["dacuIcon"],value:V,depth:0}]},d);var Z=X;d=d.writeEscaped(Z),d.data+="\n\n  ",m.line=7;var $;$=L.call(u,a,{hash:[{key:["suffix"],value:"_250x250.jpg",depth:0}]},d);var aa=$;d=d.writeEscaped(aa),d.data+="\n  ",m.line=8;var ea=(p=v.isAlbum)!==h?p:(p=f.isAlbum)!==h?p:a.resolveLooseUp(["isAlbum"]);d=A.call(u,a,{params:[ea],fn:e},d),d.data+="\n\n  <li",m.line=10;var ta=(p=v.isAd)!==h?p:(p=f.isAd)!==h?p:a.resolveLooseUp(["isAd"]);d=A.call(u,a,{params:[ta],fn:t},d),d.data+="";var sa=(p=v.isAlbum)!==h?p:(p=f.isAlbum)!==h?p:a.resolveLooseUp(["isAlbum"]);d=A.call(u,a,{params:[sa],fn:s},d),d.data+='>\n    <a href="',m.line=11;var ia=(p=v.detailUrl)!==h?p:(p=f.detailUrl)!==h?p:a.resolveLooseUp(["detailUrl"]);d=d.writeEscaped(ia),d.data+='" class="hotsale-item">\n      <span class="hotsale-imgwrapper"><img src="//g.alicdn.com/s.gif" data-ks-lazyload="',m.line=12;var na=(p=v.pic)!==h?p:(p=f.pic)!==h?p:a.resolveLooseUp(["pic"]);d=d.writeEscaped(na),d.data+="";var ra=(p=v.suffix)!==h?p:(p=f.suffix)!==h?p:a.resolveLooseUp(["suffix"]);d=d.writeEscaped(ra),d.data+='" alt="';var la=(p=v.itemName)!==h?p:(p=f.itemName)!==h?p:a.resolveLooseUp(["itemName"]);d=d.write(la),d.data+='"/></span>\n      <p><span>',m.line=13;var oa=(p=v.itemName)!==h?p:(p=f.itemName)!==h?p:a.resolveLooseUp(["itemName"]);d=d.write(oa),d.data+='</span></p>\n    </a>\n    <p class="hotsale-item-info">\n      <span class="hotsale-item-marks',m.line=16;var da=(p=v.marks)!==h?p:(p=f.marks)!==h?p:a.resolveLooseUp(["marks"]);d=A.call(u,a,{params:[da],fn:i,inverse:n,elseIfs:[{test:r,fn:l}]},d),d.data+='"></span>\n      <span class="hotsale-item-price"><em>&yen;</em>',m.line=17;var pa=(p=v.promotionPrice)!==h?p:(p=f.promotionPrice)!==h?p:a.resolveLooseUp(["promotionPrice"]);d=d.writeEscaped(pa),d.data+="</span>\n      ",m.line=18;var ca=(p=v.saleCnt)!==h?p:(p=f.saleCnt)!==h?p:a.resolveLooseUp(["saleCnt"]);d=A.call(u,a,{params:[ca],fn:o},d),d.data+='\n    </p>\n    <a class="hotsale-item-more" href="',m.line=20;var ua=(p=v.url)!==h?p:(p=f.url)!==h?p:a.resolveLooseUp(["url"]);return d=d.writeEscaped(ua),d.data+='" title="\u53d1\u73b0\u66f4\u591a\u76f8\u4f3c\u7684\u5b9d\u8d1d" target="_blank">\n      <h4>\u627e\u76f8\u4f3c</h4>\n      <p>\u53d1\u73b0\u66f4\u591a\u76f8\u4f3c\u7684\u5b9d\u8d1d<span class="tb-icon">&#xe627;</span></p>\n    </a>\n  </li>\n',d}{var p,c,u=this,h=u.root,f=u.buffer,v=u.scope,m=(u.runtime,u.name,u.pos),x=v.data,b=v.affix,M=h.nativeCommands,g=h.utils,U=(g.callFn,g.callDataFn,g.callCommand,M.range,M["void"],M.foreach,M.forin,M.each),A=(M["with"],M["if"]),L=M.set;M.include,M.parse,M.extend,M.block,M.macro,M["debugger"]}f.data+="",m.line=1;var k=(p=b.data)!==a?p:(p=x.data)!==a?p:v.resolveLooseUp(["data"]);return f=U.call(u,v,{params:[k],fn:d},f),f.data+="\n",f};i.TPL_NAME=s.id||s.name}),KISSY.add("tb-mod/tbh-hotsale/0.0.9/index",["component","lazyload","node","util","./hotsale-xtpl"],function(a,e){function t(a,e){this.el=n(a),this.box=n(".J_HotSale",this.el),this.conf=e,t.superclass.constructor.apply(this)}var s=e("component"),i=e("lazyload"),n=e("node").all,r=e("util"),l=e("./hotsale-xtpl");return s["extends"](t,{init:function(){this.load().then(r.bind(function(a){var e=a.length;e-=n(".s1190").length?e%4:e%5,a=a.slice(0,e),this.render(l,a,n("ul",this.box)),n(".tb-loading",this.box).remove(),n(".hotsale-end",this.box).show(),new i(".J_HotSale",{autoDestroy:!0}),this._bind(),this._addTags()},this)).fail(function(a){this.reportError()})},_bind:function(){var a=this,e=n(window);e.on("resize",function(){var t=n("ul",a.box),s=n("li",t),i=s.length;if(e.width()<1190){if(s.show(),i%4==0)return;s.slice(i%4*-1).hide()}else{if(s.show(),i%5==0)return;s.slice(i%5*-1).hide()}})},load:function(){var a={appid:2493},e=this.box.attr("data-size");return e&&(a.size=e),this.jsonp({url:"//tui.taobao.com/recommend",data:a,timeout:5}).then(r.bind(function(a){return a&&this.validator.array.minItems(a.result,20)?(a=a.result.slice(0,200),this.offline.setItem(this.cacheKey,JSON.stringify(a)),a):this.getCache()},this),r.bind(function(a){return this.getCache()},this))},getCache:function(){var a=this.offline.getItem(this.cacheKey);return a?(this.reportCache(),JSON.parse(a)):this.tce()},tce:function(){return this.xctrl({data:this.conf,key:"backup"}).then(r.bind(function(a){return a&&this.validator.array.minItems(a.backup,20)?(this.reportBackup(),a.backup):this.backup()},this))},backup:function(){return this.use(this.cdnKey,!0).then(r.bind(function(a){return this.reportCDN(),a},this))},_addTags:function(){var a=this;this.xctrl({data:this.conf,key:"map"}).then(function(e){e&&e.map&&e.map.length&&r.each(e.map,function(e){e.tag&&e.img&&e.width&&e.height&&a.box.all("."+e.tag).css({backgroundImage:"url("+e.img+")",width:e.width,height:e.height,left:e.left,top:e.top})})})},defaults:function(){return{name:"tbh-hotsale",cacheKey:"tbh-hotsale",cdnKey:"p/tbh-hotsale/index",category:"Err_HotSale_load_data_Crash"}}}),t});KISSY.add("tb-mod/tbh-helper/0.0.1/helper-xtpl",function(e,a,n,t){var r=t.exports=function(e){function a(e,a,n){e.data,e.affix;return a.data+=" mod-last",a}function n(e,a,n){var t=e.data,r=e.affix;a.data+='\n            <li><a href="',c.line=11;var i=(l=r.link)!==n?l:(l=t.link)!==n?l:e.resolveLooseUp(["link"]);a=a.writeEscaped(i),a.data+='">';var o=(l=r.text)!==n?l:(l=t.text)!==n?l:e.resolveLooseUp(["text"]);return a=a.writeEscaped(o),a.data+="</a></li>\n            ",a}function t(e,t,r){var i=e.data,s=e.affix;t.data+='\n<div class="mod',c.line=3;var d=(l=s.xindex)!==r?l:(l=i.xindex)!==r?l:e.resolveLooseUp(["xindex"]),p=d;p=d+1;var f=p,m=(l=s.xcount)!==r?l:(l=i.xcount)!==r?l:e.resolveLooseUp(["xcount"]);f=p===m,t=u.call(o,e,{params:[f],fn:a},t),t.data+='" data-spm-ab="';var v=(l=s.xindex)!==r?l:(l=i.xindex)!==r?l:e.resolveLooseUp(["xindex"]),h=v;h=v+1,t=t.writeEscaped(h),t.data+='">\n    <div class="mod-wrap">\n        <h4>\n            <i class="tb-icon">&#',c.line=6;var g=(l=s.icon)!==r?l:(l=i.icon)!==r?l:e.resolveLooseUp(["icon"]);t=t.write(g),t.data+=";</i>\n            <span>",c.line=7;var b=(l=s.name)!==r?l:(l=i.name)!==r?l:e.resolveLooseUp(["name"]);t=t.writeEscaped(b),t.data+="</span>\n        </h4>\n        <ul>\n            ",c.line=10,c.line=10;var L=(l=s.items)!==r?l:(l=i.items)!==r?l:e.resolveLooseUp(["items"]);return t=x.call(o,e,{params:[L],fn:n},t),t.data+="\n        </ul>\n    </div>\n</div>\n",t}function r(e,a,n){var r=e.data,i=e.affix;a.data+="\n",c.line=2,c.line=2;var s=(l=i.helpers)!==n?l:(l=r.helpers)!==n?l:e.resolveLooseUp(["helpers"]);return a=x.call(o,e,{params:[s],fn:t},a),a.data+="\n",a}{var l,i,o=this,s=o.root,d=o.buffer,p=o.scope,c=(o.runtime,o.name,o.pos),f=p.data,m=p.affix,v=s.nativeCommands,h=s.utils,x=(h.callFn,h.callDataFn,h.callCommand,v.range,v["void"],v.foreach,v.forin,v.each),u=(v["with"],v["if"]);v.set,v.include,v.parse,v.extend,v.block,v.macro,v["debugger"]}d.data+="",c.line=1;var g=(l=m.helpers)!==e?null!=l?i=l.length:l:(l=f.helpers)!==e?null!=l?i=l.length:l:p.resolveLooseUp(["helpers","length"]);return d=u.call(o,p,{params:[g],fn:r},d)};r.TPL_NAME=t.id||t.name}),KISSY.add("tb-mod/tbh-helper/0.0.1/index",["anim","json","node","xctrl","offline","reporter","tms/xtemplate","./helper-xtpl"],function(e,a){function n(){this.loadData.apply(this,arguments)}a("anim");var t=a("json"),r=a("node"),l=a("xctrl"),i=a("offline"),o=a("reporter"),s=a("tms/xtemplate"),d=a("./helper-xtpl"),p=new i,c="cache-helper-tce";return n.prototype.loadData=function(e,a){var n=this;n.el=r.one(e),a&&l.dynamic(a,"helpers",function(e){if(e&&e.helpers&&e.helpers.length>0)p.setItem(c,t.stringify(e)),n.render(e);else{var a=p.getItem(c);n.render(t.parse(a))}})},n.prototype.render=function(a){var n=this.el,t=new s(d).render(a);e.trim(t)||o.send({category:"ERROR_Helper_get_null_data",msg:"\u5e2e\u52a9\u6a21\u5757\u83b7\u53d6\u6570\u636e\u4e3a\u7a7a"},"warn"),n.one(".helper").html(t).css("visibility","visible").hide().fadeIn(.3),n.fire("M:load")},n});KISSY.add("tb-mod/tbh-decorations/0.0.5/dec-xtpl",function(e,a,r,t){var o=t.exports=function(e){function a(e,a,r){var t=e.data,o=e.affix;a.data+="right:";var i=-1,n=(h=o.right)!==r?h:(h=t.right)!==r?h:e.resolveLooseUp(["right"]);return i=-1*n,a=a.writeEscaped(i),a.data+="px",a}function r(e,a,r){var t=e.data,o=e.affix;a.data+="left:";var i=-1,n=(h=o.left)!==r?h:(h=t.left)!==r?h:e.resolveLooseUp(["left"]);return i=-1*n,a=a.writeEscaped(i),a.data+="px",a}function t(e,a,r){e.data,e.affix;return a.data+="z-index:3;",a}function o(e,a,r){e.data,e.affix;return a.data+="z-index:-1;",a}function i(e,a,r){var t=e.data,o=e.affix;a.data+='data-img="';var i=(h=o.img)!==r?h:(h=t.img)!==r?h:e.resolveLooseUp(["img"]);a=a.write(i),a.data+='" data-hover="';var n=(h=o.hover)!==r?h:(h=t.hover)!==r?h:e.resolveLooseUp(["hover"]);return a=a.write(n),a.data+='"',a}function n(e,n,l){var s=e.data,d=e.affix;n.data+='\n    <a href="',b.line=5;var v=(h=d.link)!==l?h:(h=s.link)!==l?h:e.resolveLooseUp(["link"]);n=n.write(v),n.data+='" class="decorations-item" style="background:url(';var p=(h=d.img)!==l?h:(h=s.img)!==l?h:e.resolveLooseUp(["img"]);n=n.write(p),n.data+=") no-repeat;width:";var c=(h=d.width)!==l?h:(h=s.width)!==l?h:e.resolveLooseUp(["width"]);n=n.writeEscaped(c),n.data+="px;height:";var f=(h=d.height)!==l?h:(h=s.height)!==l?h:e.resolveLooseUp(["height"]);n=n.writeEscaped(f),n.data+="px;";var g=(h=d.isRight)!==l?h:(h=s.isRight)!==l?h:e.resolveLooseUp(["isRight"]);n=k.call(u,e,{params:[g],fn:a,inverse:r},n),n.data+=";bottom:";var m=(h=d.bottom)!==l?h:(h=s.bottom)!==l?h:e.resolveLooseUp(["bottom"]);n=n.writeEscaped(m),n.data+="px;top:";var w=(h=d.top)!==l?h:(h=s.top)!==l?h:e.resolveLooseUp(["top"]);n=n.writeEscaped(w),n.data+="px;";var y=(h=d.overlayer)!==l?h:(h=s.overlayer)!==l?h:e.resolveLooseUp(["overlayer"]);n=k.call(u,e,{params:[y],fn:t},n),n.data+="";var x=(h=d.belowlayer)!==l?h:(h=s.belowlayer)!==l?h:e.resolveLooseUp(["belowlayer"]);n=k.call(u,e,{params:[x],fn:o},n),n.data+='" ';var L=(h=d.hover)!==l?h:(h=s.hover)!==l?h:e.resolveLooseUp(["hover"]);n=k.call(u,e,{params:[L],fn:i},n),n.data+=">";var U=(h=d.title)!==l?h:(h=s.title)!==l?h:e.resolveLooseUp(["title"]);return n=n.writeEscaped(U),n.data+="</a>\n    ",n}function l(e,a,r){var t=e.data,o=e.affix;a.data+="right:";var i=-1,n=(h=o.right)!==r?h:(h=t.right)!==r?h:e.resolveLooseUp(["right"]);return i=-1*n,a=a.writeEscaped(i),a.data+="px",a}function s(e,a,r){var t=e.data,o=e.affix;a.data+="left:";var i=-1,n=(h=o.left)!==r?h:(h=t.left)!==r?h:e.resolveLooseUp(["left"]);return i=-1*n,a=a.writeEscaped(i),a.data+="px",a}function d(e,a,r){e.data,e.affix;return a.data+="z-index:3;",a}function v(e,a,r){e.data,e.affix;return a.data+="z-index:-1;",a}function p(e,a,r){var t=e.data,o=e.affix;a.data+='data-img="';var i=(h=o.img)!==r?h:(h=t.img)!==r?h:e.resolveLooseUp(["img"]);a=a.write(i),a.data+='" data-hover="';var n=(h=o.hover)!==r?h:(h=t.hover)!==r?h:e.resolveLooseUp(["hover"]);return a=a.write(n),a.data+='"',a}function c(e,a,r){var t=e.data,o=e.affix;a.data+='\n    <i class="decorations-item" style="background:url(',b.line=7;var i=(h=o.img)!==r?h:(h=t.img)!==r?h:e.resolveLooseUp(["img"]);a=a.write(i),a.data+=") no-repeat;width:";var n=(h=o.width)!==r?h:(h=t.width)!==r?h:e.resolveLooseUp(["width"]);a=a.writeEscaped(n),a.data+="px;height:";var c=(h=o.height)!==r?h:(h=t.height)!==r?h:e.resolveLooseUp(["height"]);a=a.writeEscaped(c),a.data+="px;";var f=(h=o.isRight)!==r?h:(h=t.isRight)!==r?h:e.resolveLooseUp(["isRight"]);a=k.call(u,e,{params:[f],fn:l,inverse:s},a),a.data+=";bottom:";var g=(h=o.bottom)!==r?h:(h=t.bottom)!==r?h:e.resolveLooseUp(["bottom"]);a=a.writeEscaped(g),a.data+="px;top:";var m=(h=o.top)!==r?h:(h=t.top)!==r?h:e.resolveLooseUp(["top"]);a=a.writeEscaped(m),a.data+="px;";var w=(h=o.overlayer)!==r?h:(h=t.overlayer)!==r?h:e.resolveLooseUp(["overlayer"]);a=k.call(u,e,{params:[w],fn:d},a),a.data+="";var y=(h=o.belowlayer)!==r?h:(h=t.belowlayer)!==r?h:e.resolveLooseUp(["belowlayer"]);a=k.call(u,e,{params:[y],fn:v},a),a.data+='" ';var x=(h=o.hover)!==r?h:(h=t.hover)!==r?h:e.resolveLooseUp(["hover"]);a=k.call(u,e,{params:[x],fn:p},a),a.data+=">";var L=(h=o.title)!==r?h:(h=t.title)!==r?h:e.resolveLooseUp(["title"]);return a=a.writeEscaped(L),a.data+="</i>\n    ",a}function f(e,a,r){var t=e.data,o=e.affix;a.data+="\n    ",b.line=2;var i=(h=o.overlayer)!==r?h:(h=t.overlayer)!==r?h:e.resolveLooseUp(["overlayer"]),l=i;l=1===i;var s=l;if(!s){var d=(h=o.overlayer)!==r?h:(h=t.overlayer)!==r?h:e.resolveLooseUp(["overlayer"]),v=d;v=d===!0,s=v}var p=s;if(!p){var f=(h=o.overlayer)!==r?h:(h=t.overlayer)!==r?h:e.resolveLooseUp(["overlayer"]),g=f;g="true"===f,p=g}var m;m=S.call(u,e,{hash:[{key:["overlayer"],value:p,depth:0}]},a);var w=m;a=a.writeEscaped(w),a.data+="\n    ",b.line=3;var y=(h=o.belowlayer)!==r?h:(h=t.belowlayer)!==r?h:e.resolveLooseUp(["belowlayer"]),x=y;x=1===y;var L=x;if(!L){var U=(h=o.belowlayer)!==r?h:(h=t.belowlayer)!==r?h:e.resolveLooseUp(["belowlayer"]),E=U;E=U===!0,L=E}var R=L;if(!R){var I=(h=o.belowlayer)!==r?h:(h=t.belowlayer)!==r?h:e.resolveLooseUp(["belowlayer"]),z=I;z="true"===I,R=z}var K;K=S.call(u,e,{hash:[{key:["belowlayer"],value:R,depth:0}]},a);var O=K;a=a.writeEscaped(O),a.data+="\n    ",b.line=4,b.line=4;var Y=(h=o.link)!==r?h:(h=t.link)!==r?h:e.resolveLooseUp(["link"]);return a=k.call(u,e,{params:[Y],fn:n,inverse:c},a),a.data+="\n",a}{var h,u=this,g=u.root,m=u.buffer,w=u.scope,b=(u.runtime,u.name,u.pos),y=w.data,x=w.affix,L=g.nativeCommands,U=g.utils,E=(U.callFn,U.callDataFn,U.callCommand,L.range,L["void"],L.foreach,L.forin,L.each),k=(L["with"],L["if"]),S=L.set;L.include,L.parse,L.extend,L.block,L.macro,L["debugger"]}m.data+="",b.line=1;var R=(h=x.decorations)!==e?h:(h=y.decorations)!==e?h:w.resolveLooseUp(["decorations"]);return m=E.call(u,w,{params:[R],fn:f},m),m.data+="\n",m};o.TPL_NAME=t.id||t.name}),KISSY.add("tb-mod/tbh-decorations/0.0.5/index",["anim","node","webp","xtemplate","./dec-xtpl"],function(e,a){function r(e,a){return a||(e=n[e]&&n[e][0]&&n[e][0].on),1===e||"true"===e||e===!0}var t=(a("anim"),a("node")),o=(a("webp"),a("xtemplate")),i=a("./dec-xtpl"),n={},l=t.all,s=new o(i),d=!1,v=window.location.search;v&&(v=KISSY.unparam(v.slice(1)),d=v.hasOwnProperty("noDeco"));var p=function(e){return this.el=l(e),d?void l(".cup .decorations-box").remove():void this.init()};return p.prototype.init=function(){var e=this,a=this.el.one("textarea");a&&(n=JSON.parse(a.val()),KISSY.each("padding hideLogo left right bgs".split(" "),function(a){r(a)&&"function"==typeof e["run"+a]&&e["run"+a](n[a][0])}),this.bind()),e.el.fire("M:load")},p.prototype.runpadding=function(e){var a=parseInt(e.height);a>0&&l(".cup .decorations-box").height(a).show()},p.prototype.runsearch=function(e){l(".search-wrap").css({backgroundImage:"url("+e.img+")",backgroundRepeat:"no-repeat",left:e.left,top:e.top})},p.prototype.hidelogo=function(e){l(".logo-bd").fadeOut(.3)},p.prototype.runleft=function(e){var a=s.render(e);l(".tbh-service").prepend(a)},p.prototype.runright=function(e){e.isRight=!0;var a=s.render(e);l(".ca-extra").prepend(a)},p.prototype.bind=function(){l(".decorations-item").each(function(){var e=l(this),a=e.attr("data-hover"),r=e.attr("data-img");r&&a&&a.indexOf("//")>-1&&e.on("mouseenter",function(){e.css("background-image","url("+a+")")}).on("mouseleave",function(){e.css("background-image","url("+r+")")})})},p});KISSY.add("tb-mod/tbh-fixedtool/0.0.17/index",["anim","ua","node","attr-anim"],function(o,t){t("anim");var e=t("ua"),a=t("node"),i=t("attr-anim"),n=a.all,s=n(window),l=e&&e.ie&&8===e.ie,r=l?0:.4,d=function(o){return this.el=n(o),this.$tools=n(".J_FixedTool",this.el),this.enabledFeedback=!!this.$tools.attr("data-feedback"),this.feddbackVersion=this.$tools.attr("data-version")||"0.1.26",e.ipad||e.android?void this.el.hide():void(this.$tools.length&&this.init())};return d.prototype.init=function(){this.bind(),this.el.fire("M:load")},d.prototype.bind=function(){function o(){a.each(function(o){var t=n(o),e=t.attr("data-tool"),a=n('div[data-name="'+e+'"]');if(e&&a&&a.length){var i=a.offset().top-48;d[e]={obj:a,item:t,top:i},c.push(i),f[i]={obj:a,item:t}}}),c=c.sort(function(o,t){return o>t?1:-1})}var t=this,e=n('a[data-tool="gotop"]',this.$tools),a=t.$tools.all("a"),d={},c=[],f={};o(),this.el.delegate("click","a",function(e){var a=n(e.currentTarget),s=a.attr("data-tool");if(!s)return t.enabledFeedback&&a.hasClass(".fixedtool-8")&&t._showFeedback()&&(e.preventDefault(),t._feedback()),!0;if(e.halt(),"gotop"===s)return l?void n(window).scrollTop(0):(new i(n("html"),{scrollTop:0},{duration:r,easing:"easeOut"}).run(),void new i(n("body"),{scrollTop:0},{duration:r,easing:"easeOut"}).run());if("hotsale"===s&&o(),d[s]){var c=d[s].item,f=d[s].top;if(t.el.all(".on").removeClass("on"),c.addClass("on"),l)return n("body").scrollTop(f),void n("html").scrollTop(f);new i(n("body"),{scrollTop:f},{duration:r,easing:"easeOut"}).run(),new i(n("html"),{scrollTop:f},{duration:r,easing:"easeOut"}).run()}}),s.on("scroll",function(){var o=s.scrollTop(),a=n(".tbh-conve").offset().top+2,i=49;if(o>s.height()?e.show():e.hide(),a-i>=o){var l=n("a",t.el).attr("data-tool");d[l]&&d[l].obj.addClass("on"),t.$tools.css({position:"absolute",top:a})}else{t.$tools.css({position:"fixed",top:i});var r=c[c.length-1];if(o>=r)return t.el.all(".on").removeClass("on"),void f[r].item.addClass("on");for(var u=1,h=c.length;h>u;u++)if(o>=c[u-1]&&o<c[u]){t.el.all(".on").removeClass("on"),f[c[u-1]].item.addClass("on");break}}}).fire("scroll"),s.on("resize",function(){var o=s.width(),e=n(".fixedtool",t.el);o>1190&&1311>o?e.addClass("ft1190"):e.removeClass("ft1190"),1111>o?e.addClass("ft990"):e.removeClass("ft990")}).fire("resize"),t.$tools.fadeIn(.5)},d.prototype._showFeedback=function(){return!(e.ios||e.android||e.ipad||e.iphone)},d.prototype._feedback=function(){function t(){try{e.feedback.init({productId:875,source:"web"})}catch(o){}}var e=this;this.feedback&&t(),o.use("kg/xz-feedback-pc-tb/"+this.feddbackVersion+"/index",function(o,a){e.feedback=new a,t()})},d});KISSY.add("tb-mod/tbh-bubble/0.0.2/index",["io","node","json","offline","reporter"],function(e,t){var a=t("io"),o=t("node"),n=t("json"),b=t("offline"),r=t("reporter"),i=o.all,c=new b,l=TB.Global.getNick(),u=window.HubCache=window.HubCache||{},s=n.parse(c.getItem("cache-bubble_data")),f="//vip.taobao.com/ajax/getUserOccurScene.do",d=function(e){return this.el=i(e),o.one(".bubble")?(this.init(),void this.el.fire("M:load")):void this.el.fire("M:load")};return d.prototype={init:function(){var e=this;if(""!=l){var t=c.getItem("cache-bubble_req"),a=t?t.split(":")[0]:0,o=t?t.split(":")[1]:null,n=t?t.split(":")[2]:null,b=(new Date).getDate(),r=(new Date).getHours();t&&s&&a==b&&l==n&&(1>o&&1>r||o>=1&&r>=1&&12>o&&12>r||o>=12&&r>=12)?e.render(s):e.getInfo()}},render:function(e){if(e&&e.code&&e.status){var t,a,o=e.code,b=c.getItem("cache-bubble_tap_"+l),u=b?b.split(":")[0]:0,s=b?b.split(":")[1]:0,f=(new Date).getDate(),d=(new Date).getHours();if(f!=u&&window.localStorage)for(a in localStorage)if(/cache-bubble_tap/.test(a))try{localStorage.removeItem(a)}catch(h){}if(0==o)return void r.send({category:"ERROR_Bubble_Crash",msg:"bubble\u6a21\u5757\u8bf7\u6c42\u5931\u8d25"});if(-1!=o&&1==o){if(c.setItem("cache-bubble_req",f+":"+d+":"+l),c.setItem("cache-bubble_data",n.stringify(e)),t=e.data.info||[],b&&u==f&&"1"==s)return;if(3!=t.length)return;var p=i(".J_Cup"),g=t[0]+"<a href='"+t[2]+"' target='_blank'>"+t[1]+"</a>",_=-1*(p.offset().top-i(".tbh-sitenav").height()-6);i(".bubble-box").prepend(g),i(".J_Bubble").prependTo(p).css("top",_).show(),c.setItem("cache-bubble_tap_"+l,f+":0"),i(".bubble-box b").on("click",function(e){e.halt(),i(e.currentTarget).parent().remove()}),i(".bubble-box a").on("click",function(){c.setItem("cache-bubble_tap_"+l,f+":1")})}}},getInfo:function(){var e=this;a({url:f,type:"GET",dataType:"jsonp",data:{nick:l},cache:!1,timeout:5,success:function(t){u.be_bubble=t,e.render(t)},error:function(){e.render(s)}})}},d});KISSY.add("tb-mod/tbh-inject/0.0.1/index",function(n,t){function d(){}return d});KISSY.add("tb-mod/tbh-like/0.1.5/validator",function(a,e){var t="NOT_EMPTY";return{array:{maxItems:function(e,t){return a.isArray(e)&&e.length<=t?!0:void 0},minItems:function(e,t){return a.isArray(e)&&e.length>=t?!0:void 0}},object:{required:function(e,t){if(a.isArray(t)){var r=!0;return a.each(t,function(a){e.hasOwnProperty(a)||(r=!1)}),r}}},properties:function(a,e){var r=!0;for(var l in e)if(e.hasOwnProperty(l))if(a.hasOwnProperty(l)){var n=(e[l],a[l]);n.format&&n.format===t&&(a[l]||(r=!1))}else r=!1;return r},notEmpty:function(a,e){for(var t=!0,r=0,l=e.length;l>r;r++){var n=e[r],o={};o[n]={format:"NOT_EMPTY"};var i=this.properties(a,o);if(!i){t=!1;break}}}}}),KISSY.add("tb-mod/tbh-like/0.1.5/overall-xtpl",function(a,e,t,r){var l=r.exports=function(a){function e(a,e,t){a.data,a.affix;return e.data+="200x200",e}function t(a,e,t){a.data,a.affix;return e.data+="100x100",e}function r(a,r,l){var n=a.data,o=a.affix;r.data+='\n    <a href="',z.line=6;var i=($=o.targetUrl)!==l?$:($=n.targetUrl)!==l?$:a.resolveLooseUp(["targetUrl"]);r=r.write(i),r.data+='" class="fi-logo" style="background-color:';var d=($=o.logoBackgroundColor)!==l?$:($=n.logoBackgroundColor)!==l?$:a.resolveLooseUp(["logoBackgroundColor"]);r=r.writeEscaped(d),r.data+=';"><em>';var s=($=o.name)!==l?$:($=n.name)!==l?$:a.resolveLooseUp(["name"]);r=r.writeEscaped(s),r.data+='</em><img src="';var u=($=o.$runtime)!==l?null!=$?y=$.placeholder:$:($=n.$runtime)!==l?null!=$?y=$.placeholder:$:a.resolveLooseUp(["$runtime","placeholder"]);r=r.writeEscaped(u),r.data+='" data-ks-lazyload="';var p=($=o.imgUrl)!==l?$:($=n.imgUrl)!==l?$:a.resolveLooseUp(["imgUrl"]);r=r.write(p),r.data+="_";var v=($=o.$runtime)!==l?null!=$?y=$.retina:$:($=n.$runtime)!==l?null!=$?y=$.retina:$:a.resolveLooseUp(["$runtime","retina"]);r=S.call(C,a,{params:[v],fn:e,inverse:t},r),r.data+='.jpg" alt="';var c=($=o.name)!==l?$:($=n.name)!==l?$:a.resolveLooseUp(["name"]);return r=r.writeEscaped(c),r.data+='"/></a>\n    ',r}function l(a,e,t){a.data,a.affix;return e.data+=' class="tbh-tag"',e}function n(a,e,t){var r=a.data,n=a.affix;e.data+="\n          ",z.line=12;var o,i=($=n.tag)!==t?$:($=r.tag)!==t?$:a.resolveLooseUp(["tag"]);o=K.call(C,a,{hash:[{key:["isHot"],value:!!i,depth:0}]},e);var d=o;e=e.writeEscaped(d),e.data+='\n          <a href="',z.line=13;var s=($=n.targetUrl)!==t?$:($=r.targetUrl)!==t?$:a.resolveLooseUp(["targetUrl"]);e=e.write(s),e.data+='"';var u=($=n.isHot)!==t?$:($=r.isHot)!==t?$:a.resolveLooseUp(["isHot"]);e=S.call(C,a,{params:[u],fn:l},e),e.data+=">";var p=($=n.text)!==t?$:($=r.text)!==t?$:a.resolveLooseUp(["text"]);return e=e.writeEscaped(p),e.data+="</a>\n        ",e}function o(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function i(a,e,t){var r=a.data,l=a.affix;e.data+='\n        <a href="',z.line=26;var n=($=l.targetUrl)!==t?$:($=r.targetUrl)!==t?$:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='">\n          <img src="',z.line=27;var i=($=l.$runtime)!==t?null!=$?y=$.placeholder:$:($=r.$runtime)!==t?null!=$?y=$.placeholder:$:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(i),e.data+='" data-ks-lazyload="';var d=($=l.imgUrl)!==t?$:($=r.imgUrl)!==t?$:a.resolveLooseUp(["imgUrl"]);e=e.write(d),e.data+="_80x80.jpg";var s=($=l.$runtime)!==t?null!=$?y=$.webp:$:($=r.$runtime)!==t?null!=$?y=$.webp:$:a.resolveLooseUp(["$runtime","webp"]);e=S.call(C,a,{params:[s],fn:o},e),e.data+='" alt="';var u=($=l.text1)!==t?$:($=r.text1)!==t?$:a.resolveLooseUp(["text1"]);e=e.writeEscaped(u),e.data+='"/>\n          <span>',z.line=28;var p=($=l.text1)!==t?$:($=r.text1)!==t?$:a.resolveLooseUp(["text1"]);return e=e.writeEscaped(p),e.data+="</span>\n        </a>\n        ",e}function d(a,e,t){var r=a.data,l=a.affix;e.data+="\n        ",z.line=25,z.line=25;var n=($=l.xindex)!==t?$:($=r.xindex)!==t?$:a.resolveLooseUp(["xindex"]),o=n;return o=2>n,e=S.call(C,a,{params:[o],fn:i},e),e.data+="\n        ",e}function s(a,e,t){a.data,a.affix;return e.data+="s",e}function u(a,e,t){a.data,a.affix;return e.data+="m",e}function p(a,e,t){a.data,a.affix;return e.data+="210x1000",e}function v(a,e,t){a.data,a.affix;return e.data+="100x1000",e}function c(a,e,t){var r=a.data,l=a.affix;e.data+="";var n=($=l.$runtime)!==t?null!=$?y=$.retina:$:($=r.$runtime)!==t?null!=$?y=$.retina:$:a.resolveLooseUp(["$runtime","retina"]);return e=S.call(C,a,{params:[n],fn:p,inverse:v},e),e.data+="",e}function f(a,e,t){a.data,a.affix;return e.data+="300x1000",e}function m(a,e,t){a.data,a.affix;return e.data+="150x10000",e}function x(a,e,t){var r=a.data,l=a.affix;e.data+="";var n=($=l.$runtime)!==t?null!=$?y=$.retina:$:($=r.$runtime)!==t?null!=$?y=$.retina:$:a.resolveLooseUp(["$runtime","retina"]);return e=S.call(C,a,{params:[n],fn:f,inverse:m},e),e.data+="",e}function g(a,e,t){var r=a.data,l=a.affix;e.data+='\n      <a href="',z.line=36;var n=($=l.targetUrl)!==t?$:($=r.targetUrl)!==t?$:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='" class="fi-banner-';var o=($=l.xindex)!==t?$:($=r.xindex)!==t?$:a.resolveLooseUp(["xindex"]),i=o;i=0===o,e=S.call(C,a,{params:[i],fn:s,inverse:u},e),e.data+=' fi-fl">\n        <img src="',z.line=37;var d=($=l.$runtime)!==t?null!=$?y=$.placeholder:$:($=r.$runtime)!==t?null!=$?y=$.placeholder:$:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(d),e.data+='" data-ks-lazyload="';var p=($=l.imgUrl)!==t?$:($=r.imgUrl)!==t?$:a.resolveLooseUp(["imgUrl"]);e=e.write(p),e.data+="_";var v=($=l.xindex)!==t?$:($=r.xindex)!==t?$:a.resolveLooseUp(["xindex"]),f=v;f=0===v,e=S.call(C,a,{params:[f],fn:c,inverse:x},e),e.data+='.jpg" alt="';var m=($=l.text)!==t?$:($=r.text)!==t?$:a.resolveLooseUp(["text"]);return e=e.writeEscaped(m),e.data+='"/>\n      </a>\n      ',e}function U(a,e,t){var r=a.data,l=a.affix;e.data+="\n      ",z.line=35,z.line=35;var n=($=l.xindex)!==t?$:($=r.xindex)!==t?$:a.resolveLooseUp(["xindex"]),o=n;return o=2>n,e=S.call(C,a,{params:[o],fn:g},e),e.data+="\n      ",e}function h(a,e,t){a.data,a.affix;return e.data+="120x120",e}function w(a,e,t){a.data,a.affix;return e.data+="60x60",e}function L(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function k(a,e,t){var r=a.data,l=a.affix;e.data+='\n        <a href="',z.line=51;var n=($=l.targetUrl)!==t?$:($=r.targetUrl)!==t?$:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='"><span><img src="';var o=($=l.$runtime)!==t?null!=$?y=$.placeholder:$:($=r.$runtime)!==t?null!=$?y=$.placeholder:$:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(o),e.data+='" data-ks-lazyload="';var i=($=l.imgUrl)!==t?$:($=r.imgUrl)!==t?$:a.resolveLooseUp(["imgUrl"]);e=e.write(i),e.data+="_";var d=($=l.$runtime)!==t?null!=$?y=$.retina:$:($=r.$runtime)!==t?null!=$?y=$.retina:$:a.resolveLooseUp(["$runtime","retina"]);e=S.call(C,a,{params:[d],fn:h,inverse:w},e),e.data+=".jpg";var s=($=l.$runtime)!==t?null!=$?y=$.webp:$:($=r.$runtime)!==t?null!=$?y=$.webp:$:a.resolveLooseUp(["$runtime","webp"]);e=S.call(C,a,{params:[s],fn:L},e),e.data+='" alt="';var u=($=l.text1)!==t?$:($=r.text1)!==t?$:a.resolveLooseUp(["text1"]);e=e.writeEscaped(u),e.data+='"/></span><strong>';var p=($=l.text1)!==t?$:($=r.text1)!==t?$:a.resolveLooseUp(["text1"]);e=e.writeEscaped(p),e.data+="</strong><em>";var v=($=l.text2)!==t?$:($=r.text2)!==t?$:a.resolveLooseUp(["text2"]);return e=e.writeEscaped(v),e.data+="</em></a>\n        ",e}function b(a,e,t){var r=a.data,l=a.affix;e.data+="\n        ",z.line=50,z.line=50;var n=($=l.xindex)!==t?$:($=r.xindex)!==t?$:a.resolveLooseUp(["xindex"]),o=n;o=n>1;var i=o;if(i){var d=($=l.xindex)!==t?$:($=r.xindex)!==t?$:a.resolveLooseUp(["xindex"]),s=d;s=4>d,i=s}return e=S.call(C,a,{params:[i],fn:k},e),e.data+="\n        ",e}{var $,y,E,C=this,B=C.root,I=C.buffer,_=C.scope,z=(C.runtime,C.name,C.pos),j=_.data,T=_.affix,H=B.nativeCommands,P=B.utils,N=(P.callFn,P.callDataFn,P.callCommand,H.range,H["void"],H.foreach,H.forin,H.each),O=H["with"],S=H["if"],K=H.set;H.include,H.parse,H.extend,H.block,H.macro,H["debugger"]}I.data+="";var Y=($=T.data)!==a?null!=$?y=$.totalinfo:$:($=j.data)!==a?null!=$?y=$.totalinfo:$:_.resolveLooseUp(["data","totalinfo"]),A=Y;if(A){var D=($=T.data)!==a?null!=$?null!=(y=$.totalinfo)?E=y[0]:y:$:($=j.data)!==a?null!=$?null!=(y=$.totalinfo)?E=y[0]:y:$:_.resolveLooseUp(["data","totalinfo",0]);A=D}var F;F=K.call(C,_,{hash:[{key:["head"],value:A,depth:0}]},I);var M=F;I=I.writeEscaped(M),I.data+="\n",z.line=2;var R=($=T.data)!==a?null!=$?y=$.news:$:($=j.data)!==a?null!=$?y=$.news:$:_.resolveLooseUp(["data","news"]),q=R;if(q){var V=($=T.data)!==a?null!=$?null!=(y=$.news)?E=y[0]:y:$:($=j.data)!==a?null!=$?null!=(y=$.news)?E=y[0]:y:$:_.resolveLooseUp(["data","news",0]);q=V}var G;G=K.call(C,_,{hash:[{key:["new"],value:q,depth:0}]},I);var J=G;I=I.writeEscaped(J),I.data+='\n<div data-mid="',z.line=3;var Q=($=T.head)!==a?null!=$?y=$.productId:$:($=j.head)!==a?null!=$?y=$.productId:$:_.resolveLooseUp(["head","productId"]);I=I.writeEscaped(Q),I.data+='" class="like-item like-overall" data-spm-ab="item-';var W=($=T.head)!==a?null!=$?y=$.productId:$:($=j.head)!==a?null!=$?y=$.productId:$:_.resolveLooseUp(["head","productId"]);I=I.writeEscaped(W),I.data+='">\n  <div class="fi-sidebar" data-spm-ab="item-',z.line=4;var X=($=T.head)!==a?null!=$?y=$.productId:$:($=j.head)!==a?null!=$?y=$.productId:$:_.resolveLooseUp(["head","productId"]);I=I.writeEscaped(X),I.data+='-links">\n    ',z.line=5,z.line=5;var Z=($=T.head)!==a?$:($=j.head)!==a?$:_.resolveLooseUp(["head"]);I=O.call(C,_,{params:[Z],fn:r},I),I.data+='\n    <div class="fi-links" style="background-color:',z.line=8;var aa=($=T.head)!==a?null!=$?y=$.textBackgroundColor:$:($=j.head)!==a?null!=$?y=$.textBackgroundColor:$:_.resolveLooseUp(["head","textBackgroundColor"]);I=I.writeEscaped(aa),I.data+=';">\n      <strong>\u70ed\u95e8TOP</strong>\n      <div>\n        ',z.line=11,z.line=11;var ea=($=T.data)!==a?null!=$?y=$.hotwords:$:($=j.data)!==a?null!=$?y=$.hotwords:$:_.resolveLooseUp(["data","hotwords"]);I=N.call(C,_,{params:[ea],fn:n},I),I.data+='\n      </div>\n    </div>\n  </div>\n  <div class="fi-contain">\n    <s style="border-color:',z.line=19;var ta=($=T.head)!==a?null!=$?y=$.logoBackgroundColor:$:($=j.head)!==a?null!=$?y=$.logoBackgroundColor:$:_.resolveLooseUp(["head","logoBackgroundColor"]);I=I.writeEscaped(ta),I.data+='" class="fic-top"></s>\n    <s style="border-color:',z.line=20;var ra=($=T.head)!==a?null!=$?y=$.logoBackgroundColor:$:($=j.head)!==a?null!=$?y=$.logoBackgroundColor:$:_.resolveLooseUp(["head","logoBackgroundColor"]);I=I.writeEscaped(ra),I.data+='" class="fic-right"></s>\n    <s style="border-color:',z.line=21;var la=($=T.head)!==a?null!=$?y=$.logoBackgroundColor:$:($=j.head)!==a?null!=$?y=$.logoBackgroundColor:$:_.resolveLooseUp(["head","logoBackgroundColor"]);I=I.writeEscaped(la),I.data+='" class="fic-bottom"></s>\n    <div class="fi-cup">\n      <div class="fi-fl fi-cwrap fi-per">\n        ',z.line=24,z.line=24;var na=($=T.data)!==a?null!=$?y=$.item:$:($=j.data)!==a?null!=$?y=$.item:$:_.resolveLooseUp(["data","item"]);I=N.call(C,_,{params:[na],fn:d},I),I.data+="\n      </div>\n\n      ",z.line=34,z.line=34;var oa=($=T.data)!==a?null!=$?y=$.activity:$:($=j.data)!==a?null!=$?y=$.activity:$:_.resolveLooseUp(["data","activity"]);I=N.call(C,_,{params:[oa],fn:U},I),I.data+='\n\n    </div>\n    <div class="fi-cdown">\n      <a href="',z.line=44;var ia=($=T["new"])!==a?null!=$?y=$.targetUrl:$:($=j["new"])!==a?null!=$?y=$.targetUrl:$:_.resolveLooseUp(["new","targetUrl"]);I=I.write(ia),I.data+='" class="fi-banner-l fi-fl">\n        <img src="',z.line=45;var da=($=T["new"])!==a?null!=$?y=$.imgUrl:$:($=j["new"])!==a?null!=$?y=$.imgUrl:$:_.resolveLooseUp(["new","imgUrl"]);I=I.write(da),I.data+='_180x180.jpg" alt="';var sa=($=T["new"])!==a?null!=$?y=$.text2:$:($=j["new"])!==a?null!=$?y=$.text2:$:_.resolveLooseUp(["new","text2"]);I=I.writeEscaped(sa),I.data+='"/>\n        <span><em style="background: ',z.line=46;var ua=($=T.head)!==a?null!=$?y=$.textBackgroundColor:$:($=j.head)!==a?null!=$?y=$.textBackgroundColor:$:_.resolveLooseUp(["head","textBackgroundColor"]);I=I.writeEscaped(ua),I.data+='">';var pa=($=T["new"])!==a?null!=$?y=$.text1:$:($=j["new"])!==a?null!=$?y=$.text1:$:_.resolveLooseUp(["new","text1"]);I=I.writeEscaped(pa),I.data+="</em><i>";var va=($=T["new"])!==a?null!=$?y=$.text2:$:($=j["new"])!==a?null!=$?y=$.text2:$:_.resolveLooseUp(["new","text2"]);I=I.writeEscaped(va),I.data+='</i></span>\n      </a>\n      <div class="fi-fl fi-dwrap fi-per">\n        ',z.line=49,z.line=49;var ca=($=T.data)!==a?null!=$?y=$.item:$:($=j.data)!==a?null!=$?y=$.item:$:_.resolveLooseUp(["data","item"]);return I=N.call(C,_,{params:[ca],fn:b},I),I.data+="\n      </div>\n    </div>\n  </div>\n</div>\n",I};l.TPL_NAME=r.id||r.name}),KISSY.add("tb-mod/tbh-like/0.1.5/entry-xtpl",function(a,e,t,r){var l=r.exports=function(a){function e(a,e,t){a.data,a.affix;return e.data+="200x200",e}function t(a,e,t){a.data,a.affix;return e.data+="100x100",e}function r(a,r,l){var n=a.data,o=a.affix;r.data+='\n    <a href="',j.line=6;var i=(y=o.targetUrl)!==l?y:(y=n.targetUrl)!==l?y:a.resolveLooseUp(["targetUrl"]);r=r.write(i),r.data+='" class="fi-logo" style="background-color:';var d=(y=o.logoBackgroundColor)!==l?y:(y=n.logoBackgroundColor)!==l?y:a.resolveLooseUp(["logoBackgroundColor"]);r=r.writeEscaped(d),r.data+=';"><em>';var s=(y=o.name)!==l?y:(y=n.name)!==l?y:a.resolveLooseUp(["name"]);r=r.writeEscaped(s),r.data+='</em><img src="';var u=(y=o.$runtime)!==l?null!=y?E=y.placeholder:y:(y=n.$runtime)!==l?null!=y?E=y.placeholder:y:a.resolveLooseUp(["$runtime","placeholder"]);r=r.writeEscaped(u),r.data+='" data-ks-lazyload="';var p=(y=o.imgUrl)!==l?y:(y=n.imgUrl)!==l?y:a.resolveLooseUp(["imgUrl"]);r=r.write(p),r.data+="_";var v=(y=o.$runtime)!==l?null!=y?E=y.retina:y:(y=n.$runtime)!==l?null!=y?E=y.retina:y:a.resolveLooseUp(["$runtime","retina"]);r=K.call(B,a,{params:[v],fn:e,inverse:t},r),r.data+='.jpg" alt="';var c=(y=o.name)!==l?y:(y=n.name)!==l?y:a.resolveLooseUp(["name"]);return r=r.writeEscaped(c),r.data+='"/></a>\n    ',r}function l(a,e,t){a.data,a.affix;return e.data+=' class="tbh-tag"',e}function n(a,e,t){var r=a.data,n=a.affix;e.data+="\n          ",j.line=12;var o,i=(y=n.tag)!==t?y:(y=r.tag)!==t?y:a.resolveLooseUp(["tag"]);o=Y.call(B,a,{hash:[{key:["isHot"],value:!!i,depth:0}]},e);var d=o;e=e.writeEscaped(d),e.data+='\n          <a href="',j.line=13;var s=(y=n.targetUrl)!==t?y:(y=r.targetUrl)!==t?y:a.resolveLooseUp(["targetUrl"]);e=e.write(s),e.data+='"';var u=(y=n.isHot)!==t?y:(y=r.isHot)!==t?y:a.resolveLooseUp(["isHot"]);e=K.call(B,a,{params:[u],fn:l},e),e.data+=">";var p=(y=n.text)!==t?y:(y=r.text)!==t?y:a.resolveLooseUp(["text"]);return e=e.writeEscaped(p),e.data+="</a>\n        ",e}function o(a,e,t){a.data,a.affix;return e.data+="210x1000",e}function i(a,e,t){a.data,a.affix;return e.data+="100x1000",e}function d(a,e,t){var r=a.data,l=a.affix;e.data+='\n      <a href="',j.line=25;var n=(y=l.targetUrl)!==t?y:(y=r.targetUrl)!==t?y:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='" class="fi-banner-s fi-fl"><img src="';var d=(y=l.$runtime)!==t?null!=y?E=y.placeholder:y:(y=r.$runtime)!==t?null!=y?E=y.placeholder:y:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(d),e.data+='" data-ks-lazyload="';var s=(y=l.imgUrl)!==t?y:(y=r.imgUrl)!==t?y:a.resolveLooseUp(["imgUrl"]);e=e.write(s),e.data+="_";var u=(y=l.$runtime)!==t?null!=y?E=y.retina:y:(y=r.$runtime)!==t?null!=y?E=y.retina:y:a.resolveLooseUp(["$runtime","retina"]);e=K.call(B,a,{params:[u],fn:o,inverse:i},e),e.data+='.jpg" alt="';var p=(y=l.activityName)!==t?y:(y=r.activityName)!==t?y:a.resolveLooseUp(["activityName"]);return e=e.writeEscaped(p),e.data+='"/></a>\n      ',e}function s(a,e,t){var r=a.data,l=a.affix;e.data+="\n      ",j.line=24,j.line=24;var n=(y=l.bizType)!==t?y:(y=r.bizType)!==t?y:a.resolveLooseUp(["bizType"]),o=n;return o="banner1"===n,e=K.call(B,a,{params:[o],fn:d},e),e.data+="\n      ",e}function u(a,e,t){a.data,a.affix;return e.data+="160x160",e}function p(a,e,t){a.data,a.affix;return e.data+="80x80",e}function v(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function c(a,e,t){var r=a.data,l=a.affix;e.data+='\n        <a href="',j.line=32;var n=(y=l.targetUrl)!==t?y:(y=r.targetUrl)!==t?y:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='"><img src="';var o=(y=l.$runtime)!==t?null!=y?E=y.placeholder:y:(y=r.$runtime)!==t?null!=y?E=y.placeholder:y:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(o),e.data+='" data-ks-lazyload="';var i=(y=l.imgUrl)!==t?y:(y=r.imgUrl)!==t?y:a.resolveLooseUp(["imgUrl"]);e=e.write(i),e.data+="_";var d=(y=l.$runtime)!==t?null!=y?E=y.retina:y:(y=r.$runtime)!==t?null!=y?E=y.retina:y:a.resolveLooseUp(["$runtime","retina"]);e=K.call(B,a,{params:[d],fn:u,inverse:p},e),e.data+=".jpg";var s=(y=l.$runtime)!==t?null!=y?E=y.webp:y:(y=r.$runtime)!==t?null!=y?E=y.webp:y:a.resolveLooseUp(["$runtime","webp"]);e=K.call(B,a,{params:[s],fn:v},e),e.data+='" alt="';var c=(y=l.text1)!==t?y:(y=r.text1)!==t?y:a.resolveLooseUp(["text1"]);e=e.writeEscaped(c),e.data+='"/><span>';var f=(y=l.text1)!==t?y:(y=r.text1)!==t?y:a.resolveLooseUp(["text1"]);return e=e.writeEscaped(f),e.data+="</span></a>\n        ",e}function f(a,e,t){var r=a.data,l=a.affix;e.data+="\n        ",j.line=31,j.line=31;var n=(y=l.xindex)!==t?y:(y=r.xindex)!==t?y:a.resolveLooseUp(["xindex"]),o=n;return o=2>n,e=K.call(B,a,{params:[o],fn:c},e),e.data+="\n        ",e}function m(a,e,t){a.data,a.affix;return e.data+="300x1000",e}function x(a,e,t){a.data,a.affix;return e.data+="150x10000",e}function g(a,e,t){var r=a.data,l=a.affix;e.data+='\n      <a href="',j.line=39;var n=(y=l.targetUrl)!==t?y:(y=r.targetUrl)!==t?y:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='" class="fi-banner-m fi-fl"><img src="';var o=(y=l.$runtime)!==t?null!=y?E=y.placeholder:y:(y=r.$runtime)!==t?null!=y?E=y.placeholder:y:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(o),e.data+='" data-ks-lazyload="';var i=(y=l.imgUrl)!==t?y:(y=r.imgUrl)!==t?y:a.resolveLooseUp(["imgUrl"]);e=e.write(i),e.data+="_";var d=(y=l.$runtime)!==t?null!=y?E=y.retina:y:(y=r.$runtime)!==t?null!=y?E=y.retina:y:a.resolveLooseUp(["$runtime","retina"]);e=K.call(B,a,{params:[d],fn:m,inverse:x},e),e.data+='.jpg" alt="';var s=(y=l.activityName)!==t?y:(y=r.activityName)!==t?y:a.resolveLooseUp(["activityName"]);return e=e.writeEscaped(s),e.data+='"/></a>\n      ',e}function U(a,e,t){var r=a.data,l=a.affix;e.data+="\n      ",j.line=38,j.line=38;var n=(y=l.bizType)!==t?y:(y=r.bizType)!==t?y:a.resolveLooseUp(["bizType"]),o=n;return o="banner2"===n,e=K.call(B,a,{params:[o],fn:g},e),e.data+="\n      ",e}function h(a,e,t){a.data,a.affix;return e.data+="_100x100",e}function w(a,e,t){a.data,a.affix;return e.data+="_50x50",e}function L(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function k(a,e,t){var r=a.data,l=a.affix;e.data+='\n          <a href="',j.line=48;var n=(y=l.targetUrl)!==t?y:(y=r.targetUrl)!==t?y:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='">\n            <span>\n              <img src="',j.line=50;var o=(y=l.$runtime)!==t?null!=y?E=y.placeholder:y:(y=r.$runtime)!==t?null!=y?E=y.placeholder:y:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(o),e.data+='" data-ks-lazyload="';var i=(y=l.imgUrl)!==t?y:(y=r.imgUrl)!==t?y:a.resolveLooseUp(["imgUrl"]);e=e.write(i),e.data+="";var d=(y=l.$runtime)!==t?null!=y?E=y.retina:y:(y=r.$runtime)!==t?null!=y?E=y.retina:y:a.resolveLooseUp(["$runtime","retina"]);e=K.call(B,a,{params:[d],fn:h,inverse:w},e),e.data+=".jpg";var s=(y=l.$runtime)!==t?null!=y?E=y.webp:y:(y=r.$runtime)!==t?null!=y?E=y.webp:y:a.resolveLooseUp(["$runtime","webp"]);e=K.call(B,a,{params:[s],fn:L},e),e.data+='" alt="';var u=(y=l.text1)!==t?y:(y=r.text1)!==t?y:a.resolveLooseUp(["text1"]);e=e.writeEscaped(u),e.data+='"/>\n            </span>\n            <em>',j.line=52;var p=(y=l.text1)!==t?y:(y=r.text1)!==t?y:a.resolveLooseUp(["text1"]);return e=e.writeEscaped(p),e.data+="</em>\n          </a>\n          ",e}function b(a,e,t){a.data,a.affix;return e.data+="</p><p>",e}function $(a,e,t){var r=a.data,l=a.affix;e.data+="\n          ",j.line=47,j.line=47;var n=(y=l.xindex)!==t?y:(y=r.xindex)!==t?y:a.resolveLooseUp(["xindex"]),o=n;o=n>1;var i=o;if(i){var d=(y=l.xindex)!==t?y:(y=r.xindex)!==t?y:a.resolveLooseUp(["xindex"]),s=d;s=10>d,i=s}e=K.call(B,a,{params:[i],fn:k},e),e.data+="\n          ",j.line=55;var u=(y=l.xindex)!==t?y:(y=r.xindex)!==t?y:a.resolveLooseUp(["xindex"]),p=u;return p=5===u,e=K.call(B,a,{params:[p],fn:b},e),e.data+="\n          ",e}{var y,E,C,B=this,I=B.root,_=B.buffer,z=B.scope,j=(B.runtime,B.name,B.pos),T=z.data,H=z.affix,P=I.nativeCommands,N=I.utils,O=(N.callFn,N.callDataFn,N.callCommand,P.range,P["void"],P.foreach,P.forin,P.each),S=P["with"],K=P["if"],Y=P.set;P.include,P.parse,P.extend,P.block,P.macro,P["debugger"]}_.data+="";var A=(y=H.data)!==a?null!=y?E=y.totalinfo:y:(y=T.data)!==a?null!=y?E=y.totalinfo:y:z.resolveLooseUp(["data","totalinfo"]),D=A;if(D){var F=(y=H.data)!==a?null!=y?null!=(E=y.totalinfo)?C=E[0]:E:y:(y=T.data)!==a?null!=y?null!=(E=y.totalinfo)?C=E[0]:E:y:z.resolveLooseUp(["data","totalinfo",0]);D=F}var M;M=Y.call(B,z,{hash:[{key:["head"],value:D,depth:0}]},_);var R=M;_=_.writeEscaped(R),_.data+='\n\n<div data-mid="',j.line=3;var q=(y=H.head)!==a?null!=y?E=y.productId:y:(y=T.head)!==a?null!=y?E=y.productId:y:z.resolveLooseUp(["head","productId"]);_=_.writeEscaped(q),_.data+='" class="like-item like-entry" data-spm-ab="item-';var V=(y=H.head)!==a?null!=y?E=y.productId:y:(y=T.head)!==a?null!=y?E=y.productId:y:z.resolveLooseUp(["head","productId"]);_=_.writeEscaped(V),_.data+='">\n  <div class="fi-sidebar" data-spm-ab="item-',j.line=4;var G=(y=H.head)!==a?null!=y?E=y.productId:y:(y=T.head)!==a?null!=y?E=y.productId:y:z.resolveLooseUp(["head","productId"]);_=_.writeEscaped(G),_.data+='-links">\n    ',j.line=5,j.line=5;var J=(y=H.head)!==a?y:(y=T.head)!==a?y:z.resolveLooseUp(["head"]);_=S.call(B,z,{params:[J],fn:r},_),_.data+='\n    <div class="fi-links" style="background-color:',j.line=8;var Q=(y=H.head)!==a?null!=y?E=y.textBackgroundColor:y:(y=T.head)!==a?null!=y?E=y.textBackgroundColor:y:z.resolveLooseUp(["head","textBackgroundColor"]);_=_.writeEscaped(Q),_.data+=';">\n      <strong>\u70ed\u95e8TOP</strong>\n      <div>\n        ',j.line=11,j.line=11;var W=(y=H.data)!==a?null!=y?E=y.hotwords:y:(y=T.data)!==a?null!=y?E=y.hotwords:y:z.resolveLooseUp(["data","hotwords"]);_=O.call(B,z,{params:[W],fn:n},_),_.data+='\n      </div>\n    </div>\n  </div>\n  <div class="fi-contain">\n    <s style="border-color:',j.line=19;var X=(y=H.head)!==a?null!=y?E=y.logoBackgroundColor:y:(y=T.head)!==a?null!=y?E=y.logoBackgroundColor:y:z.resolveLooseUp(["head","logoBackgroundColor"]);_=_.writeEscaped(X),_.data+='" class="fic-top"></s>\n    <s style="border-color:',j.line=20;var Z=(y=H.head)!==a?null!=y?E=y.logoBackgroundColor:y:(y=T.head)!==a?null!=y?E=y.logoBackgroundColor:y:z.resolveLooseUp(["head","logoBackgroundColor"]);_=_.writeEscaped(Z),_.data+='" class="fic-right"></s>\n    <s style="border-color:',j.line=21;var aa=(y=H.head)!==a?null!=y?E=y.logoBackgroundColor:y:(y=T.head)!==a?null!=y?E=y.logoBackgroundColor:y:z.resolveLooseUp(["head","logoBackgroundColor"]);_=_.writeEscaped(aa),_.data+='" class="fic-bottom"></s>\n    <div class="fi-cup">\n      ',j.line=23,j.line=23;var ea=(y=H.data)!==a?null!=y?E=y.activity:y:(y=T.data)!==a?null!=y?E=y.activity:y:z.resolveLooseUp(["data","activity"]);_=O.call(B,z,{params:[ea],fn:s},_),_.data+='\n\n      <div class="fi-fl fi-cwrap fi-per">\n        ',j.line=30,j.line=30;var ta=(y=H.data)!==a?null!=y?E=y.item:y:(y=T.data)!==a?null!=y?E=y.item:y:z.resolveLooseUp(["data","item"]);_=O.call(B,z,{params:[ta],fn:f},_),_.data+="\n      </div>\n\n      ",j.line=37,j.line=37;var ra=(y=H.data)!==a?null!=y?E=y.activity:y:(y=T.data)!==a?null!=y?E=y.activity:y:z.resolveLooseUp(["data","activity"]);_=O.call(B,z,{params:[ra],fn:U},_),_.data+='\n    </div>\n    <div class="fi-cdown">\n      <div class="fi-infos fi-per">\n        <p>\n          ',j.line=46,j.line=46;var la=(y=H.data)!==a?null!=y?E=y.item:y:(y=T.data)!==a?null!=y?E=y.item:y:z.resolveLooseUp(["data","item"]);return _=O.call(B,z,{params:[la],fn:$},_),_.data+="\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n",_};l.TPL_NAME=r.id||r.name}),KISSY.add("tb-mod/tbh-like/0.1.5/info-xtpl",function(a,e,t,r){var l=r.exports=function(a){function e(a,e,t){a.data,a.affix;return e.data+="200x200",e}function t(a,e,t){a.data,a.affix;return e.data+="100x100",e}function r(a,r,l){var n=a.data,o=a.affix;r.data+='\n    <a href="',C.line=6;var i=(w=o.targetUrl)!==l?w:(w=n.targetUrl)!==l?w:a.resolveLooseUp(["targetUrl"]);r=r.write(i),r.data+='" class="fi-logo" style="background-color:';var d=(w=o.logoBackgroundColor)!==l?w:(w=n.logoBackgroundColor)!==l?w:a.resolveLooseUp(["logoBackgroundColor"]);r=r.writeEscaped(d),r.data+=';"><em>';var s=(w=o.name)!==l?w:(w=n.name)!==l?w:a.resolveLooseUp(["name"]);r=r.writeEscaped(s),r.data+='</em><img src="';var u=(w=o.$runtime)!==l?null!=w?L=w.placeholder:w:(w=n.$runtime)!==l?null!=w?L=w.placeholder:w:a.resolveLooseUp(["$runtime","placeholder"]);r=r.writeEscaped(u),r.data+='" data-ks-lazyload="';var p=(w=o.imgUrl)!==l?w:(w=n.imgUrl)!==l?w:a.resolveLooseUp(["imgUrl"]);r=r.write(p),r.data+="_";var v=(w=o.$runtime)!==l?null!=w?L=w.retina:w:(w=n.$runtime)!==l?null!=w?L=w.retina:w:a.resolveLooseUp(["$runtime","retina"]);r=H.call(b,a,{params:[v],fn:e,inverse:t},r),r.data+='.jpg" alt="';var c=(w=o.name)!==l?w:(w=n.name)!==l?w:a.resolveLooseUp(["name"]);return r=r.writeEscaped(c),r.data+='"/></a>\n    ',r}function l(a,e,t){a.data,a.affix;return e.data+=' class="tbh-tag"',e}function n(a,e,t){var r=a.data,n=a.affix;e.data+="\n          ",C.line=12;var o,i=(w=n.tag)!==t?w:(w=r.tag)!==t?w:a.resolveLooseUp(["tag"]);o=P.call(b,a,{hash:[{key:["isHot"],value:!!i,depth:0}]},e);var d=o;e=e.writeEscaped(d),e.data+='\n          <a href="',C.line=13;var s=(w=n.targetUrl)!==t?w:(w=r.targetUrl)!==t?w:a.resolveLooseUp(["targetUrl"]);e=e.write(s),e.data+='"';var u=(w=n.isHot)!==t?w:(w=r.isHot)!==t?w:a.resolveLooseUp(["isHot"]);e=H.call(b,a,{params:[u],fn:l},e),e.data+=">";var p=(w=n.text)!==t?w:(w=r.text)!==t?w:a.resolveLooseUp(["text"]);return e=e.writeEscaped(p),e.data+="</a>\n        ",e}function o(a,e,t){a.data,a.affix;return e.data+="210x1000",e}function i(a,e,t){a.data,a.affix;return e.data+="100x1000",e}function d(a,e,t){var r=a.data,l=a.affix;e.data+='\n      <a href="',C.line=25;var n=(w=l.targetUrl)!==t?w:(w=r.targetUrl)!==t?w:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='" class="fi-banner-s fi-banner-s-';var d=(w=l.xindex)!==t?w:(w=r.xindex)!==t?w:a.resolveLooseUp(["xindex"]);e=e.writeEscaped(d),e.data+=' fi-fl">  <img src="';var s=(w=l.$runtime)!==t?null!=w?L=w.placeholder:w:(w=r.$runtime)!==t?null!=w?L=w.placeholder:w:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(s),e.data+='" data-ks-lazyload="';var u=(w=l.imgUrl)!==t?w:(w=r.imgUrl)!==t?w:a.resolveLooseUp(["imgUrl"]);e=e.write(u),e.data+="_";var p=(w=l.$runtime)!==t?null!=w?L=w.retina:w:(w=r.$runtime)!==t?null!=w?L=w.retina:w:a.resolveLooseUp(["$runtime","retina"]);e=H.call(b,a,{params:[p],fn:o,inverse:i},e),e.data+='.jpg" alt="';var v=(w=l.text)!==t?w:(w=r.text)!==t?w:a.resolveLooseUp(["text"]);return e=e.writeEscaped(v),e.data+='"/>\n      </a>\n      ',e}function s(a,e,t){var r=a.data,l=a.affix;e.data+="\n      ",C.line=24,C.line=24;var n=(w=l.xindex)!==t?w:(w=r.xindex)!==t?w:a.resolveLooseUp(["xindex"]),o=n;return o=2>n,e=H.call(b,a,{params:[o],fn:d},e),e.data+="\n      ",e}function u(a,e,t){a.data,a.affix;return e.data+="160x160",e}function p(a,e,t){a.data,a.affix;return e.data+="80x80",e}function v(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function c(a,e,t){var r=a.data,l=a.affix;e.data+='\n        <a href="',C.line=32;var n=(w=l.targetUrl)!==t?w:(w=r.targetUrl)!==t?w:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='">\n          <span>\n            <img src="',C.line=34;var o=(w=l.$runtime)!==t?null!=w?L=w.placeholder:w:(w=r.$runtime)!==t?null!=w?L=w.placeholder:w:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(o),e.data+='" data-ks-lazyload="';var i=(w=l.imgUrl)!==t?w:(w=r.imgUrl)!==t?w:a.resolveLooseUp(["imgUrl"]);e=e.write(i),e.data+="_";var d=(w=l.$runtime)!==t?null!=w?L=w.retina:w:(w=r.$runtime)!==t?null!=w?L=w.retina:w:a.resolveLooseUp(["$runtime","retina"]);e=H.call(b,a,{params:[d],fn:u,inverse:p},e),e.data+=".jpg";var s=(w=l.$runtime)!==t?null!=w?L=w.webp:w:(w=r.$runtime)!==t?null!=w?L=w.webp:w:a.resolveLooseUp(["$runtime","webp"]);e=H.call(b,a,{params:[s],fn:v},e),e.data+='" alt="';var c=(w=l.text1)!==t?w:(w=r.text1)!==t?w:a.resolveLooseUp(["text1"]);e=e.writeEscaped(c),e.data+='"/>\n          </span>\n          <strong>',C.line=36;var f=(w=l.text1)!==t?w:(w=r.text1)!==t?w:a.resolveLooseUp(["text1"]);e=e.writeEscaped(f),e.data+="</strong>\n          <em>",C.line=37;var m=(w=l.text2)!==t?w:(w=r.text2)!==t?w:a.resolveLooseUp(["text2"]);return e=e.writeEscaped(m),e.data+="</em>\n        </a>\n        ",e}function f(a,e,t){var r=a.data,l=a.affix;e.data+="\n        ",C.line=31,C.line=31;var n=(w=l.xindex)!==t?w:(w=r.xindex)!==t?w:a.resolveLooseUp(["xindex"]),o=n;return o=2>n,e=H.call(b,a,{params:[o],fn:c},e),e.data+="\n        ",e}function m(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function x(a,e,t){var r=a.data,l=a.affix;e.data+='\n      <a href="',C.line=46;var n=(w=l.targetUrl)!==t?w:(w=r.targetUrl)!==t?w:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='" class="fi-banner-l fi-fl fi-detail">\n        <img src="',C.line=47;var o=(w=l.imgUrl)!==t?w:(w=r.imgUrl)!==t?w:a.resolveLooseUp(["imgUrl"]);e=e.write(o),e.data+="_180x180.jpg";var i=(w=l.$runtime)!==t?null!=w?L=w.webp:w:(w=r.$runtime)!==t?null!=w?L=w.webp:w:a.resolveLooseUp(["$runtime","webp"]);e=H.call(b,a,{params:[i],fn:m},e),e.data+='" alt="';var d=(w=l.text2)!==t?w:(w=r.text2)!==t?w:a.resolveLooseUp(["text2"]);e=e.writeEscaped(d),e.data+='"/>\n        <span><em style="background: ',C.line=48;var s=(w=l.head)!==t?null!=w?L=w.textBackgroundColor:w:(w=r.head)!==t?null!=w?L=w.textBackgroundColor:w:a.resolveLooseUp(["head","textBackgroundColor"]);e=e.writeEscaped(s),e.data+='">';var u=(w=l.text1)!==t?w:(w=r.text1)!==t?w:a.resolveLooseUp(["text1"]);e=e.writeEscaped(u),e.data+="</em><i>";var p=(w=l.text2)!==t?w:(w=r.text2)!==t?w:a.resolveLooseUp(["text2"]);e=e.writeEscaped(p),e.data+="</i><strong>";var v=(w=l.text3)!==t?w:(w=r.text3)!==t?w:a.resolveLooseUp(["text3"]);return e=e.writeEscaped(v),e.data+="</strong></span>\n      </a>\n      ",e}function g(a,e,t){a.data,a.affix;return e.data+="_.webp",e}function U(a,e,t){var r=a.data,l=a.affix;e.data+='\n        <a href="',C.line=55;var n=(w=l.targetUrl)!==t?w:(w=r.targetUrl)!==t?w:a.resolveLooseUp(["targetUrl"]);e=e.write(n),e.data+='">\n          <img src="',C.line=56;var o=(w=l.$runtime)!==t?null!=w?L=w.placeholder:w:(w=r.$runtime)!==t?null!=w?L=w.placeholder:w:a.resolveLooseUp(["$runtime","placeholder"]);e=e.writeEscaped(o),e.data+='" data-ks-lazyload="';var i=(w=l.imgUrl)!==t?w:(w=r.imgUrl)!==t?w:a.resolveLooseUp(["imgUrl"]);e=e.write(i),e.data+="_120x120.jpg";var d=(w=l.$runtime)!==t?null!=w?L=w.webp:w:(w=r.$runtime)!==t?null!=w?L=w.webp:w:a.resolveLooseUp(["$runtime","webp"]);e=H.call(b,a,{params:[d],fn:g},e),e.data+='" alt="';var s=(w=l.text1)!==t?w:(w=r.text1)!==t?w:a.resolveLooseUp(["text1"]);e=e.writeEscaped(s),e.data+='"/>\n          <span>',C.line=57;var u=(w=l.text1)!==t?w:(w=r.text1)!==t?w:a.resolveLooseUp(["text1"]);return e=e.writeEscaped(u),e.data+="</span>\n        </a>\n        ",e}function h(a,e,t){var r=a.data,l=a.affix;e.data+="\n        ",C.line=54,C.line=54;var n=(w=l.xindex)!==t?w:(w=r.xindex)!==t?w:a.resolveLooseUp(["xindex"]),o=n;o=n>0;var i=o;if(i){var d=(w=l.xindex)!==t?w:(w=r.xindex)!==t?w:a.resolveLooseUp(["xindex"]),s=d;s=3>d,i=s}return e=H.call(b,a,{params:[i],fn:U},e),e.data+="\n        ",e}{var w,L,k,b=this,$=b.root,y=b.buffer,E=b.scope,C=(b.runtime,
b.name,b.pos),B=E.data,I=E.affix,_=$.nativeCommands,z=$.utils,j=(z.callFn,z.callDataFn,z.callCommand,_.range,_["void"],_.foreach,_.forin,_.each),T=_["with"],H=_["if"],P=_.set;_.include,_.parse,_.extend,_.block,_.macro,_["debugger"]}y.data+="";var N=(w=I.data)!==a?null!=w?L=w.totalinfo:w:(w=B.data)!==a?null!=w?L=w.totalinfo:w:E.resolveLooseUp(["data","totalinfo"]),O=N;if(O){var S=(w=I.data)!==a?null!=w?null!=(L=w.totalinfo)?k=L[0]:L:w:(w=B.data)!==a?null!=w?null!=(L=w.totalinfo)?k=L[0]:L:w:E.resolveLooseUp(["data","totalinfo",0]);O=S}var K;K=P.call(b,E,{hash:[{key:["head"],value:O,depth:0}]},y);var Y=K;y=y.writeEscaped(Y),y.data+='\n\n<div data-mid="',C.line=3;var A=(w=I.head)!==a?null!=w?L=w.productId:w:(w=B.head)!==a?null!=w?L=w.productId:w:E.resolveLooseUp(["head","productId"]);y=y.writeEscaped(A),y.data+='" class="like-item like-info" data-spm-ab="item-';var D=(w=I.head)!==a?null!=w?L=w.productId:w:(w=B.head)!==a?null!=w?L=w.productId:w:E.resolveLooseUp(["head","productId"]);y=y.writeEscaped(D),y.data+='">\n  <div class="fi-sidebar" data-spm-ab="item-',C.line=4;var F=(w=I.head)!==a?null!=w?L=w.productId:w:(w=B.head)!==a?null!=w?L=w.productId:w:E.resolveLooseUp(["head","productId"]);y=y.writeEscaped(F),y.data+='-links">\n    ',C.line=5,C.line=5;var M=(w=I.head)!==a?w:(w=B.head)!==a?w:E.resolveLooseUp(["head"]);y=T.call(b,E,{params:[M],fn:r},y),y.data+='\n    <div class="fi-links" style="background-color:',C.line=8;var R=(w=I.head)!==a?null!=w?L=w.textBackgroundColor:w:(w=B.head)!==a?null!=w?L=w.textBackgroundColor:w:E.resolveLooseUp(["head","textBackgroundColor"]);y=y.writeEscaped(R),y.data+=';">\n      <strong>',y.data+="\u70ed\u95e8TOP</strong>\n      <div>\n        ",C.line=11,C.line=11;var q=(w=I.data)!==a?null!=w?L=w.hotwords:w:(w=B.data)!==a?null!=w?L=w.hotwords:w:E.resolveLooseUp(["data","hotwords"]);y=j.call(b,E,{params:[q],fn:n},y),y.data+='\n      </div>\n    </div>\n  </div>\n  <div class="fi-contain">\n    <s style="border-color:',C.line=19;var V=(w=I.head)!==a?null!=w?L=w.logoBackgroundColor:w:(w=B.head)!==a?null!=w?L=w.logoBackgroundColor:w:E.resolveLooseUp(["head","logoBackgroundColor"]);y=y.writeEscaped(V),y.data+='" class="fic-top"></s>\n    <s style="border-color:',C.line=20;var G=(w=I.head)!==a?null!=w?L=w.logoBackgroundColor:w:(w=B.head)!==a?null!=w?L=w.logoBackgroundColor:w:E.resolveLooseUp(["head","logoBackgroundColor"]);y=y.writeEscaped(G),y.data+='" class="fic-right"></s>\n    <s style="border-color:',C.line=21;var J=(w=I.head)!==a?null!=w?L=w.logoBackgroundColor:w:(w=B.head)!==a?null!=w?L=w.logoBackgroundColor:w:E.resolveLooseUp(["head","logoBackgroundColor"]);y=y.writeEscaped(J),y.data+='" class="fic-bottom"></s>\n    <div class="fi-cup">\n      ',C.line=23,C.line=23;var Q=(w=I.data)!==a?null!=w?L=w.activity:w:(w=B.data)!==a?null!=w?L=w.activity:w:E.resolveLooseUp(["data","activity"]);y=j.call(b,E,{params:[Q],fn:s},y),y.data+='\n      <div class="fi-fl fi-cwrap-d fi-per">\n        ',C.line=30,C.line=30;var W=(w=I.data)!==a?null!=w?L=w.item:w:(w=B.data)!==a?null!=w?L=w.item:w:E.resolveLooseUp(["data","item"]);y=j.call(b,E,{params:[W],fn:f},y),y.data+='\n      </div>\n    </div>\n    <div class="fi-cdown">\n      ',C.line=44;var X=(w=I.data)!==a?null!=w?L=w.news:w:(w=B.data)!==a?null!=w?L=w.news:w:E.resolveLooseUp(["data","news"]),Z=X;if(Z){var aa=(w=I.data)!==a?null!=w?null!=(L=w.news)?k=L[0]:L:w:(w=B.data)!==a?null!=w?null!=(L=w.news)?k=L[0]:L:w:E.resolveLooseUp(["data","news",0]);Z=aa}var ea;ea=P.call(b,E,{hash:[{key:["new"],value:Z,depth:0}]},y);var ta=ea;y=y.writeEscaped(ta),y.data+="\n      ",C.line=45,C.line=45;var ra=(w=I["new"])!==a?w:(w=B["new"])!==a?w:E.resolveLooseUp(["new"]);y=T.call(b,E,{params:[ra],fn:x},y),y.data+='\n\n      <div class="fi-fl fi-dwrap-c">\n        ',C.line=53,C.line=53;var la=(w=I.data)!==a?null!=w?L=w.news:w:(w=B.data)!==a?null!=w?L=w.news:w:E.resolveLooseUp(["data","news"]);return y=j.call(b,E,{params:[la],fn:h},y),y.data+="\n      </div>\n    </div>\n  </div>\n</div>\n",y};l.TPL_NAME=r.id||r.name}),KISSY.add("tb-mod/tbh-like/0.1.5/index",["tms/xtemplate","xctrl","node","promise","./validator","reporter","json","lazyload","offline","cookie","session","node","./overall-xtpl","./entry-xtpl","./info-xtpl"],function(a,e){function t(){this.init.apply(this,arguments)}var r=e("tms/xtemplate"),l=e("xctrl"),n=e("node"),o=e("promise"),i=e("./validator"),d=e("reporter"),s=e("json"),u=e("lazyload"),p=e("offline"),v=e("cookie"),c=e("session"),f=e("node").all,m="cache-tbh-like",x="preview:tbh-like",g=c.get(x),U=new p,h=!!U.getItem("retina"),w=!!U.getItem("webp"),L={t1:{tmpl:e("./overall-xtpl"),item:4,news:1,activity:2,hotwords:5},t2:{tmpl:e("./entry-xtpl"),item:10,activity:2,hotwords:5},t3:{tmpl:e("./info-xtpl"),item:2,news:3,activity:2,hotwords:5}};return t.prototype={init:function(e,t){var r=this;this.el=n.one(e),this.listEl=f(".like-bd",this.el),this.load(t).then(function(e){var t=[];a.each(e,function(a,e){!g&&e>=4||t.push(r.render(r.getTmpl(a),a))}),r.listEl.append(t.join("")).removeClass("tb-loading"),new u(".tbh-like",{diff:100}),r.el.fire("M:load")}).fail(function(a){a&&r.reporter(s.stringify(a),"\u5f02\u5e38\u7a7a\u7a97")})},loadData:function(e){return new o(function(t,r){var n={data:e,key:"list",request:"taobao",callback:function(e){e&&i.array.minItems(e.list,4)?(a.each(e.list,function(a,e){if(!(e>=4))if(a&&i.array.minItems(a.totalinfo,1)&&a.totalinfo[0].templateId){var t=a.totalinfo[0].templateId,l=L[t];if(!l)return void r({templateId:t,dataKey:n,message:"\u6570\u636e\u6821\u9a8c\u5931\u8d25\uff0c\u6a21\u677f\u627e\u4e0d\u5230"});{l.tmpl}for(var n in l)if(l.hasOwnProperty(n)&&"tmpl"!==n){var o=l[n];i.array.minItems(a[n],o)||r({templateId:t,dataKey:n,message:"\u6570\u636e\u6821\u9a8c\u5931\u8d25"})}}else r({message:"\u6570\u636e\u6821\u9a8c\u5931\u8d25\uff0c totalinfo \u6570\u636e\u5f02\u5e38"})}),t(e.list)):r({message:"\u6570\u636e\u5931\u8d25\uff0c\u6570\u636e\u5c11\u4e8e 4 \u6761"})}};n.extra={cna:v.get("cna")},g&&(n.extra.preView=!0,c.get("luban")&&(n.extra.luban=!0)),l.dynamic(n)})},load:function(e){var t=this;return new o(function(r,l){return t.loadData(e).then(function(a){U.setItem(m,s.stringify(a)),r(a)},function(e){var n=U.getItem(m);n?(t.reporter(s.stringify(e),"\u8d70\u672c\u5730\u7f13\u5b58"),n=s.parse(n),r(n)):a.use(["p/tbh-like/index"],function(a,l){t.reporter(s.stringify(e),"\u8d70\u5907\u4efd cdn"),r(l)},function(){t.reporter(s.stringify(e),"\u7a7a\u7a97\u4e86"),l(!1)})})})},reporter:function(a,e){d.send({category:"ERROR_LIKE_Data_err",msg:"\u6a21\u5757 tbh-like \u8bf7\u6c42\u6570\u636e\u683c\u5f0f\u9519\u8bef\u3002\u8be6\u60c5"+a+"\uff1a\u5904\u7406\u60c5\u51b5\uff1a"+e})},getTmpl:function(a){return L[a.totalinfo[0].templateId].tmpl},render:function(a,e){var t=new r(a).render({data:e,$runtime:{retina:h,webp:w,placeholder:"//g.alicdn.com/s.gif"}});return t}},t});KISSY.add("tb-mod/tbh-blocks/0.0.6/thumbtext-xtpl",function(a,e,r,o){var t=o.exports=function(a){function e(a,e,r){var o=a.data,t=a.affix;e.data+=' data-baseid="';var l=(c=t.baseid)!==r?c:(c=o.baseid)!==r?c:a.resolveLooseUp(["baseid"]);return e=e.writeEscaped(l),e.data+='"',e}function r(a,e,r){var o=a.data,t=a.affix;e.data+=' data-backup="';var l=(c=t.backup)!==r?c:(c=o.backup)!==r?c:a.resolveLooseUp(["backup"]);return e=e.writeEscaped(l),e.data+='"',e}function o(a,e,r){a.data,a.affix;return e.data+=" blocks-item-bg",e}function t(a,e,r){var o=a.data,t=a.affix;e.data+=' style="background-image:url(';var l=(c=t.bg)!==r?c:(c=o.bg)!==r?c:a.resolveLooseUp(["bg"]);return e=e.write(l),e.data+=')"',e}function l(a,e,r){var o=a.data,t=a.affix;e.data+='\n      <span class="blocks-qr">\n        <i class="tb-icon">&#xe610;</i>\n        <span>\n          <img src="//g.alicdn.com/s.gif" data-src="',u.line=14;var l=(c=t.qr)!==r?c:(c=o.qr)!==r?c:a.resolveLooseUp(["qr"]);return e=e.write(l),e.data+='_100x100.jpg" alt="\u624b\u673a\u6dd8\u5b9d\u626b\u7801"/>\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      ',e}function n(a,e,r){var o=a.data,t=a.affix;e.data+='\n  <div class="block-title">\n    <h3 style="border-bottom-color: ',u.line=8;var n=(c=t.color)!==r?c:(c=o.color)!==r?c:a.resolveLooseUp(["color"]);e=e.writeEscaped(n),e.data+='">\n      <a href="',u.line=9;var s=(c=t.link)!==r?c:(c=o.link)!==r?c:a.resolveLooseUp(["link"]);e=e.write(s),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var i=(c=t.img)!==r?c:(c=o.img)!==r?c:a.resolveLooseUp(["img"]);e=e.write(i),e.data+='_220x220.jpg" alt="';var d=(c=t.name)!==r?c:(c=o.name)!==r?c:a.resolveLooseUp(["name"]);e=e.writeEscaped(d),e.data+='"/></a>\n      ',u.line=10,u.line=10;var v=(c=t.qr)!==r?c:(c=o.qr)!==r?c:a.resolveLooseUp(["qr"]);return e=w.call(p,a,{params:[v],fn:l},e),e.data+="\n    </h3>\n  </div>\n  ",e}function s(a,e,r){a.data,a.affix;return e.data+=' class="last"',e}function i(a,e,r){var o=a.data,t=a.affix;e.data+='\n    <a href="',u.line=25;var l=(c=t.link)!==r?c:(c=o.link)!==r?c:a.resolveLooseUp(["link"]);e=e.write(l),e.data+='"';var n=(c=t.xindex)!==r?c:(c=o.xindex)!==r?c:a.resolveLooseUp(["xindex"]),i=n;i=n>1,e=w.call(p,a,{params:[i],fn:s},e),e.data+='>\n      <img src="//g.alicdn.com/s.gif" data-src="',u.line=26;var d=(c=t.img)!==r?c:(c=o.img)!==r?c:a.resolveLooseUp(["img"]);e=e.write(d),e.data+='_80x80.jpg" alt="';var v=(c=t.name)!==r?c:(c=o.name)!==r?c:a.resolveLooseUp(["name"]);e=e.writeEscaped(v),e.data+='"/>\n      <strong>',u.line=27;var b=(c=t.name)!==r?c:(c=o.name)!==r?c:a.resolveLooseUp(["name"]);e=e.writeEscaped(b),e.data+="</strong>\n      <span>",u.line=28;var m=(c=t.sub)!==r?c:(c=o.sub)!==r?c:a.resolveLooseUp(["sub"]);return e=e.writeEscaped(m),e.data+="</span>\n    </a>\n    ",e}function d(a,e,r){var o=a.data,t=a.affix;e.data+="\n    ",u.line=24,u.line=24;var l=(c=t.xindex)!==r?c:(c=o.xindex)!==r?c:a.resolveLooseUp(["xindex"]),n=l;return n=4>l,e=w.call(p,a,{params:[n],fn:i},e),e.data+="\n    ",e}{var c,v,p=this,b=p.root,m=p.buffer,f=p.scope,u=(p.runtime,p.name,p.pos),h=f.data,g=f.affix,x=b.nativeCommands,k=b.utils,L=(k.callFn,k.callDataFn,k.callCommand,x.range,x["void"],x.foreach,x.forin,x.each),U=x["with"],w=x["if"],E=x.set;x.include,x.parse,x.extend,x.block,x.macro,x["debugger"]}m.data+="";var y=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),q=y;if(q){var _=(c=g.head)!==a?null!=c?v=c[0]:c:(c=h.head)!==a?null!=c?v=c[0]:c:f.resolveLooseUp(["head",0]);q=_}var j;j=E.call(p,f,{hash:[{key:["head"],value:q,depth:0}]},m);var S=j;m=m.writeEscaped(S),m.data+="\n",u.line=2;var C=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),F=C;if(F){var I=(c=g.head)!==a?null!=c?v=c.bg:c:(c=h.head)!==a?null!=c?v=c.bg:c:f.resolveLooseUp(["head","bg"]);F=I}var K;K=E.call(p,f,{hash:[{key:["bg"],value:F,depth:0}]},m);var N=K;m=m.writeEscaped(N),m.data+="\n",u.line=3;var Y=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),D=Y;if(D){var M=(c=g.head)!==a?null!=c?v=c.bgcolor:c:(c=h.head)!==a?null!=c?v=c.bgcolor:c:f.resolveLooseUp(["head","bgcolor"]);D=M}var T;T=E.call(p,f,{hash:[{key:["bgcolor"],value:D,depth:0}]},m);var A=T;m=m.writeEscaped(A),m.data+="\n",u.line=4;var P=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),G=P;if(G){var O=(c=g.head)!==a?null!=c?v=c.color:c:(c=h.head)!==a?null!=c?v=c.color:c:f.resolveLooseUp(["head","color"]);G=O}var R;R=E.call(p,f,{hash:[{key:["color"],value:G,depth:0}]},m);var z=R;m=m.writeEscaped(z),m.data+='\n<div data-mid="',u.line=5;var B=(c=g.mid)!==a?c:(c=h.mid)!==a?c:f.resolveLooseUp(["mid"]);m=m.writeEscaped(B),m.data+='" data-spm-ab="item-';var H=(c=g.spmab)!==a?c:(c=h.spmab)!==a?c:f.resolveLooseUp(["spmab"]);m=m.writeEscaped(H),m.data+='"';var J=(c=g.baseid)!==a?c:(c=h.baseid)!==a?c:f.resolveLooseUp(["baseid"]);m=w.call(p,f,{params:[J],fn:e},m),m.data+="";var Q=(c=g.backup)!==a?c:(c=h.backup)!==a?c:f.resolveLooseUp(["backup"]);m=w.call(p,f,{params:[Q],fn:r},m),m.data+=' class="blocks-item blocks-thumbtext';var V=(c=g.bg)!==a?c:(c=h.bg)!==a?c:f.resolveLooseUp(["bg"]);m=w.call(p,f,{params:[V],fn:o},m),m.data+=" blocks-item-";var W=(c=g.index)!==a?c:(c=h.index)!==a?c:f.resolveLooseUp(["index"]);m=m.writeEscaped(W),m.data+='"';var X=(c=g.bg)!==a?c:(c=h.bg)!==a?c:f.resolveLooseUp(["bg"]);m=w.call(p,f,{params:[X],fn:t},m),m.data+=">\n  ",u.line=6,u.line=6;var Z=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]);m=U.call(p,f,{params:[Z],fn:n},m),m.data+='\n  <div class="blocks-contain" style="background-color: ',u.line=22;var $=(c=g.bgcolor)!==a?c:(c=h.bgcolor)!==a?c:f.resolveLooseUp(["bgcolor"]);m=m.writeEscaped($),m.data+='">\n    ',u.line=23,u.line=23;var aa=(c=g.blockitem)!==a?c:(c=h.blockitem)!==a?c:f.resolveLooseUp(["blockitem"]);return m=L.call(p,f,{params:[aa],fn:d},m),m.data+="\n  </div>\n</div>\n",m};t.TPL_NAME=o.id||o.name}),KISSY.add("tb-mod/tbh-blocks/0.0.6/thumb3-xtpl",function(a,e,r,o){var t=o.exports=function(a){function e(a,e,r){var o=a.data,t=a.affix;e.data+=' data-baseid="';var l=(c=t.baseid)!==r?c:(c=o.baseid)!==r?c:a.resolveLooseUp(["baseid"]);return e=e.writeEscaped(l),e.data+='"',e}function r(a,e,r){var o=a.data,t=a.affix;e.data+=' data-backup="';var l=(c=t.backup)!==r?c:(c=o.backup)!==r?c:a.resolveLooseUp(["backup"]);return e=e.writeEscaped(l),e.data+='"',e}function o(a,e,r){a.data,a.affix;return e.data+=" blocks-item-bg",e}function t(a,e,r){var o=a.data,t=a.affix;e.data+=' style="background-image:url(';var l=(c=t.bg)!==r?c:(c=o.bg)!==r?c:a.resolveLooseUp(["bg"]);return e=e.write(l),e.data+=')"',e}function l(a,e,r){var o=a.data,t=a.affix;e.data+='\n      <span class="blocks-qr">\n        <i class="tb-icon">&#xe610;</i>\n        <span>\n          <img src="//g.alicdn.com/s.gif" data-src="',u.line=14;var l=(c=t.qr)!==r?c:(c=o.qr)!==r?c:a.resolveLooseUp(["qr"]);return e=e.write(l),e.data+='_100x100.jpg" alt="\u624b\u673a\u6dd8\u5b9d\u626b\u7801"/>\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      ',e}function n(a,e,r){var o=a.data,t=a.affix;e.data+='\n  <div class="block-title">\n    <h3 style="border-bottom-color: ',u.line=8;var n=(c=t.color)!==r?c:(c=o.color)!==r?c:a.resolveLooseUp(["color"]);e=e.writeEscaped(n),e.data+='">\n      <a href="',u.line=9;var s=(c=t.link)!==r?c:(c=o.link)!==r?c:a.resolveLooseUp(["link"]);e=e.write(s),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var i=(c=t.img)!==r?c:(c=o.img)!==r?c:a.resolveLooseUp(["img"]);e=e.write(i),e.data+='_220x220.jpg" alt="';var d=(c=t.name)!==r?c:(c=o.name)!==r?c:a.resolveLooseUp(["name"]);e=e.writeEscaped(d),e.data+='"/></a>\n      ',u.line=10,u.line=10;var v=(c=t.qr)!==r?c:(c=o.qr)!==r?c:a.resolveLooseUp(["qr"]);return e=E.call(p,a,{params:[v],fn:l},e),e.data+="\n    </h3>\n  </div>\n  ",e}function s(a,e,r){var o=a.data,t=a.affix;e.data+="\n    ",u.line=24;var l=(c=t.text)!==r?c:(c=o.text)!==r?c:a.resolveLooseUp(["text"]),n=l;if(n){var s;s=L(p,a,{params:[" ","<br/>"]},e,["text","replace"]);var i=s;n=i}var d;d=y.call(p,a,{hash:[{key:["text"],value:n,depth:0}]},e);var v=d;e=e.writeEscaped(v),e.data+='\n    <a href="',u.line=25;var b=(c=t.link)!==r?c:(c=o.link)!==r?c:a.resolveLooseUp(["link"]);e=e.write(b),e.data+='" class="thumb-big"><img src="//g.alicdn.com/s.gif" data-src="';var m=(c=t.img)!==r?c:(c=o.img)!==r?c:a.resolveLooseUp(["img"]);e=e.write(m),e.data+='_200x200.jpg" alt="';var f=(c=t.text)!==r?c:(c=o.text)!==r?c:a.resolveLooseUp(["text"]);e=e.writeEscaped(f),e.data+='"/><span style="background-color:';var h=(c=t.color)!==r?c:(c=o.color)!==r?c:a.resolveLooseUp(["color"]);e=e.writeEscaped(h),e.data+=';">';var g=(c=t.text)!==r?c:(c=o.text)!==r?c:a.resolveLooseUp(["text"]);return e=e.write(g),e.data+="</span></a>\n    ",e}function i(a,e,r){var o=a.data,t=a.affix;e.data+='\n    <a href="',u.line=29;var l=(c=t.link)!==r?c:(c=o.link)!==r?c:a.resolveLooseUp(["link"]);e=e.write(l),e.data+='" class="thumb3-img';var n=(c=t.xindex)!==r?c:(c=o.xindex)!==r?c:a.resolveLooseUp(["xindex"]),s=n;s=n+2,e=e.writeEscaped(s),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var i=(c=t.img)!==r?c:(c=o.img)!==r?c:a.resolveLooseUp(["img"]);e=e.write(i),e.data+='_120x120.jpg" alt="';var d=(c=t.text)!==r?c:(c=o.text)!==r?c:a.resolveLooseUp(["text"]);e=e.writeEscaped(d),e.data+='"/><span>';var v=(c=t.text)!==r?c:(c=o.text)!==r?c:a.resolveLooseUp(["text"]);return e=e.writeEscaped(v),e.data+="</span></a>\n    ",e}function d(a,e,r){var o=a.data,t=a.affix;e.data+="\n    ",u.line=28,u.line=28;var l=(c=t.xindex)!==r?c:(c=o.xindex)!==r?c:a.resolveLooseUp(["xindex"]),n=l;return n=2>l,e=E.call(p,a,{params:[n],fn:i},e),e.data+="\n    ",e}{var c,v,p=this,b=p.root,m=p.buffer,f=p.scope,u=(p.runtime,p.name,p.pos),h=f.data,g=f.affix,x=b.nativeCommands,k=b.utils,L=k.callFn,U=(k.callDataFn,k.callCommand,x.range,x["void"],x.foreach,x.forin,x.each),w=x["with"],E=x["if"],y=x.set;x.include,x.parse,x.extend,x.block,x.macro,x["debugger"]}m.data+="";var q=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),_=q;if(_){var j=(c=g.head)!==a?null!=c?v=c[0]:c:(c=h.head)!==a?null!=c?v=c[0]:c:f.resolveLooseUp(["head",0]);_=j}var S;S=y.call(p,f,{hash:[{key:["head"],value:_,depth:0}]},m);var C=S;m=m.writeEscaped(C),m.data+="\n",u.line=2;var F=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),I=F;if(I){var K=(c=g.head)!==a?null!=c?v=c.bg:c:(c=h.head)!==a?null!=c?v=c.bg:c:f.resolveLooseUp(["head","bg"]);I=K}var N;N=y.call(p,f,{hash:[{key:["bg"],value:I,depth:0}]},m);var Y=N;m=m.writeEscaped(Y),m.data+="\n",u.line=3;var D=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]),M=D;if(M){var T=(c=g.head)!==a?null!=c?v=c.color:c:(c=h.head)!==a?null!=c?v=c.color:c:f.resolveLooseUp(["head","color"]);M=T}var A;A=y.call(p,f,{hash:[{key:["color"],value:M,depth:0}]},m);var P=A;m=m.writeEscaped(P),m.data+="\n",u.line=4;var G=(c=g.banner)!==a?c:(c=h.banner)!==a?c:f.resolveLooseUp(["banner"]),O=G;if(O){var R=(c=g.banner)!==a?null!=c?v=c[0]:c:(c=h.banner)!==a?null!=c?v=c[0]:c:f.resolveLooseUp(["banner",0]);O=R}var z;z=y.call(p,f,{hash:[{key:["banner"],value:O,depth:0}]},m);var B=z;m=m.writeEscaped(B),m.data+='\n<div data-mid="',u.line=5;var H=(c=g.mid)!==a?c:(c=h.mid)!==a?c:f.resolveLooseUp(["mid"]);m=m.writeEscaped(H),m.data+='" data-spm-ab="item-';var J=(c=g.spmab)!==a?c:(c=h.spmab)!==a?c:f.resolveLooseUp(["spmab"]);m=m.writeEscaped(J),m.data+='"';var Q=(c=g.baseid)!==a?c:(c=h.baseid)!==a?c:f.resolveLooseUp(["baseid"]);m=E.call(p,f,{params:[Q],fn:e},m),m.data+="";var V=(c=g.backup)!==a?c:(c=h.backup)!==a?c:f.resolveLooseUp(["backup"]);m=E.call(p,f,{params:[V],fn:r},m),m.data+=' class="blocks-item blocks-thumb3';var W=(c=g.bg)!==a?c:(c=h.bg)!==a?c:f.resolveLooseUp(["bg"]);m=E.call(p,f,{params:[W],fn:o},m),m.data+=" blocks-item-";var X=(c=g.index)!==a?c:(c=h.index)!==a?c:f.resolveLooseUp(["index"]);m=m.writeEscaped(X),m.data+='"';var Z=(c=g.bg)!==a?c:(c=h.bg)!==a?c:f.resolveLooseUp(["bg"]);m=E.call(p,f,{params:[Z],fn:t},m),m.data+=">\n  ",u.line=6,u.line=6;var $=(c=g.head)!==a?c:(c=h.head)!==a?c:f.resolveLooseUp(["head"]);m=w.call(p,f,{params:[$],fn:n},m),m.data+='\n  <div class="blocks-contain">\n    ',u.line=23,u.line=23;var aa=(c=g.banner)!==a?c:(c=h.banner)!==a?c:f.resolveLooseUp(["banner"]);m=w.call(p,f,{params:[aa],fn:s},m),m.data+="\n    ",u.line=27,u.line=27;var ea=(c=g.blockitem)!==a?c:(c=h.blockitem)!==a?c:f.resolveLooseUp(["blockitem"]);return m=U.call(p,f,{params:[ea],fn:d},m),m.data+="\n  </div>\n</div>\n",m};t.TPL_NAME=o.id||o.name}),KISSY.add("tb-mod/tbh-blocks/0.0.6/thumb4-xtpl",function(a,e,r,o){var t=o.exports=function(a){function e(a,e,r){var o=a.data,t=a.affix;e.data+=' data-baseid="';var l=(d=t.baseid)!==r?d:(d=o.baseid)!==r?d:a.resolveLooseUp(["baseid"]);return e=e.writeEscaped(l),e.data+='"',e}function r(a,e,r){var o=a.data,t=a.affix;e.data+=' data-backup="';var l=(d=t.backup)!==r?d:(d=o.backup)!==r?d:a.resolveLooseUp(["backup"]);return e=e.writeEscaped(l),e.data+='"',e}function o(a,e,r){a.data,a.affix;return e.data+=" blocks-item-bg",e}function t(a,e,r){var o=a.data,t=a.affix;e.data+=' style="background-image:url(';var l=(d=t.bg)!==r?d:(d=o.bg)!==r?d:a.resolveLooseUp(["bg"]);return e=e.write(l),e.data+=')"',e}function l(a,e,r){var o=a.data,t=a.affix;e.data+='\n      <span class="blocks-qr">\n        <i class="tb-icon">&#xe610;</i>\n        <span>\n          <img src="//g.alicdn.com/s.gif" data-src="',f.line=13;var l=(d=t.qr)!==r?d:(d=o.qr)!==r?d:a.resolveLooseUp(["qr"]);return e=e.write(l),e.data+='_100x100.jpg" alt="\u624b\u673a\u6dd8\u5b9d\u626b\u7801"/>\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      ',e}function n(a,e,r){var o=a.data,t=a.affix;e.data+='\n  <div class="block-title">\n    <h3 style="border-bottom-color: ',f.line=7;var n=(d=t.color)!==r?d:(d=o.color)!==r?d:a.resolveLooseUp(["color"]);e=e.writeEscaped(n),e.data+='">\n      <a href="',f.line=8;var s=(d=t.link)!==r?d:(d=o.link)!==r?d:a.resolveLooseUp(["link"]);e=e.write(s),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var i=(d=t.img)!==r?d:(d=o.img)!==r?d:a.resolveLooseUp(["img"]);e=e.write(i),e.data+='_220x220.jpg" alt="';var c=(d=t.name)!==r?d:(d=o.name)!==r?d:a.resolveLooseUp(["name"]);e=e.writeEscaped(c),e.data+='"/></a>\n      ',f.line=9,f.line=9;var p=(d=t.qr)!==r?d:(d=o.qr)!==r?d:a.resolveLooseUp(["qr"]);return e=U.call(v,a,{params:[p],fn:l},e),e.data+="\n    </h3>\n  </div>\n  ",e}function s(a,e,r){var o=a.data,t=a.affix;e.data+='\n    <a href="',f.line=24;var l=(d=t.link)!==r?d:(d=o.link)!==r?d:a.resolveLooseUp(["link"]);e=e.write(l),e.data+='" class="thumb4-img';var n=(d=t.xindex)!==r?d:(d=o.xindex)!==r?d:a.resolveLooseUp(["xindex"]),s=n;s=n+1,e=e.writeEscaped(s),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var i=(d=t.img)!==r?d:(d=o.img)!==r?d:a.resolveLooseUp(["img"]);e=e.write(i),e.data+='_120x120.jpg" alt="';var c=(d=t.text)!==r?d:(d=o.text)!==r?d:a.resolveLooseUp(["text"]);e=e.writeEscaped(c),e.data+='"/><span>';var v=(d=t.text)!==r?d:(d=o.text)!==r?d:a.resolveLooseUp(["text"]);return e=e.writeEscaped(v),e.data+="</span></a>\n    ",e}function i(a,e,r){var o=a.data,t=a.affix;e.data+="\n    ",f.line=23,f.line=23;var l=(d=t.xindex)!==r?d:(d=o.xindex)!==r?d:a.resolveLooseUp(["xindex"]),n=l;return n=4>l,e=U.call(v,a,{params:[n],fn:s},e),e.data+="\n    ",e}{var d,c,v=this,p=v.root,b=v.buffer,m=v.scope,f=(v.runtime,v.name,v.pos),u=m.data,h=m.affix,g=p.nativeCommands,x=p.utils,k=(x.callFn,x.callDataFn,x.callCommand,g.range,g["void"],g.foreach,g.forin,g.each),L=g["with"],U=g["if"],w=g.set;g.include,g.parse,g.extend,g.block,g.macro,g["debugger"]}b.data+="";var E=(d=h.head)!==a?d:(d=u.head)!==a?d:m.resolveLooseUp(["head"]),y=E;if(y){var q=(d=h.head)!==a?null!=d?c=d[0]:d:(d=u.head)!==a?null!=d?c=d[0]:d:m.resolveLooseUp(["head",0]);y=q}var _;_=w.call(v,m,{hash:[{key:["head"],value:y,depth:0}]},b);var j=_;b=b.writeEscaped(j),b.data+="\n",f.line=2;var S=(d=h.head)!==a?d:(d=u.head)!==a?d:m.resolveLooseUp(["head"]),C=S;if(C){var F=(d=h.head)!==a?null!=d?c=d.bg:d:(d=u.head)!==a?null!=d?c=d.bg:d:m.resolveLooseUp(["head","bg"]);C=F}var I;I=w.call(v,m,{hash:[{key:["bg"],value:C,depth:0}]},b);var K=I;b=b.writeEscaped(K),b.data+="\n",f.line=3;var N=(d=h.head)!==a?d:(d=u.head)!==a?d:m.resolveLooseUp(["head"]),Y=N;if(Y){var D=(d=h.head)!==a?null!=d?c=d.color:d:(d=u.head)!==a?null!=d?c=d.color:d:m.resolveLooseUp(["head","color"]);Y=D}var M;M=w.call(v,m,{hash:[{key:["color"],value:Y,depth:0}]},b);var T=M;b=b.writeEscaped(T),b.data+='\n<div data-mid="',f.line=4;var A=(d=h.mid)!==a?d:(d=u.mid)!==a?d:m.resolveLooseUp(["mid"]);b=b.writeEscaped(A),b.data+='" data-spm-ab="item-';var P=(d=h.spmab)!==a?d:(d=u.spmab)!==a?d:m.resolveLooseUp(["spmab"]);b=b.writeEscaped(P),b.data+='"';var G=(d=h.baseid)!==a?d:(d=u.baseid)!==a?d:m.resolveLooseUp(["baseid"]);b=U.call(v,m,{params:[G],fn:e},b),b.data+="";var O=(d=h.backup)!==a?d:(d=u.backup)!==a?d:m.resolveLooseUp(["backup"]);b=U.call(v,m,{params:[O],fn:r},b),b.data+=' class="blocks-item blocks-thumb4';var R=(d=h.bg)!==a?d:(d=u.bg)!==a?d:m.resolveLooseUp(["bg"]);b=U.call(v,m,{params:[R],fn:o},b),b.data+=" blocks-item-";var z=(d=h.index)!==a?d:(d=u.index)!==a?d:m.resolveLooseUp(["index"]);b=b.writeEscaped(z),b.data+='"';var B=(d=h.bg)!==a?d:(d=u.bg)!==a?d:m.resolveLooseUp(["bg"]);b=U.call(v,m,{params:[B],fn:t},b),b.data+=">\n  ",f.line=5,f.line=5;var H=(d=h.head)!==a?d:(d=u.head)!==a?d:m.resolveLooseUp(["head"]);b=L.call(v,m,{params:[H],fn:n},b),b.data+='\n  <div class="blocks-contain">\n    ',f.line=22,f.line=22;var J=(d=h.blockitem)!==a?d:(d=u.blockitem)!==a?d:m.resolveLooseUp(["blockitem"]);return b=k.call(v,m,{params:[J],fn:i},b),b.data+="\n  </div>\n</div>\n",b};t.TPL_NAME=o.id||o.name}),KISSY.add("tb-mod/tbh-blocks/0.0.6/text-xtpl",function(a,e,r,o){var t=o.exports=function(a){function e(a,e,r){var o=a.data,t=a.affix;e.data+=' data-baseid="';var l=(v=t.baseid)!==r?v:(v=o.baseid)!==r?v:a.resolveLooseUp(["baseid"]);return e=e.writeEscaped(l),e.data+='"',e}function r(a,e,r){var o=a.data,t=a.affix;e.data+=' data-backup="';var l=(v=t.backup)!==r?v:(v=o.backup)!==r?v:a.resolveLooseUp(["backup"]);return e=e.writeEscaped(l),e.data+='"',e}function o(a,e,r){a.data,a.affix;return e.data+=" blocks-item-bg",e}function t(a,e,r){var o=a.data,t=a.affix;e.data+=' style="background-image:url(';var l=(v=t.bg)!==r?v:(v=o.bg)!==r?v:a.resolveLooseUp(["bg"]);return e=e.write(l),e.data+=')"',e}function l(a,e,r){var o=a.data,t=a.affix;e.data+='\n      <span class="blocks-qr">\n        <i class="tb-icon">&#xe610;</i>\n        <span>\n          <img src="//g.alicdn.com/s.gif" data-src="',h.line=13;var l=(v=t.qr)!==r?v:(v=o.qr)!==r?v:a.resolveLooseUp(["qr"]);return e=e.write(l),e.data+='_100x100.jpg" alt="\u624b\u673a\u6dd8\u5b9d\u626b\u7801"/>\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      ',e}function n(a,e,r){var o=a.data,t=a.affix;e.data+='\n  <div class="block-title">\n    <h3 style="border-bottom-color: ',h.line=7;var n=(v=t.color)!==r?v:(v=o.color)!==r?v:a.resolveLooseUp(["color"]);e=e.writeEscaped(n),e.data+='">\n      <a href="',h.line=8;var s=(v=t.link)!==r?v:(v=o.link)!==r?v:a.resolveLooseUp(["link"]);e=e.write(s),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var i=(v=t.img)!==r?v:(v=o.img)!==r?v:a.resolveLooseUp(["img"]);e=e.write(i),e.data+='_220x220.jpg" alt="';var d=(v=t.name)!==r?v:(v=o.name)!==r?v:a.resolveLooseUp(["name"]);e=e.writeEscaped(d),e.data+='"/></a>\n      ',h.line=9,h.line=9;var c=(v=t.qr)!==r?v:(v=o.qr)!==r?v:a.resolveLooseUp(["qr"]);return e=E.call(b,a,{params:[c],fn:l},e),e.data+="\n    </h3>\n  </div>\n  ",e}function s(a,e,r){var o=a.data,t=a.affix;e.data+='\n    <div class="btext-box">\n      <a href="',h.line=25;var l=(v=t.link)!==r?v:(v=o.link)!==r?v:a.resolveLooseUp(["link"]);e=e.write(l),e.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var n=(v=t.img)!==r?v:(v=o.img)!==r?v:a.resolveLooseUp(["img"]);e=e.write(n),e.data+='_120x120.jpg" alt="';var s=(v=t.name)!==r?v:(v=o.name)!==r?v:a.resolveLooseUp(["name"]);e=e.writeEscaped(s),e.data+='"/>\n        <strong>',h.line=26;var i=(v=t.name)!==r?v:(v=o.name)!==r?v:a.resolveLooseUp(["name"]);e=e.writeEscaped(i),e.data+="</strong>\n        <em>",h.line=27;var d=(v=t.sub)!==r?v:(v=o.sub)!==r?v:a.resolveLooseUp(["sub"]);return e=e.writeEscaped(d),e.data+="</em>\n      </a>\n    </div>\n    ",e}function i(a,e,r){var o=a.data,t=a.affix;e.data+="\n    ",h.line=23,h.line=23;var l=(v=t.xindex)!==r?v:(v=o.xindex)!==r?v:a.resolveLooseUp(["xindex"]),n=l;return n=2>l,e=E.call(b,a,{params:[n],fn:s},e),e.data+="\n    ",e}function d(a,e,r){var o=a.data,t=a.affix;e.data+='\n    <a href="',h.line=36;var l=(v=t.link)!==r?v:(v=o.link)!==r?v:a.resolveLooseUp(["link"]);e=e.write(l),e.data+='">';var n=(v=t.text)!==r?v:(v=o.text)!==r?v:a.resolveLooseUp(["text"]);return e=e.writeEscaped(n),e.data+="</a>\n    ",e}function c(a,e,r){var o=a.data,t=a.affix;e.data+="\n    ",h.line=35,h.line=35;var l=(v=t.xindex)!==r?v:(v=o.xindex)!==r?v:a.resolveLooseUp(["xindex"]),n=l;return n=6>l,e=E.call(b,a,{params:[n],fn:d},e),e.data+="\n    ",e}{var v,p,b=this,m=b.root,f=b.buffer,u=b.scope,h=(b.runtime,b.name,b.pos),g=u.data,x=u.affix,k=m.nativeCommands,L=m.utils,U=(L.callFn,L.callDataFn,L.callCommand,k.range,k["void"],k.foreach,k.forin,k.each),w=k["with"],E=k["if"],y=k.set;k.include,k.parse,k.extend,k.block,k.macro,k["debugger"]}f.data+="";var q=(v=x.head)!==a?v:(v=g.head)!==a?v:u.resolveLooseUp(["head"]),_=q;if(_){var j=(v=x.head)!==a?null!=v?p=v[0]:v:(v=g.head)!==a?null!=v?p=v[0]:v:u.resolveLooseUp(["head",0]);_=j}var S;S=y.call(b,u,{hash:[{key:["head"],value:_,depth:0}]},f);var C=S;f=f.writeEscaped(C),f.data+="\n",h.line=2;var F=(v=x.head)!==a?v:(v=g.head)!==a?v:u.resolveLooseUp(["head"]),I=F;if(I){var K=(v=x.head)!==a?null!=v?p=v.bg:v:(v=g.head)!==a?null!=v?p=v.bg:v:u.resolveLooseUp(["head","bg"]);I=K}var N;N=y.call(b,u,{hash:[{key:["bg"],value:I,depth:0}]},f);var Y=N;f=f.writeEscaped(Y),f.data+="\n",h.line=3;var D=(v=x.head)!==a?v:(v=g.head)!==a?v:u.resolveLooseUp(["head"]),M=D;if(M){var T=(v=x.head)!==a?null!=v?p=v.color:v:(v=g.head)!==a?null!=v?p=v.color:v:u.resolveLooseUp(["head","color"]);M=T}var A;A=y.call(b,u,{hash:[{key:["color"],value:M,depth:0}]},f);var P=A;f=f.writeEscaped(P),f.data+='\n<div data-mid="',h.line=4;var G=(v=x.mid)!==a?v:(v=g.mid)!==a?v:u.resolveLooseUp(["mid"]);f=f.writeEscaped(G),f.data+='" data-spm-ab="item-';var O=(v=x.spmab)!==a?v:(v=g.spmab)!==a?v:u.resolveLooseUp(["spmab"]);f=f.writeEscaped(O),f.data+='"';var R=(v=x.baseid)!==a?v:(v=g.baseid)!==a?v:u.resolveLooseUp(["baseid"]);f=E.call(b,u,{params:[R],fn:e},f),f.data+="";var z=(v=x.backup)!==a?v:(v=g.backup)!==a?v:u.resolveLooseUp(["backup"]);f=E.call(b,u,{params:[z],fn:r},f),f.data+=' class="blocks-item blocks-text';var B=(v=x.bg)!==a?v:(v=g.bg)!==a?v:u.resolveLooseUp(["bg"]);f=E.call(b,u,{params:[B],fn:o},f),f.data+=" blocks-item-";var H=(v=x.index)!==a?v:(v=g.index)!==a?v:u.resolveLooseUp(["index"]);f=f.writeEscaped(H),f.data+='"';var J=(v=x.bg)!==a?v:(v=g.bg)!==a?v:u.resolveLooseUp(["bg"]);f=E.call(b,u,{params:[J],fn:t},f),f.data+=">\n  ",h.line=5,h.line=5;var Q=(v=x.head)!==a?v:(v=g.head)!==a?v:u.resolveLooseUp(["head"]);f=w.call(b,u,{params:[Q],fn:n},f),f.data+='\n  <div class="blocks-contain">\n    ',h.line=22,h.line=22;var V=(v=x.blockitem)!==a?v:(v=g.blockitem)!==a?v:u.resolveLooseUp(["blockitem"]);f=U.call(b,u,{params:[V],fn:i},f),f.data+='\n  </div>\n  <div class="blocks-links">\n    ',h.line=34,h.line=34;var W=(v=x.blocklinks)!==a?v:(v=g.blocklinks)!==a?v:u.resolveLooseUp(["blocklinks"]);return f=U.call(b,u,{params:[W],fn:c},f),f.data+="\n  </div>\n</div>\n",f};t.TPL_NAME=o.id||o.name}),KISSY.add("tb-mod/tbh-blocks/0.0.6/index",["webp","node","personality","./thumbtext-xtpl","./thumb3-xtpl","./thumb4-xtpl","./text-xtpl"],function(a,e){function r(a){this.init(a)}var o=e("webp"),t=e("node"),l=t.all,n=e("personality"),s=e("./thumbtext-xtpl"),i=e("./thumb3-xtpl"),d=e("./thumb4-xtpl"),c=e("./text-xtpl");return r.prototype.init=function(a){new n({box:a,contain:".blocks",appids:[2804,2805,2806],xtplFun:[c,s,i,d],renderCallback:this.render,bindCallback:this.bind})},r.prototype.render=function(a,e){var r=e.pData.recItemList;KISSY.each(a.blockitem,function(e,o){r[o]&&r[o].picUrl&&r[o].clickUrl&&(a.blockitem[o].img=r[o].picUrl,a.blockitem[o].link=r[o].clickUrl)})},r.prototype.bind=function(a,e){a.el.one(".blocks-bd").html(e),o(a.el.all("h3 a img, .blocks-contain img"),null,"IGNORE"),a.el.delegate("mouseenter",".blocks-qr",function(a){var e=l(a.currentTarget);"1"!=e.attr("loaded")&&(o(e.one("img"),null,"IGNORE"),e.attr("loaded","1"))}),a.el.fire("M:load")},r});KISSY.add("tb-mod/tbh-blocks-sh/0.0.15/item-xtpl",function(e,a,n,o){var i=o.exports=function(e){function a(e,a,n){var o=e.data,i=e.affix;a.data+=' data-baseid="';var l=(s=i.baseid)!==n?s:(s=o.baseid)!==n?s:e.resolveLooseUp(["baseid"]);return a=a.writeEscaped(l),a.data+='"',a}function n(e,a,n){var o=e.data,i=e.affix;a.data+=' data-backup="';var l=(s=i.backup)!==n?s:(s=o.backup)!==n?s:e.resolveLooseUp(["backup"]);return a=a.writeEscaped(l),a.data+='"',a}function o(e,a,n){var o=e.data,i=e.affix;a.data+='\n      <span class="blocksh-qr">\n        <i class="tb-icon">&#xe610;</i>\n        <span>\n          <img src="//g.alicdn.com/s.gif" data-src="',v.line=15;var l=(s=i.qr)!==n?s:(s=o.qr)!==n?s:e.resolveLooseUp(["qr"]);return a=a.write(l),a.data+='_100x100.jpg" alt="\u624b\u673a\u6dd8\u5b9d\u626b\u7801"/>\n          <em>\u624b\u673a\u6dd8\u5b9d\u626b\u7801</em>\n        </span>\n      </span>\n      ',a}function i(e,a,n){var i=e.data,l=e.affix;a.data+='\n  <div class="blocksh-title">\n    <h3>\n      <a href="',v.line=10;var r=(s=l.link)!==n?s:(s=i.link)!==n?s:e.resolveLooseUp(["link"]);a=a.write(r),a.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var t=(s=l.img)!==n?s:(s=i.img)!==n?s:e.resolveLooseUp(["img"]);a=a.write(t),a.data+='_110x110.jpg" alt="';var c=(s=l.name)!==n?s:(s=i.name)!==n?s:e.resolveLooseUp(["name"]);a=a.writeEscaped(c),a.data+='"/></a>\n      ',v.line=11,v.line=11;var p=(s=l.qr)!==n?s:(s=i.qr)!==n?s:e.resolveLooseUp(["qr"]);return a=U.call(d,e,{params:[p],fn:o},a),a.data+="\n    </h3>\n  </div>\n  ",a}function l(e,a,n){var o=e.data,i=e.affix;a.data+='\n  <div class="start-time">',v.line=25;var l=(s=i.info)!==n?null!=s?t=s.startTimeDesc:s:(s=o.info)!==n?null!=s?t=s.startTimeDesc:s:e.resolveLooseUp(["info","startTimeDesc"]);a=a.writeEscaped(l),a.data+='</div>\n  <div class="bsh-contain render-per" data-name="',v.line=26;var r=(s=i.name)!==n?s:(s=o.name)!==n?s:e.resolveLooseUp(["name"]);a=a.writeEscaped(r),a.data+='">\n    <a href="',v.line=27;var d=(s=i.info)!==n?null!=s?t=s.link:s:(s=o.info)!==n?null!=s?t=s.link:s:e.resolveLooseUp(["info","link"]);a=a.write(d),a.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var c=(s=i.info)!==n?null!=s?t=s.img:s:(s=o.info)!==n?null!=s?t=s.img:s:e.resolveLooseUp(["info","img"]);a=a.write(c),a.data+='_120x120.jpg" alt="';var p=(s=i.info)!==n?null!=s?t=s.name:s:(s=o.info)!==n?null!=s?t=s.name:s:e.resolveLooseUp(["info","name"]);a=a.writeEscaped(p),a.data+='"/></a>\n    <a class="name-link" href="',v.line=28;var f=(s=i.info)!==n?null!=s?t=s.link:s:(s=o.info)!==n?null!=s?t=s.link:s:e.resolveLooseUp(["info","link"]);a=a.write(f),a.data+='">\n      <h4>',v.line=29;var m=(s=i.info)!==n?null!=s?t=s.itemName:s:(s=o.info)!==n?null!=s?t=s.itemName:s:e.resolveLooseUp(["info","itemName"]);a=a.writeEscaped(m),a.data+='</h4>\n    </a>\n    <span class="price"><span>&yen;</span>',v.line=31;var u=(s=i.info)!==n?null!=s?t=s.actPrice:s:(s=o.info)!==n?null!=s?t=s.actPrice:s:e.resolveLooseUp(["info","actPrice"]);a=a.writeEscaped(u),a.data+='</span>\n    <span class="sold-count">\u5df2\u62a2\u8d2d',v.line=32;var h=(s=i.info)!==n?null!=s?t=s.soldCount:s:(s=o.info)!==n?null!=s?t=s.soldCount:s:e.resolveLooseUp(["info","soldCount"]);return a=a.writeEscaped(h),a.data+="\u4ef6</span>\n  </div>\n  ",a}function r(e,a,n){var o=e.data,i=e.affix;a.data+='\n  <div class="bsh-contain" data-name="',v.line=35;var l=(s=i.name)!==n?s:(s=o.name)!==n?s:e.resolveLooseUp(["name"]);a=a.writeEscaped(l),a.data+='">\n    <a href="',v.line=36;var r=(s=i.info)!==n?null!=s?t=s.link:s:(s=o.info)!==n?null!=s?t=s.link:s:e.resolveLooseUp(["info","link"]);a=a.write(r),a.data+='"><img src="//g.alicdn.com/s.gif" data-src="';var d=(s=i.info)!==n?null!=s?t=s.img:s:(s=o.info)!==n?null!=s?t=s.img:s:e.resolveLooseUp(["info","img"]);a=a.write(d),a.data+='_120x120.jpg" alt="';var c=(s=i.info)!==n?null!=s?t=s.name:s:(s=o.info)!==n?null!=s?t=s.name:s:e.resolveLooseUp(["info","name"]);a=a.writeEscaped(c),a.data+='"/></a>\n    <span>',v.line=37;var p=(s=i.info)!==n?null!=s?t=s.name:s:(s=o.info)!==n?null!=s?t=s.name:s:e.resolveLooseUp(["info","name"]);a=a.writeEscaped(p),a.data+="</span>\n    <em>",v.line=38;var f=(s=i.info)!==n?null!=s?t=s.sub:s:(s=o.info)!==n?null!=s?t=s.sub:s:e.resolveLooseUp(["info","sub"]);a=a.writeEscaped(f),a.data+='</em>\n    <a href="',v.line=39;var m=(s=i.info)!==n?null!=s?t=s.link:s:(s=o.info)!==n?null!=s?t=s.link:s:e.resolveLooseUp(["info","link"]);a=a.write(m),a.data+='" class="bsh-btn" style="border-color:';var u=(s=i.head)!==n?null!=s?t=s.color:s:(s=o.head)!==n?null!=s?t=s.color:s:e.resolveLooseUp(["head","color"]);a=a.writeEscaped(u),a.data+=";color:";var h=(s=i.head)!==n?null!=s?t=s.color:s:(s=o.head)!==n?null!=s?t=s.color:s:e.resolveLooseUp(["head","color"]);a=a.writeEscaped(h),a.data+=';">';var b=(s=i.info)!==n?null!=s?t=s.tag:s:(s=o.info)!==n?null!=s?t=s.tag:s:e.resolveLooseUp(["info","tag"]);return a=a.writeEscaped(b),a.data+="</a>\n  </div>\n  ",a}{var s,t,d=this,c=d.root,p=d.buffer,f=d.scope,v=(d.runtime,d.name,d.pos),m=f.data,u=f.affix,h=c.nativeCommands,b=c.utils,k=(b.callFn,b.callDataFn,b.callCommand,h.range,h["void"],h.foreach,h.forin,h.each,h["with"]),U=h["if"],L=h.set;h.include,h.parse,h.extend,h.block,h.macro,h["debugger"]}p.data+="";var g=(s=u.head)!==e?s:(s=m.head)!==e?s:f.resolveLooseUp(["head"]),w=g;if(w){var E=(s=u.head)!==e?null!=s?t=s[0]:s:(s=m.head)!==e?null!=s?t=s[0]:s:f.resolveLooseUp(["head",0]);w=E}var x;x=L.call(d,f,{hash:[{key:["head"],value:w,depth:0}]},p);var y=x;p=p.writeEscaped(y),p.data+="\n",v.line=2;var C=(s=u.head)!==e?s:(s=m.head)!==e?s:f.resolveLooseUp(["head"]),P=C;if(P){var q=(s=u.head)!==e?null!=s?t=s.color:s:(s=m.head)!==e?null!=s?t=s.color:s:f.resolveLooseUp(["head","color"]);P=q}var D;D=L.call(d,f,{hash:[{key:["color"],value:P,depth:0}]},p);var N=D;p=p.writeEscaped(N),p.data+='\n<div data-mid="',v.line=3;var T=(s=u.mid)!==e?s:(s=m.mid)!==e?s:f.resolveLooseUp(["mid"]);p=p.writeEscaped(T),p.data+='" data-spm-ab="item-';var _=(s=u.spmab)!==e?s:(s=m.spmab)!==e?s:f.resolveLooseUp(["spmab"]);p=p.writeEscaped(_),p.data+='"\n  ',v.line=4;var j=(s=u.baseid)!==e?s:(s=m.baseid)!==e?s:f.resolveLooseUp(["baseid"]);p=U.call(d,f,{params:[j],fn:a},p),p.data+="\n  ",v.line=5;var I=(s=u.backup)!==e?s:(s=m.backup)!==e?s:f.resolveLooseUp(["backup"]);p=U.call(d,f,{params:[I],fn:n},p),p.data+='\n  class="blocksh-item blocksh-item-',v.line=6;var S=(s=u.index)!==e?s:(s=m.index)!==e?s:f.resolveLooseUp(["index"]);p=p.writeEscaped(S),p.data+='">\n  ',v.line=7,v.line=7;var F=(s=u.head)!==e?s:(s=m.head)!==e?s:f.resolveLooseUp(["head"]);p=k.call(d,f,{params:[F],fn:i},p),p.data+="\n  ",v.line=23;var K=(s=u.info)!==e?s:(s=m.info)!==e?s:f.resolveLooseUp(["info"]),M=K;if(M){var Y=(s=u.info)!==e?null!=s?t=s[0]:s:(s=m.info)!==e?null!=s?t=s[0]:s:f.resolveLooseUp(["info",0]);M=Y}var A;A=L.call(d,f,{hash:[{key:["info"],value:M,depth:0}]},p);var G=A;p=p.writeEscaped(G),p.data+="\n  ",v.line=24,v.line=24;var O=(s=u.info)!==e?null!=s?t=s.renderPer:s:(s=m.info)!==e?null!=s?t=s.renderPer:s:f.resolveLooseUp(["info","renderPer"]);return p=U.call(d,f,{params:[O],fn:l,inverse:r},p),p.data+="\n</div>\n",p};i.TPL_NAME=o.id||o.name}),KISSY.add("tb-mod/tbh-blocks-sh/0.0.15/index",["io","webp","node","./item-xtpl","personality"],function(e,a){function n(e){this.init(e)}var o=(a("io"),a("webp")),i=a("node"),l=a("./item-xtpl"),r=a("personality");return n.prototype.init=function(e){new r({box:e,contain:".blocksh",appids:2803,xtplFun:l,renderCallback:this.render,bindCallback:this.bind})},n.prototype.render=function(e,a){var n=a.pData.recItemList,o="false"===e.info[0].inter||e.info[0].inter===!1;n&&n[0]&&n[0].picUrl&&n[0].clickUrl&&o&&(e.info[0].img=n[0].picUrl,e.info[0].link=n[0].clickUrl);var i="true"===a.perLayout||1===a.perLayout||a.perLayout===!0;if(i&&o&&n&&n[0]){var l=n[0];l.picUrl&&l.clickUrl&&l.startTimeDesc&&l.actPrice&&l.soldCount&&l.itemName&&(e.info[0].img=l.picUrl,e.info[0].link=l.clickUrl,e.info[0].itemName=l.itemName,e.info[0].startTimeDesc=l.startTimeDesc,e.info[0].actPrice=l.actPrice,e.info[0].soldCount=l.soldCount,e.info[0].renderPer=!0)}},n.prototype.bind=function(e,a){e.el.one(".blocksh-bd").html(a);var n=e.el.all(".blocksh-item").item(0),l=e.el.all(".blocksh-item").item(4);i.one(n).addClass("blocksh-stretch"),i.one(l).addClass("blocksh-stretch"),o(e.el.all("h3 a img, .bsh-contain img"),null,"IGNORE"),e.el.delegate("mouseenter",".blocksh-qr",function(e){var a=i.one(e.currentTarget);"1"!=a.attr("loaded")&&(o(a.one("img")),a.attr("loaded","1"))}),e.el.fire("M:load")},n});KISSY.add("tb-mod/tbh-ald/0.0.1/index",["node","aladdin"],function(n,d){var a=d("node"),o=d("aladdin"),e=function(n){new o(n,function(){a.one(n).fire("M:load")})};return e});